/*!CK:1513005345!*//*1420443166,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["2ooiq"]); }

__d("AdsBaseDataStore",["AdsBaseDataManager","AdsBaseStore","AdsCachedLoadState","AdsLoadState","AdsStoreUtils","Cache","ImmutableObject","abstractMethod","nullthrows"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';for(var p in h)if(h.hasOwnProperty(p))r[p]=h[p];var q=h===null?null:h.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=h;function r(){h.call(this);this.$AdsBaseDataStore0=new l();}r.prototype.getDataManager=function(){n('AdsBaseDataStore','getDataManager');return o(null);};r.prototype.get=function(s){return this.getAll([s]).get(s);};r.prototype.getCached=function(s){return this.getAllCached([s]).get(s);};r.prototype.getAll=function(s){var t=k.updateLoading(this.$AdsBaseDataStore0,s);if(t.length>0)this.getDataManager().loadAll(t);return this.getAllCached(s);};r.prototype.getAllCached=function(s){return this.$AdsBaseDataStore0.getAll(s,i.NOT_LOADED);};r.prototype.__updateLoading=function(s){return k.updateLoading(this.$AdsBaseDataStore0,s);};r.prototype.__invalidate=function(s){if(this.$AdsBaseDataStore0.has(s))return this.$AdsBaseDataStore0["delete"](s);return false;};r.prototype.__handleData=function(s,t){if(s&&s.size>0){s.forEach(function(u,v){var w=this.getCached(v),x;switch(t){case j.LOADED:x=Object.assign({loadState:t},u);break;case j.ERROR:x={loadState:t,error:u};if(w.loadState===j.LOADED)x.previousData=w;break;default:x={loadState:t};break;}this.$AdsBaseDataStore0.set(v,new m(x));}.bind(this));this.inform('change');}};e.exports=r;},null);