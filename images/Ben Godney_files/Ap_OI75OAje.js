/*!CK:2315527743!*//*1420478137,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["B2wJv"]); }

__d("XFeedInfiniteHscrollControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/feed\/infinite_hscroll\/",{ad_index_offset:{type:"Int",required:true},cursor:{type:"String"},requested_ad_type:{type:"Enum",required:true},scroll_body_id:{type:"String"},loading_card_id:{type:"String"},serialized_context:{type:"String"}});},null);
__d("CarouselInfiniteHScrollExtension",["Arbiter","AsyncRequest","XFeedInfiniteHscrollControllerURIBuilder"],function(a,b,c,d,e,f,g,h,i){'use strict';function j(k){this.$CarouselInfiniteHScrollExtension0=k;}j.prototype.init=function(k){this.$CarouselInfiniteHScrollExtension1=k;this.$CarouselInfiniteHScrollExtension1.getArbiter().subscribe('onBeforeTransition',this.$CarouselInfiniteHScrollExtension2.bind(this),g.SUBSCRIBE_NEW);g.subscribe('DesktopInfiniteHscroll/newOffscreenItems',this.$CarouselInfiniteHScrollExtension3.bind(this),g.SUBSCRIBE_NEW);};j.prototype.$CarouselInfiniteHScrollExtension2=function(k,l){this.fetchAdditionalAdsIfNecessary();};j.prototype.fetchAdditionalAdsIfNecessary=function(){var k=this.$CarouselInfiniteHScrollExtension1.getNumItems()-this.$CarouselInfiniteHScrollExtension1.getLastVisibleIndex();if(k>this.$CarouselInfiniteHScrollExtension0.loadingThreshold)return;this.$CarouselInfiniteHScrollExtension4();};j.prototype.$CarouselInfiniteHScrollExtension4=function(){if(this.$CarouselInfiniteHScrollExtension5)return;this.$CarouselInfiniteHScrollExtension5=true;var k=new i().setString('serialized_context',this.$CarouselInfiniteHScrollExtension0.serializedContext).setEnum('requested_ad_type',this.$CarouselInfiniteHScrollExtension0.adType).setString('scroll_body_id',this.$CarouselInfiniteHScrollExtension6()).setInt('ad_index_offset',this.$CarouselInfiniteHScrollExtension1.getNumItems());new h().setURI(k.getURI()).setHandler(function(l){this.$CarouselInfiniteHScrollExtension5=false;this.$CarouselInfiniteHScrollExtension1.refreshPagerState();}.bind(this)).setErrorHandler(function(l){}.bind(this)).send();};j.prototype.$CarouselInfiniteHScrollExtension3=function(k,l){if(l.unitID!==this.$CarouselInfiniteHScrollExtension6())return;if(l.renderedItems.length)this.$CarouselInfiniteHScrollExtension1.addOffscreenItems(l.renderedItems);};j.prototype.$CarouselInfiniteHScrollExtension6=function(){return this.$CarouselInfiniteHScrollExtension1.getID();};e.exports=j;},null);
__d("CollapseExposedTextOnTransition",["CSS","DOMQuery","csx"],function(a,b,c,d,e,f,g,h,i){function j(){"use strict";}j.prototype.init=function(k){"use strict";this.$CollapseExposedTextOnTransition0=k;this.$CollapseExposedTextOnTransition0.getArbiter().subscribe('onBeforeTransition',this.$CollapseExposedTextOnTransition1.bind(this));};j.prototype.$CollapseExposedTextOnTransition1=function(k,l){"use strict";var m=h.scry(l.item.ad,"div._5pbx .text_exposed.text_exposed_root");m.forEach(function(n){g.removeClass(n,'text_exposed');});};e.exports=j;},null);
__d("DesktopAutoScrollViewportTracking",["csx","debounce","DOM","DOMQuery","Event","ViewportTracking"],function(a,b,c,d,e,f,g,h,i,j,k,l){for(var m in l)if(l.hasOwnProperty(m))o[m]=l[m];var n=l===null?null:l.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=l;function o(){"use strict";if(l!==null)l.apply(this,arguments);}o.prototype.getDataFromConfig=function(p){"use strict";this.timeout=p.record_delay;};o.prototype.getTimeout=function(){"use strict";return this.timeout;};o.prototype.getAllStories=function(){"use strict";return i.scry(document.body,"div._1yj5");};o.prototype.getStoryID=function(p){"use strict";var q=j.scry(p,"^._5pat")[0],r=q.getAttribute('id');return r;};o.prototype.getDataToLog=function(p){"use strict";return {ft:{}};};o.prototype.sendDataToLog=function(p,q,r,s){"use strict";};o.prototype.$DesktopAutoScrollViewportTracking0=function(p){"use strict";p=p.map(function(s){return this.getStoryID(s);},this);var q=this.getAllStories(),r=q.filter(function(s){return p.indexOf(this.getStoryID(s))===-1&&this.hasBeenVisible(this.getStoryID(s));},this);return r;};o.prototype.$DesktopAutoScrollViewportTracking1=function(p){"use strict";for(var q=0;q<p.length;++q){var r=p[q],s=this.getStoryID(r);if(this.$DesktopAutoScrollViewportTracking2[s]){clearTimeout(this.$DesktopAutoScrollViewportTracking2[s]);this.$DesktopAutoScrollViewportTracking2[s]=null;}}};o.prototype.$DesktopAutoScrollViewportTracking3=function(p,q){"use strict";return function(){if(!this.isVisible(q))this.$DesktopAutoScrollViewportTracking4[p]();};};o.prototype.$DesktopAutoScrollViewportTracking5=function(p){"use strict";p.forEach(function(q){var r=this.getStoryID(q);if(this.$DesktopAutoScrollViewportTracking4[r]&&!this.$DesktopAutoScrollViewportTracking2[r]){var s=this.$DesktopAutoScrollViewportTracking3(r,q).bind(this);this.$DesktopAutoScrollViewportTracking2[r]=setTimeout(s,this.autoScrollTimeout);}},this);};o.prototype.addOnAutoScrollListener=function(p,q){"use strict";this.$DesktopAutoScrollViewportTracking4[p]=q;};o.prototype.$DesktopAutoScrollViewportTracking6=function(){"use strict";var p=this.getStoriesInViewIgnoreHeight();this.$DesktopAutoScrollViewportTracking1(p);var q=this.$DesktopAutoScrollViewportTracking0(p);this.$DesktopAutoScrollViewportTracking5(q);};o.prototype.initSubscriber=function(){"use strict";var p=h(this.$DesktopAutoScrollViewportTracking6.bind(this),this.timeout,this);this.subscriptions.addSubscriptions(k.listen(window,'scroll',p));};o.prototype.init=function(p){"use strict";p.waterfall_logging=false;n.init.call(this,p);this.$DesktopAutoScrollViewportTracking4={};this.$DesktopAutoScrollViewportTracking2={};this.autoScrollTimeout=p.auto_scroll_timeout;this.initSubscriber();};e.exports={init:function(p){o.instance=new o();o.instance.init(p);},getInstance:function(){return o.instance;}};},null);
__d("DesktopCarouselAutoScroller",["DesktopAutoScrollViewportTracking"],function(a,b,c,d,e,f,g){'use strict';h.prototype.$DesktopCarouselAutoScroller0=function(){this.$DesktopCarouselAutoScroller1.scrollToNextItem();};function h(i){this.$DesktopCarouselAutoScroller2={auto_scroll_timeout:i,record_delay:100};}h.prototype.init=function(i){this.$DesktopCarouselAutoScroller1=i;if(!g.getInstance())g.init(this.$DesktopCarouselAutoScroller2);g.getInstance().addOnAutoScrollListener(this.$DesktopCarouselAutoScroller1.getID(),this.$DesktopCarouselAutoScroller0.bind(this));};e.exports=h;},null);
__d("DesktopHScrollAutoScroller",["DesktopAutoScrollViewportTracking"],function(a,b,c,d,e,f,g){h.prototype.$DesktopHScrollAutoScroller0=function(){"use strict";this.$DesktopHScrollAutoScroller1.getPager().getPagerButtons().inform('next');};function h(i){"use strict";this.$DesktopHScrollAutoScroller2={auto_scroll_timeout:i,record_delay:100};}h.prototype.init=function(i){"use strict";this.$DesktopHScrollAutoScroller1=i;if(!g.getInstance())g.init(this.$DesktopHScrollAutoScroller2);g.getInstance().addOnAutoScrollListener(this.$DesktopHScrollAutoScroller1.getID(),this.$DesktopHScrollAutoScroller0.bind(this));};e.exports=h;},null);
__d("DesktopHscrollCarousel",["Animation","Arbiter","CSS","DesktopHscrollUnitEventConstants","DOM","DOMQuery","Ease","Event","TidyArbiterMixin","csx","cx","mixin","tidyEvent"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=438,u=22,v=r(o);for(var w in v)if(v.hasOwnProperty(w))y[w]=v[w];var x=v===null?null:v.prototype;y.prototype=Object.create(x);y.prototype.constructor=y;y.__superConstructor__=v;function y(z,aa,ba){"use strict";this.$DesktopHscrollCarousel0=z.node;this.$DesktopHscrollCarousel1=z.grid;this.$DesktopHscrollCarousel2=z.prev_link;this.$DesktopHscrollCarousel3=z.next_link;this.$DesktopHscrollCarousel4=z.prev_pager;this.$DesktopHscrollCarousel5=z.next_pager;this.$DesktopHscrollCarousel6=ba;this.$DesktopHscrollCarousel7=0;this.$DesktopHscrollCarousel8=new h();this.$DesktopHscrollCarousel9=0;this.$DesktopHscrollCarousela=l.find(this.$DesktopHscrollCarousel0,"^div._5jmm");aa.forEach(function(ca){ca.init(this);},this);s([n.listen(this.$DesktopHscrollCarousel2,'click',this.$DesktopHscrollCarouselb.bind(this)),n.listen(this.$DesktopHscrollCarousel2,'mouseenter',this.$DesktopHscrollCarouselc.bind(this)),n.listen(this.$DesktopHscrollCarousel2,'mouseleave',this.$DesktopHscrollCarouseld.bind(this)),n.listen(this.$DesktopHscrollCarousel3,'click',this.$DesktopHscrollCarousele.bind(this)),n.listen(this.$DesktopHscrollCarousel3,'mouseenter',this.$DesktopHscrollCarouself.bind(this)),n.listen(this.$DesktopHscrollCarousel3,'mouseleave',this.$DesktopHscrollCarouselg.bind(this)),n.listen(this.$DesktopHscrollCarousel4,'click',this.$DesktopHscrollCarouselb.bind(this)),n.listen(this.$DesktopHscrollCarousel4,'mouseenter',this.$DesktopHscrollCarouselc.bind(this)),n.listen(this.$DesktopHscrollCarousel4,'mouseleave',this.$DesktopHscrollCarouseld.bind(this)),n.listen(this.$DesktopHscrollCarousel5,'click',this.$DesktopHscrollCarousele.bind(this)),n.listen(this.$DesktopHscrollCarousel5,'mouseenter',this.$DesktopHscrollCarouself.bind(this)),n.listen(this.$DesktopHscrollCarousel5,'mouseleave',this.$DesktopHscrollCarouselg.bind(this))]);this.refresh();}y.prototype.getLastVisibleIndex=function(){"use strict";return this.$DesktopHscrollCarousel7+1;};y.prototype.getArbiter=function(){"use strict";return this.$DesktopHscrollCarousel8;};y.prototype.getCurrentOnscreenAd=function(){"use strict";return this.$DesktopHscrollCarousel1.childNodes[this.$DesktopHscrollCarousel7];};y.prototype.getNumItems=function(){"use strict";return this.$DesktopHscrollCarousel1.childNodes.length;};y.prototype.scrollToNextItem=function(){"use strict";this.$DesktopHscrollCarousele();};y.prototype.refresh=function(){"use strict";this.refreshPagerState();this.$DesktopHscrollCarousel8.inform('onShow',{item:{ad:this.$DesktopHscrollCarousel1.childNodes[this.$DesktopHscrollCarousel7]},index:this.$DesktopHscrollCarousel7+1},h.BEHAVIOR_EVENT);for(var z=0;z<this.$DesktopHscrollCarousel1.childNodes.length;z++){i.conditionClass(this.$DesktopHscrollCarousel1.childNodes[z],"desktop_hscroll_offscreen",z!=this.$DesktopHscrollCarousel7);i.conditionClass(this.$DesktopHscrollCarousel1.childNodes[z],"desktop_hscroll_onscreen",z==this.$DesktopHscrollCarousel7);}h.inform(j.HSCROLL_ITEM_SHOWN_EVENT);};y.prototype.refreshPagerState=function(){"use strict";i.conditionClass(this.$DesktopHscrollCarousel0,"_594p",!this.$DesktopHscrollCarouselh());i.conditionClass(this.$DesktopHscrollCarousel0,"_594q",!this.$DesktopHscrollCarouseli());};y.prototype.addOffscreenItems=function(z){"use strict";var aa=this.getNumItems();k.appendContent(this.$DesktopHscrollCarousel1,z);if(aa==this.getLastVisibleIndex()){this.$DesktopHscrollCarouselj(0,1*u);i.removeClass(this.$DesktopHscrollCarousel0,"_594u");}this.refreshPagerState();};y.prototype.getID=function(){"use strict";return this.$DesktopHscrollCarousela.id;};y.prototype.$DesktopHscrollCarouselk=function(){"use strict";return this.getNumItems()-this.getLastVisibleIndex();};y.prototype.$DesktopHscrollCarousell=function(){"use strict";return this.$DesktopHscrollCarousel7;};y.prototype.$DesktopHscrollCarouselh=function(){"use strict";return this.$DesktopHscrollCarousell()>0;};y.prototype.$DesktopHscrollCarouseli=function(){"use strict";return this.$DesktopHscrollCarouselk()>0;};y.prototype.$DesktopHscrollCarousele=function(){"use strict";if(!this.$DesktopHscrollCarouseli())return;var z=0;if(this.$DesktopHscrollCarousell()===0){i.removeClass(this.$DesktopHscrollCarousel0,"_594r");z+=-1*u;}if(this.$DesktopHscrollCarouselk()<=1){i.addClass(this.$DesktopHscrollCarousel0,"_594u");z+=-1*u;}this.$DesktopHscrollCarouselj(Math.min(this.$DesktopHscrollCarouselk(),1),z);};y.prototype.$DesktopHscrollCarouself=function(){"use strict";i.conditionClass(this.$DesktopHscrollCarousel0,"_595n",this.$DesktopHscrollCarousel6&&this.$DesktopHscrollCarouseli());};y.prototype.$DesktopHscrollCarouselg=function(){"use strict";if(this.$DesktopHscrollCarousel6)i.removeClass(this.$DesktopHscrollCarousel0,"_595n");};y.prototype.$DesktopHscrollCarouselb=function(){"use strict";if(!this.$DesktopHscrollCarouselh())return;var z=0;if(this.$DesktopHscrollCarousell()<=1){i.addClass(this.$DesktopHscrollCarousel0,"_594r");z+=u;}if(this.$DesktopHscrollCarouselk()===0){i.removeClass(this.$DesktopHscrollCarousel0,"_594u");z+=u;}this.$DesktopHscrollCarouselj(-1*Math.min(this.$DesktopHscrollCarousell(),1),z);};y.prototype.$DesktopHscrollCarouselc=function(){"use strict";i.conditionClass(this.$DesktopHscrollCarousel0,"_595o",this.$DesktopHscrollCarousel6&&this.$DesktopHscrollCarouselh());};y.prototype.$DesktopHscrollCarouseld=function(){"use strict";if(this.$DesktopHscrollCarousel6)i.removeClass(this.$DesktopHscrollCarousel0,"_595o");};y.prototype.$DesktopHscrollCarouselj=function(z,aa,ba){"use strict";if(z)this.$DesktopHscrollCarousel8.inform('onBeforeTransition',{item:{ad:this.$DesktopHscrollCarousel1.childNodes[this.$DesktopHscrollCarousel7]}},h.BEHAVIOR_EVENT);this.$DesktopHscrollCarousel7+=z;if(!aa)aa=0;this.$DesktopHscrollCarousel9-=z*t+aa;if(!ba)ba=350*Math.abs(z);var ca=this.$DesktopHscrollCarousel0;i.addClass(ca,"_595p");new g(this.$DesktopHscrollCarousel1).to('left',this.$DesktopHscrollCarousel9).duration(ba).ease(m.sineOut).ondone(function(){i.removeClass(ca,"_595p");if(z)this.refresh();}.bind(this)).go();if(z)this.inform('onSlide');};e.exports=y;},null);
__d("FormatLinkShareAttachmentExtension",["Arbiter","CSS","DOM","DOMQuery","LitestandEllipsis","csx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=22,n=2;function o(){"use strict";}o.prototype.init=function(p){"use strict";this.$FormatLinkShareAttachmentExtension0={0:true};this.$FormatLinkShareAttachmentExtension1=p;this.$FormatLinkShareAttachmentExtension1.getArbiter().subscribe('onShow',this.$FormatLinkShareAttachmentExtension2.bind(this),g.SUBSCRIBE_NEW);};o.prototype.$FormatLinkShareAttachmentExtension2=function(p,q){"use strict";if(this.$FormatLinkShareAttachmentExtension0[q.index])return;this.$FormatLinkShareAttachmentExtension0[q.index]=true;var r=i.scry(q.item.ad,"div._6m2")[0];if(!r)return;var s=i.scry(r,"._6m6")[0];if(!s)return;var t=s.offsetHeight/m;if(t>=n){k.add(s,n*m);var u=j.scry(r,"._6m7")[0];h.hide(u);}};e.exports=o;},null);
__d("HideUFIOnTransitionExtension",["Arbiter","CSS","DOMQuery","csx"],function(a,b,c,d,e,f,g,h,i,j){function k(){"use strict";}k.prototype.init=function(l){"use strict";this.$HideUFIOnTransitionExtension0=l;this.$HideUFIOnTransitionExtension0.getArbiter().subscribe('onBeforeTransition',this.$HideUFIOnTransitionExtension1.bind(this),g.SUBSCRIBE_NEW);};k.prototype.$HideUFIOnTransitionExtension1=function(l,m){"use strict";var n=i.scry(m.item.ad,"form.commentable_item");n.forEach(function(o){h.addClass(o,'collapsed_comments');h.addClass(o,'hidden_add_comment');});};e.exports=k;},null);
__d("PageLikeAdCarouselScrollOnLikeExtension",["Arbiter","PageLikeButton"],function(a,b,c,d,e,f,g,h){var i=750;function j(){"use strict";}j.prototype.init=function(k){"use strict";this.$PageLikeAdCarouselScrollOnLikeExtension0=k;g.subscribe(h.LIKED,this.$PageLikeAdCarouselScrollOnLikeExtension1.bind(this),g.SUBSCRIBE_NEW);};j.prototype.$PageLikeAdCarouselScrollOnLikeExtension1=function(k,l){"use strict";var m=this.$PageLikeAdCarouselScrollOnLikeExtension0.getCurrentOnscreenAd().getAttribute('data-oid');if(l.profile_id!=m)return;setTimeout(function(){this.$PageLikeAdCarouselScrollOnLikeExtension0.scrollToNextItem();}.bind(this),i);};e.exports=j;},null);