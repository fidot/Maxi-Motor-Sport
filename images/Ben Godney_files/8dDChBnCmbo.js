/*!CK:3617787862!*//*1420842916,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["bLY2K"]); }

__d("AdsCMHelpContentTags",[],function(a,b,c,d,e,f){e.exports={NEW_AM_SAFE:"251106041751253",NEW_AM_GLOSSARY_DEFINITION:"1533385446883759",NEW_AM_FUNDAMENTAL:"626485620784022",NEW_AM_GLOSSARY_DEFINITION_FEATURED:"719184221507020",NEW_AM_MANAGE_ADS_OVERVIEW:"1535058110048469",NEW_AM_CAMPAIGNS_PAGE:"1449224105346673",NEW_AM_AD_SETS_PAGE:"242837075925848",NEW_AM_ADS_PAGE:"197640223739527",NEW_AM_BILLING_SUMMARY:"699204346835594",NEW_AM_BILLING_ACCOUNT_SPENDING_LIMIT:"1481056118800261",NEW_AM_PAYMENT_METHOD:"731452676922063",NEW_AM_AUDIENCE_MANAGER:"277554895784188",NEW_AM_CONVERSION_TRACKING:"313435938818211",NEW_AM_ACCOUNT_SETTINGS:"280454682140725",NEW_AM_BULK_EDIT:"811902048833750",NEW_AM_DRAFTS:"694321407315692",NEW_AM_FILTERS:"582576598535657",NEW_AM_REPORTING:"1516819648552802",NEW_AM_AD_CREATION_OBJECTIVES:"501629219971817",NEW_AM_AD_CREATION_TARGETING:"311984392317366",NEW_AM_AD_CREATION_CREATIVE:"334898546685655",NEW_AM_AD_CREATION_BUDGET_SCHEDULE:"259877880803006",NEW_AM_AD_CREATION_ACCOUNT:"336250179874370"};},null);
__d("ApiVideoStatuses",[],function(a,b,c,d,e,f){e.exports={READY:"ready",PROCESSING:"processing",ERROR:"error"};},null);
__d("BusinessAccountActivityLoggerDomain",[],function(a,b,c,d,e,f){e.exports={ADS_CREATE_FLOW:"Ads Create Flow",ADS_MANAGER:"Ads Manager",BUSINESS_MANAGER:"Business Manager",LIGHTWEIGHT_INTERFACES:"Lightweight Interfaces",PAGE:"Page",POWER_EDITOR:"Power Editor"};},null);
__d("BusinessAccountActivityLoggerEvent",[],function(a,b,c,d,e,f){e.exports={AD_CREATE:"Ad Create",AD_MANAGE:"Ad Manage",PAGE_CONTENT_MANAGEMENT:"Page Content Management",PAGE_CREATE:"Page Create",PAGE_MANAGEMENT:"Page Management",PAGE_POST:"Page Post"};},null);
__d("CROWAdTags",[],function(a,b,c,d,e,f){e.exports={IMAGE_TEXTOVERLAY_CHECK_WARNING:"z_ad_image_textoverlay_check_warning"};},null);
__d("AdsCommonLocalMapUtils",[],function(a,b,c,d,e,f){'use strict';var g={KILOMETERS_TO_METERS:1000,MILES_TO_METERS:1609.34,ZOOM_MAX:20,ZOOM_MIN:1,getBestZoom:function(h,i,j,k,l){var m=h/180*Math.PI,n=Math.min(j,k),o=60000/800*n/l*Math.cos(m),p=function(r){return Math.log(r)/Math.LN2;},q=10+Math.floor(p(o));return q;}};e.exports=g;},null);
__d("AdsCommonLocalMapStore",["AdsBaseStore","AdsCommonGeocoderStore","AdsCommonLocalMapUtils","AdsDispatcher","AdsMapActionTypes","CurrentLocale","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){'use strict';var n='canonical-id',o,p={zoomLevel:null,lastGoodAddressMapData:null};function q(){o={};r(n);}function r(ca){o[ca]=Object.assign({},p);}function s(ca){if(o[ca]&&o[ca].zoomLevel&&o[ca].zoomLevel<i.ZOOM_MAX){o[ca].zoomLevel+=1;return true;}return false;}function t(ca){if(o[ca]&&o[ca].zoomLevel&&o[ca].zoomLevel>i.ZOOM_MIN){o[ca].zoomLevel-=1;return true;}return false;}function u(ca){if(o[ca]&&o[ca].zoomLevel){o[ca].zoomLevel=null;return true;}return false;}q();var v=function(ca,da,ea,fa,ga,ha,ia,ja){var ka=new m('https://www.facebook.com/static_map.php').addQueryData('format','jpg').addQueryData('language',l.get()),la=false;if(ia){ka.addQueryData('bbox',ia.latitudeNorth+','+ia.longitudeWest+'|'+ia.latitudeSouth+','+ia.longitudeEast);}else{ka.addQueryData('center',ca+','+da);la=true;if(ja)ka.addQueryData('markers',ca+','+da);}if(ea>0&&fa>0)ka.addQueryData('size',ea+'x'+fa);ha=Math.round(ha);if(ha>0&&la){if(ja)ka.addQueryData('circle','weight:1|color:0x4D6AA495|fillcolor:0x4D6AA430|'+ca+','+da+'|'+ha);if(!o[ga].zoomLevel)o[ga].zoomLevel=i.getBestZoom(ca,da,ea,fa,ha);ka.addQueryData('zoom',o[ga].zoomLevel);}return ka;};function w(ca,da,ea,fa){var ga=ea.addressString;if(!ga)return null;var ha=ea,ia=o[fa].lastGoodAddressMapData,ja=true;if(!ea.latitude&&!ea.longitude){ha=h.getAddressCoordinates(ga,fa);ja=!!ha.isValid;if(ha.isFetching||!ha.isValid)if(ia){ha=ia;}else return null;}if(!ia||(ia.addressStr!==ga))o[fa].lastGoodAddressMapData=Object.assign({addressStr:ga},ha);var ka;if(ea.distanceUnit==='kilometer'){ka=ea.radius*i.KILOMETERS_TO_METERS;}else ka=ea.radius*i.MILES_TO_METERS;return v(ha.latitude,ha.longitude,ca,da,fa,ka,null,ja);}function x(ca,da,ea,fa){var ga;if(ea&&ea.countries)ga=ea.countries[0];if(!ga)ga='US';var ha=h.getCountryBoundingBox(ga);if(ha.isFetching)return null;if(!ha.isValid)ha=h.getUSABoundingBox();var ia=v(0,0,ca,da,fa,0,ha);return ia;}for(var y in g)if(g.hasOwnProperty(y))aa[y]=g[y];var z=g===null?null:g.prototype;aa.prototype=Object.create(z);aa.prototype.constructor=aa;aa.__superConstructor__=g;function aa(){g.call(this);this.clearAllState=q;this.clearState=r;}aa.prototype.getStoreName=function(){return 'AdsCommonLocalMapStore';};aa.prototype.onDispatchToken=function(ca){var da=ca.action,ea=da.targetingID||n,fa=false;switch(da.actionType){case k.MAP_DATA_RESET:this.clearState(ea);break;case k.MAP_ZOOM_IN:fa=s(ea);break;case k.MAP_ZOOM_OUT:fa=t(ea);break;case k.MAP_ZOOM_RESET:u(ea);break;case k.BOUNDING_BOX_LOADED:j.waitFor([h.dispatchToken]);u(ea);fa=!!o[ea];break;}if(fa)ba.inform('change');};aa.prototype.getLastGoodMapImageURI=function(ca,da,ea,fa,ga){ga=ga||n;if(!o[ga])r(ga);var ha=w(ca,da,ea,ga);if(ha)return ha;return x(ca,da,fa,ga);};aa.prototype.isZoomChangeable=function(ca){ca=ca||n;return !!(o[ca]&&o[ca].zoomLevel);};var ba=new aa();e.exports=ba;},null);
__d("AdsCFXObjectiveSelector.react",["AdsCreationExperiments","AdsObjectivesConfig","Event","Keys","LeftRight.react","React","ReactLayeredComponentMixin","XUIContextualDialog.react","XUIText.react","cx","fbt","invariant","joinClasses","arrayContains","ads-objectives"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';var u=l.PropTypes,v='MORE_OBJECTIVES',w=b('ads-objectives').KPIObjectives,x=[],y=l.createClass({displayName:"KPIObjectiveItem",propTypes:{hidden:u.bool,disabled:u.bool,isFocusable:u.bool,isSelected:u.bool,showArrow:u.bool,showChevron:u.bool,showHighlight:u.bool,className:u.string,kpiObjective:function(aa,ba,ca){var da=aa[ba];r(h.isValid(da));}},render:function(){var aa=this.props.kpiObjective,ba=this.props.hidden||!this.props.isFocusable||this.props.disabled,ca,da;if(aa){ca=h.getCssClassName(aa);da=h.getObjectivePhrase(aa);}else{ca=null;da="No Objective Selected";}var ea;if(this.props.showHighlight&&t(x,aa))ea=l.createElement(o,{className:"_3m41",weight:"bold"},"New");return (l.createElement("li",{className:s((("_5ikd")+(this.props.isSelected?' '+"selected":'')+(this.props.hidden?' '+"_5qtd":'')+(this.props.disabled?' '+"_30v6":'')),this.props.className),"data-kpi":this.props.kpiObjective,onMouseEnter:this.props.onMouseEnter,tabIndex:ba?'-1':'0'},l.createElement("label",null,l.createElement(k,null,l.createElement("div",null,l.createElement("div",{className:s("_5ike",ca)}),da),ea)),l.createElement("div",{className:((this.props.showArrow?"_5ikf":'')+(this.props.showChevron?' '+"_30v7":''))})));}}),z=l.createClass({displayName:"AdsCFXObjectiveSelector",mixins:[m],propTypes:{isKPIObjectiveConfirmed:u.bool.isRequired,kpiObjective:u.string,kpiObjectives:u.arrayOf(u.string).isRequired,collapseOnSelect:u.bool,enabledObjectives:u.arrayOf(u.string),readOnly:u.bool,focusOnMount:u.bool,hideTooltips:u.bool,highlightNewObjectives:u.bool,className:u.string,objectiveClassName:u.string,onObjectiveChanged:u.func,onExpanded:u.func,onShowMoreClick:u.func,onCollapsed:u.func},getInitialState:function(){return {hoveredKPIObjective:null,showObjectiveTooltip:false,isExpanded:!this._shouldShowMoreButton(),isCollapsed:(this.props.collapseOnSelect&&!!this.props.kpiObjective)||this.props.readOnly};},componentWillReceiveProps:function(aa){if(!this.state.isExpanded&&aa.kpiObjective&&h.isHiddenByDefault(aa.kpiObjective))this.setState({isExpanded:true});if(!this.props.readOnly&&aa.readOnly)this.collapse();},componentDidMount:function(){if(!this.props.isKPIObjectiveConfirmed&&this.props.focusOnMount){var aa=this.refs.initialFocus.getDOMNode();aa&&aa.focus&&aa.focus();}},renderLayers:function(){if(this.state.isCollapsed||this.props.hideTooltips)return {};var aa=this.state.hoveredKPIObjective;if(!aa||aa===v)return {};return {objectiveTooltip:l.createElement(n,{contextRef:'item_'+aa,shown:this.state.showObjectiveTooltip,position:"right",width:280},l.createElement("div",{className:"_53iv"},h.getSelectorTooltipForReskinV1(aa)))};},_renderItems:function(){if(this.state.isCollapsed){return this._renderCollapsedItem();}else return this._renderExpandedItems();},_renderCollapsedItem:function(){var aa=this.props.kpiObjective;if(this.props.readOnly&&!aa)aa=this.props.enabledObjectives[0];return [l.createElement(y,{isFocusable:!this.props.isKPIObjectiveConfirmed,key:aa,kpiObjective:aa,showChevron:!this.props.readOnly,showHighlight:this.props.highlightNewObjectives,className:this.props.objectiveClassName})];},_renderExpandedItems:function(){var aa=[],ba=[],ca=[],da=[],ea=[];this.props.kpiObjectives.forEach(function(fa){var ga=!this.state.isExpanded&&h.isHiddenByDefault(fa),ha=this.props.enabledObjectives&&this.props.enabledObjectives.indexOf(fa)===-1,ia=this.props.kpiObjective===fa,ja;if(this.props.collapseOnSelect&&ia){ja=da;}else if(ga){ja=ca;}else if(ha){ja=ea;}else ja=ba;ja.push(l.createElement(y,{hidden:ga,disabled:ha,isFocusable:!this.props.isKPIObjectiveConfirmed,isSelected:fa===this.props.kpiObjective,key:fa,kpiObjective:fa,onMouseEnter:this._handleObjectiveHover,ref:'item_'+fa,showArrow:!this.props.collapseOnSelect,showHighlight:this.props.highlightNewObjectives,className:this.props.objectiveClassName}));},this);aa=aa.concat(da,ba,ea);if(!this.state.isExpanded)aa.push(this._renderMoreObjectives());return aa.concat(ca);},render:function(){var aa=this.props.kpiObjective,ba=(("_5ikg")+(!!aa?' '+"_30v8":'')+(!!aa&&this.props.isKPIObjectiveConfirmed?' '+"_5iki":'')+(this.props.collapseOnSelect?' '+"_30v9":'')+(this.state.isCollapsed?' '+"_30vb":'')+(!this.state.isCollapsed?' '+"_30vc":'')+(this.props.readOnly?' '+"_30vd":''));return (l.createElement("div",{className:s(ba,this.props.className)},l.createElement("div",{tabIndex:this.props.isKPIObjectiveConfirmed?'-1':'0',ref:"initialFocus"}),l.createElement("ul",{className:"_5jnh",ref:"objectiveList",onClick:this._handleClick,onKeyDown:this._handleKeyDown,onMouseLeave:this._hideObjectiveHelp},this._renderItems())));},_renderMoreObjectives:function(){return (l.createElement("li",{ref:'item_'+v,key:v,tabIndex:"0","data-kpi":v,className:s((("_5ikd")+(' '+"_5qte")),this.props.objectiveClassName),onClick:this._handleShowMoreObjectivesClick,onMouseEnter:this._handleObjectiveHover},l.createElement("label",null,"See More",l.createElement("i",{className:"_5qtf"}))));},_shouldShowMoreButton:function(){return this.props.kpiObjectives.some(h.isHiddenByDefault);},_handleShowMoreObjectivesClick:function(event){this.setState({isExpanded:true},function(){this._handleFocusMove(v,0);});this.props.onShowMoreClick&&this.props.onShowMoreClick();},_getKPIObjectiveForEventSource:function(aa){var ba=this.refs.objectiveList.getDOMNode(),ca;while(!ca&&aa&&(aa!==ba)){ca=aa.getAttribute('data-kpi');aa=aa.parentNode;}return ca;},_handleClick:function(event){if(this.state.isCollapsed){this._handleListDropdown(event);}else this._handleObjectiveClick(event);},_handleObjectiveClick:function(event){var aa=this._getKPIObjectiveForEventSource(event.target);if(!aa)return;this._handleObjectiveChange(aa);this._hideObjectiveHelp();},_handleListDropdown:function(event){this.expand();},_handleKeyDown:function(event){var aa=this._getKPIObjectiveForEventSource(event.target);if(!aa)return;var ba=i.getKeyCode(event);switch(ba){case j.RETURN:this._handleObjectiveChange(aa);i.prevent(event);break;case j.UP:this._handleFocusMove(aa,-1);i.prevent(event);break;case j.DOWN:this._handleFocusMove(aa,1);i.prevent(event);break;}},_handleFocusMove:function(aa,ba){var ca=this.props.kpiObjectives,da;if(aa===v){if(ba>0)return;var ea=ca.length;for(var fa=ca.length-1;fa>=0;fa--){var ga=ca[fa];if(h.isValid(ga)&&!h.isHiddenByDefault(ga))break;ea=fa;}da=ca[ea+ba];}else{var ha=ca.indexOf(aa);r(ha>=0);da=ca[ha+ba];}if(!this.state.isExpanded&&h.isValid(da)&&h.isHiddenByDefault(da))da=v;this._focusOnObjective(da);},_focusOnObjective:function(aa){if(!aa)return;var ba=this.refs['item_'+aa],ca=ba&&ba.getDOMNode();ca&&ca.focus&&ca.focus();},_handleObjectiveChange:function(aa){if(aa===v){this._handleShowMoreObjectivesClick();return;}if(aa!==this.props.kpiObjective){var ba=this.props.onObjectiveChanged;ba&&ba(aa);}if(this.props.collapseOnSelect)this.collapse();},_hideObjectiveHelp:function(){this.setState({showObjectiveTooltip:false});},_handleObjectiveHover:function(event){var aa=this._getKPIObjectiveForEventSource(event.target);this.setState({hoveredKPIObjective:aa,showObjectiveTooltip:true});},collapse:function(){this.setState({isCollapsed:true});if(this.props.onCollapsed)this.props.onCollapsed();},expand:function(){this.setState({isCollapsed:false});if(this.props.onExpanded)this.props.onExpanded();}});e.exports=z;},null);
__d("AdsContextualHint.react",["Button.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j){'use strict';var k=h.createClass({displayName:"AdsContextualHint",propTypes:{buttonLabel:h.PropTypes.string,footerContent:h.PropTypes.node,title:h.PropTypes.string,noFooter:h.PropTypes.bool,onClick:h.PropTypes.func},getDefaultProps:function(){return {buttonLabel:"OK",footerContent:null,noFooter:false};},render:function(){return (h.createElement("div",null,h.createElement("div",{className:"_45bn"},h.createElement("div",{className:"fwb pbs"},this.props.title),this.props.children),this.props.noFooter?null:h.createElement("div",{className:"uiOverlayFooter _572u uiBoxGray topborder"},h.createElement("div",{className:"_45bo"},this.props.footerContent),h.createElement(g,{className:"uiOverlayButton",label:this.props.buttonLabel,onClick:this.props.onClick,use:"confirm"}))));}});e.exports=k;},null);
__d("AdsDialog.react",["React","ReactLayeredComponentMixin","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","cloneWithProps","emptyFunction","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=g.PropTypes,r=g.createClass({displayName:"AdsDialog",mixins:[h],propTypes:{buttonSpecs:q.array,clickableTrigger:q.element.isRequired,hideOnBlur:q.bool,renderWhenHidden:q.bool,title:q.node,width:q.number.isRequired,showCloseButton:q.bool,onShow:q.func,onConfirm:q.func,onCancel:q.func},getDefaultProps:function(){return {buttonSpecs:[],hideOnBlur:true,renderWhenHidden:true,showCloseButton:true,onShow:o,onConfirm:o,onCancel:o};},getInitialState:function(){return {dialogShown:false};},componentWillMount:function(){this._validateTrigger(this.props.clickableTrigger);},componentWillReceiveProps:function(s){if(s.clickableTrigger!==this.props.clickableTrigger)this._validateTrigger(s.clickableTrigger);},_validateTrigger:function(s){p(!s.props.onClick);},showDialog:function(){this.setState({dialogShown:true});},hideDialog:function(){if(this.isMounted())this.setState({dialogShown:false});},render:function(){return n(this.props.clickableTrigger,{onClick:this.showDialog});},renderLayers:function(){if(!this.props.renderWhenHidden&&!this.state.dialogShown)return {};return {dialog:g.createElement(i,g.__spread({},this.props,{layerHideOnBlur:this.props.hideOnBlur,shown:this.state.dialogShown,onToggle:this._onToggle}),g.createElement(m,{showCloseButton:this.props.showCloseButton},this.props.title),g.createElement(j,{useCustomPadding:true},this.props.children),this._renderDialogFooter())};},_renderDialogFooter:function(){if(this.props.buttonSpecs.length===0)return null;var s=0,t=this.props.buttonSpecs.map(function(u){if(u.action==='confirm')u.onClick=this._onConfirmClick;u.key=u.key||s++;return g.createElement(k,g.__spread({},u));}.bind(this));return g.createElement(l,null,t);},_onToggle:function(s){if(s){this._isConfirm=false;this.props.onShow();}else{setTimeout(this.hideDialog,0);if(!this._isConfirm)this.props.onCancel();}},_onConfirmClick:function(){this._isConfirm=true;this.hideDialog();this.props.onConfirm();}});e.exports=r;},null);
__d("AdsTimestamp.react",["React","XUIDateTimePickerUtils","XUIText.react","cx","formatDate","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){'use strict';var m=g.PropTypes,n=g.createClass({displayName:"AdsTimestamp",propTypes:{date:m.instanceOf(Date).isRequired,dateFormat:m.string.isRequired,interval:m.number,label:m.string.isRequired,timezoneOffset:m.number.isRequired},_getTimeOffset:function(){var o=new Date();this._dateOffset=o-this.props.date;},_setInterval:function(){if(this._interval)clearInterval(this._interval);if(!!this.props.interval&&this.props.interval!==0)this._interval=setInterval(function(){this.setState({dateString:this._getDateString()});}.bind(this),this.props.interval);},getInitialState:function(){return {dateString:this._getDateString()};},_getDateString:function(){var o=new Date(),p=h.getOffsetUIDate(new Date(o.getTime()+this._dateOffset),this.props.timezoneOffset);return k(p,this.props.dateFormat,{utc:true});},componentDidMount:function(){this._getTimeOffset();this._setInterval();},componentDidUpdate:function(){this._getTimeOffset();this._setInterval();},componentWillUnmount:function(){clearInterval(this._interval);},render:function(){return (g.createElement("div",{className:l("_35e3",this.props.className)},g.createElement(i,{weight:"bold",display:"block"},this.props.label),g.createElement("div",{className:"_35e5"},this.state.dateString)));},_interval:null,_dateOffset:0});e.exports=n;},null);
__d("AdsFixedPositionContainer.react",["Event","React","Style","Vector","cx"],function(a,b,c,d,e,f,g,h,i,j,k){var l=h.PropTypes,m=250,n=h.createClass({displayName:"AdsFixedPositionContainer",propTypes:{attachTo:l.object.isRequired,getBottomOffset:l.func,getTopOffset:l.func,bottomOffset:l.number,topOffset:l.number,width:l.oneOfType([l.string,l.number])},getInitialState:function(){return {containerFixed:false,topOffset:this._getTopOffset(),bottomOffset:this._getBottomOffset()};},componentDidMount:function(){this._node=this.refs.fixedNode.getDOMNode();this._nodeSize=j.getElementDimensions(this._node);this._parentNode=this.props.attachTo.getDOMNode();var o=i.getScrollParent(this._parentNode);g.listen(o,'scroll',this._handleChange);g.listen(window,'resize',this._handleChange);this._handleChange();},componentDidUpdate:function(){this._node=this.refs.fixedNode.getDOMNode();this._nodeSize=j.getElementDimensions(this._node);this._handleChange();},render:function(){return (h.createElement("div",{className:"_5c3u",style:{width:this._getWidth()}},h.createElement("div",{ref:"fixedNode",className:"_5xjq"},this.props.children)));},_handleChange:function(){if(!this.props.attachTo.isMounted())return;var o=j.getElementPosition(this._parentNode,'viewport'),p=j.getElementDimensions(this._parentNode),q=Math.max(0,Math.min(p.y-this._nodeSize.y-this._getBottomOffset(),this._getTopOffset()-o.y));i.apply(this._node,{top:q+'px'});},_getBottomOffset:function(){if(this.props.getBottomOffset)return this.props.getBottomOffset();return this.props.bottomOffset||0;},_getTopOffset:function(){if(this.props.getTopOffset)return this.props.getTopOffset();return this.props.topOffset||0;},_getWidth:function(){return this.props.width||m;}});e.exports=n;},null);
__d("AdsVideoUploadStatus",["keyMirror"],function(a,b,c,d,e,f,g){var h=g({NONE:null,UPLOADING:null,ENCODING:null,ERROR:null});e.exports=h;},null);
__d("AdsBidInfoWeights",[],function(a,b,c,d,e,f){var g={API_ACTIONS:'ACTIONS',API_CLICKS:'CLICKS',API_IMPRESSIONS:'IMPRESSIONS',API_REACH:'REACH',API_SOCIAL:'SOCIAL',ACTIONS:55,REACH:44,CLICKS:1,IMPRESSIONS:37,SOCIAL:38},h={};h[g.ACTIONS]=g.API_ACTIONS;h[g.CLICKS]=g.API_CLICKS;h[g.IMPRESSIONS]=g.API_IMPRESSIONS;h[g.REACH]=g.API_REACH;h[g.SOCIAL]=g.API_SOCIAL;g.MIGRATION_MAP=h;g.convertBidInfoKeys=function(i){var j=Object.keys(i),k={};j.forEach(function(l){var m=h[l]||l,n=i[l];k[m]=n;});return k;};e.exports=g;},null);
__d("AdsContentFeedbackTypes",["ImmutableObject"],function(a,b,c,d,e,f,g){var h={APPROVE:'APPROVE',REJECT:'REJECT'};e.exports=new g(h);},null);
__d("AdsCFSectionLoader.react",["AdsCFSections","Bootloader","CenteredContainer.react","React","XUISpinner.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){'use strict';var m=j.PropTypes,n=j.createClass({displayName:"AdsCFSectionLoader",propTypes:{component:m.oneOf(Object.keys(g)).isRequired,hideSpinner:j.PropTypes.bool},getInitialState:function(){return {sectionContent:null};},_onLoad:function(o){this.setState({sectionContent:o});},componentWillMount:function(){if(g[this.props.component]){this._onLoad(g[this.props.component]);return;}switch(this.props.component){case 'AdsCFCampaignSection':h.loadModules(["AdsCFCampaignSection.react"],this._onLoad);break;case 'AdsCFCampaignPricingSection':h.loadModules(["AdsCFCampaignPricingSection.react"],this._onLoad);break;case 'AdsCFCreativeSection':h.loadModules(["AdsCFCreativeSection.react"],this._onLoad);break;case 'AdsCFLocalCampaignPricingSection':h.loadModules(["AdsCFLocalCampaignPricingSection.react"],this._onLoad);break;case 'AdsCFLocalTargetingSection':h.loadModules(["AdsCFLocalTargetingSection.react"],this._onLoad);break;case 'AdsCFPlaceOrderSection':h.loadModules(["AdsCFPlaceOrderSection.react"],this._onLoad);break;case 'AdsCFTargetingShellSection':h.loadModules(["AdsCFTargetingShellSection.react"],this._onLoad);break;case 'AdsCFObjectiveFieldsEditor':h.loadModules(["AdsCFObjectiveFieldsEditor.react"],this._onLoad);break;}},render:function(){if(!this.state.sectionContent){if(this.props.hideSpinner)return null;return (j.createElement(i,{className:"_2pi1",vertical:false},j.createElement(k,{size:"large"})));}var o=this.state.sectionContent;return j.createElement(o,j.__spread({},this.props));}});e.exports=n;},null);
__d("AdsCFAdNameUtils",["AdsCreationConfig","AdsObjectivesConfig","fbt","ads-objectives","ads-lib-formatters"],function(a,b,c,d,e,f,g,h,i){var j=b('ads-objectives').KPIObjectives,k=b('ads-lib-formatters').chopString,l=g.maxAdgroupNameLength,m='{DESTINATION_PLACEHOLDER}',n='{PAGE_POST_NAME_PLACEHOLDER}',o=i._("Post: \"{postName}\"",[i.param("postName",n)]),p=o.replace(n,'').length;function q(v,w,x,y){var z=' '+"-"+' ',aa=l-(v.length-m.length)-(y?z.length+y.length:0),ba;if(w===j.POST_ENGAGEMENT){ba=k(x,aa-p,'...');ba=o.replace(n,ba);}else ba=k(x,aa,'...');return v.replace(m,ba)+(y?z+y:'');}function r(v){return i._("Image {index}",[i.param("index",v)]);}function s(v,w,x){var y=v?h.getShortName(v):'';w=w||'';x=x||{};x.postContent=x.postContent||'';x.suffix=x.suffix||'';switch(v){case j.WEBSITE_CLICKS:case j.WEBSITE_CONVERSIONS:w=w.replace(/^https?:\/\//i,'');break;case j.POST_ENGAGEMENT:w=x.postContent;break;}var z=i._("{destination} - {objective}",[i.param("destination",m),i.param("objective",y)]);return q(z,v,w,x.suffix);}function t(v,w,x){return s(v,w,{postContent:x});}function u(v,w,x,y){return s(v,w,{postContent:x,suffix:r(y)});}e.exports={generateAdNameForKPIObjective:t,generateMultiImageAdName:u};},null);
__d("AdsCFAdNameStore",["AdsActionTypes","AdsBaseStore","AdsCFAdNameUtils","AdsCFActionTypes","AdsCFCreativeStore","AdsCFDestinationStore","AdsCFObjectiveStore","AdsCreativeUtils","AdsDispatcher"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p,q;function r(){p=null;q=null;}for(var s in h)if(h.hasOwnProperty(s))u[s]=h[s];var t=h===null?null:h.prototype;u.prototype=Object.create(t);u.prototype.constructor=u;u.__superConstructor__=h;function u(){"use strict";if(h!==null)h.apply(this,arguments);}u.prototype.getStoreName=function(){"use strict";return 'AdsCFAdNameStore';};u.prototype.deserialize=function(w){"use strict";return Object.keys(w).every(function(x){var y=w[x];switch(x){case 'adName':p=y;return true;case 'userAssignedAdName':q=y;return true;}return false;});};u.prototype.getAdName=function(){"use strict";return p;};u.prototype.getPrimaryAdName=function(){"use strict";if(q||q==='')return q;return p;};u.prototype.getMultiImageAdName=function(w){"use strict";return i.generateMultiImageAdName(m.getKPIObjective(),l.getDestinationDetails().destinationName,n.getPostContent(l.getPagePostDetails(k.getState().storyId)),w);};u.prototype.getUserAssignedAdName=function(){"use strict";return q;};u.prototype.onDispatchToken=function(w){"use strict";var x=false;switch(w.action.actionType){case j.CHANGE_AD_NAME:q=w.action.name;p=q;x=true;break;case j.CREATIVE_CHANGE:case j.DESTINATION_CHANGE:case j.OBJECTIVE_CHANGE:case j.KPI_OBJECTIVE_CHANGE:case j.PAGE_POSTS_LOAD_COMPLETE:if(q)break;o.waitFor([k.dispatchToken,l.dispatchToken,m.dispatchToken]);if(w.action.actionType===j.CREATIVE_CHANGE&&!w.action.storyId)return;var y=l.getDestinationDetails(),z=k.getState();p=i.generateAdNameForKPIObjective(m.getKPIObjective(),y.destinationName,n.getPostContent(l.getPagePostDetails(z.storyId)));x=true;break;case g.PAGE_TRANSITION:case j.RESET_CF_STORES:r();break;}x&&v.inform('change');};u.prototype.serialize=function(){"use strict";return {adName:this.getAdName(),userAssignedAdName:this.getUserAssignedAdName()};};var v=new u();a.debug_AdsCFAdNameStore=v;e.exports=v;},null);
__d("AdsPricingAPIConverter",["AdsAPIBidType","AdsAPIObjectives","AdsBidInfoWeights","AdsBidTypes","AdsBidOptions","OcpmAdConfig"],function(a,b,c,d,e,f,g,h,i,j,k,l){function m(p,q){var r=q.isL2Pricing,s=p.bid_type,t=p.bid_info,u=p.is_autobid,v,w,x,y,z;s=j.MIGRATION_MAP[s]||s;if(t){t=i.convertBidInfoKeys(t);}else t={};if(s){var aa=b('AdsBidOptions'),ba,ca=true,da=true,ea=false;switch(s){case g.CPM:ba=aa.IMPRESSIONS;w=t[i.API_IMPRESSIONS];break;case g.CPC:ba=aa.CLICKS;ca=r?u:false;v=t[i.API_CLICKS];break;case g.CPA:ba=aa.OCPM_ACTIONS;da=u;ca=false;x=t[i.API_ACTIONS];break;case g.ABSOLUTE_OCPM:if(Object.keys(t).length===0&&u)ba=aa.OCPM_ACTIONS;if(t[i.API_ACTIONS]>0){ba=aa.OCPM_ACTIONS;y=t[i.API_ACTIONS];da=u;ea=!u;}else if(t[i.API_CLICKS]>0){ba=aa.CLICKS;}else if(t[i.API_REACH]>0){ba=aa.REACH;z=t[i.API_REACH];}break;}}var fa=false;if(p.valid_bid_types)fa=p.valid_bid_types.indexOf(g.CPA)>=0;return {ocpmActionAutobidEnabled:da,bidInfo:p.bid_info,bidOption:ba,clickAutobidEnabled:ca,cpaAvailable:fa,cpaPrice:x,cpcPrice:v,cpmPrice:w,isManualBidUsingOCPM:ea,ocpmActionPrice:y,ocpmReachPrice:z,validBidTypes:p.valid_bid_types||[]};}function n(p,q,r){var s=q,t=null;if(p.bidOption==k.OCPM_ACTIONS&&p.ocpmActionAutobidEnabled){t={};t[i.API_ACTIONS]=s*l.actionsMultiplier;if(p.conversionPixelID){t[i.API_ACTIONS]=s*l.offsiteMultiplier;}else if(r==h.MOBILE_APP_INSTALLS)t[i.API_ACTIONS]=s*l.mobileInstallMultiplier;}else if(p.bidOption==k.CLICKS&&p.clickAutobidEnabled){t={};t[i.API_CLICKS]=s*l.clicksMultiplier;}else if(p.bidOption===k.REACH){t={};t[i.API_REACH]=s*l.reachMultiplier;}return t;}function o(p,q){var r=q.isL2Pricing,s=q.mooDefaultConversionBid,t=q.objective,u,v,w=false;if(!v&&p.clickAutobidEnabled)v=g.ABSOLUTE_OCPM;if(r){switch(p.bidOption){case k.CLICKS:v=g.CPC;if(p.clickAutobidEnabled){w=true;}else{u={};u[i.API_CLICKS]=p.cpcPrice;}break;case k.IMPRESSIONS:v=g.CPM;u={};u[i.API_IMPRESSIONS]=p.cpmPrice;break;case k.OCPM_ACTIONS:if(p.ocpmActionAutobidEnabled){v=g.ABSOLUTE_OCPM;w=true;}else if(p.isManualBidUsingOCPM){v=g.ABSOLUTE_OCPM;u={};u[i.API_ACTIONS]=p.ocpmActionPrice;}else{v=g.CPA;u={};u[i.API_ACTIONS]=p.cpaPrice;}break;case k.REACH:v=g.ABSOLUTE_OCPM;if(t===h.LOCAL_AWARENESS){w=true;}else{u={};u[i.API_REACH]=p.ocpmReachPrice;}break;}}else switch(p.bidOption){case k.CLICKS:if(p.clickAutobidEnabled){v=g.ABSOLUTE_OCPM;u=u||n(p,s,t);w=true;}else{v=g.CPC;u={};u[i.API_CLICKS]=p.cpcPrice;}break;case k.IMPRESSIONS:v=g.CPM;u={};u[i.API_IMPRESSIONS]=p.cpmPrice;break;case k.OCPM_ACTIONS:if(p.ocpmActionAutobidEnabled){v=g.ABSOLUTE_OCPM;u=u||n(p,s,t);w=true;}else if(p.isManualBidUsingOCPM){v=g.ABSOLUTE_OCPM;u={};u[i.API_ACTIONS]=p.ocpmActionPrice;}else{v=g.CPA;u={};u[i.API_ACTIONS]=p.cpaPrice;}break;case k.REACH:v=g.ABSOLUTE_OCPM;u={};u[i.API_REACH]=p.ocpmReachPrice;break;}return {bid_type:v,bid_info:u,is_autobid:w};}e.exports={fromAPI:m,toAPI:o};},null);
__d("AdsCFPricingAPIConverter",["AdsCFAccountStore","AdsCFApplicationStore","AdsCFBidUtils","AdsCFCampaignStore","AdsCFObjectiveStore","AdsPricingAPIConverter"],function(a,b,c,d,e,f,g,h,i,j,k,l){function m(o){return l.fromAPI(o,{isL2Pricing:i.isL2Pricing(j.getSelectedCampaignState(),h.getCurrentMode(),h.getShowMode())});}function n(o){return l.toAPI(o,{isL2Pricing:i.isL2Pricing(j.getSelectedCampaignState(),h.getCurrentMode(),h.getShowMode()),mooDefaultConversionBid:g.getState().mooDefaultConversionBid,objective:k.getAPIObjective()});}e.exports={fromAPI:m,toAPI:n};},null);
__d("AdsCFCampaignAPIConverter",["AdsCFApplicationStore","AdsCFBidUtils","AdsCFConstants","AdsCFPricingAPIConverter","AdsCampaignUtils","AdsDateUtils","AdsRunStatus","AdsTargetingModelAdapter","AdsUtils","adsGKCheck","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';var r=i.CampaignBudgetModes,s=i.CampaignScheduleModes,t=i.CampaignRunStatuses,u={campaign_id:null,account_id:null,time_updated:null,time_created:null,time_start:null,topline_id:null,created_time:null},v={daily_imps:0,frequency_cap:0,frequency_cap_reset_period:0,lifetime_imps:null,external_bid:null,inflation:null,topline_id:null,io_number:null,line_number:null};function w(y){var z={};z.campaignID=''+(y.id||i.NEW_CAMPAIGN_ID);z.scheduleMode=s.CONTINUOUSLY;for(var aa in y){var ba=y[aa];if(aa in u)continue;if(aa in v){var ca=v[aa];if(ba!==ca)return null;continue;}switch(aa){case 'id':case 'campaign_id':break;case 'name':z.name=ba;break;case 'campaign_status':switch(ba){case m.ACTIVE:case m.CAMPAIGN_GROUP_PAUSED:z.status=t.ACTIVE;break;case m.PAUSED:z.status=t.PAUSED;break;default:return null;}break;case 'daily_budget':if(!ba)break;q(!z.budgetMode);z.budgetMode=r.DAILY;z.dailyBudget=ba;break;case 'creative_rotation_type':z.creativeRotationType=ba;break;case 'creative_rotation_parameter':z.creativeRotationParameter=ba;break;case 'lifetime_budget':if(!ba)break;q(!z.budgetMode);z.budgetMode=r.LIFETIME;z.lifetimeBudget=ba;break;case 'start_time':if(ba)z.startDate=l.parseISODate(ba);break;case 'end_time':if(ba){z.endDate=l.parseISODate(ba);z.scheduleMode=s.SCHEDULED;}break;case 'campaign_group_id':z.campaignGroupID=ba.toString();break;case 'goal':case 'goal_id':break;case 'rf_prediction_id':return null;case 'budget_remaining':z.budgetRemaining=ba;break;case 'campaign_schedule':z.isDayParted=true;z.campaignSchedule=ba;break;case 'pacing_type':z.pacingType=ba;break;case 'targeting':if(!ba)break;z.targeting=n.getInterfaceSpecFromApiSpec(ba);break;case 'bid_type':z.bid_type=ba;break;case 'bid_info':z.bid_info=ba;break;case 'is_autobid':z.is_autobid=ba;break;case 'valid_bid_types':z.valid_bid_types=ba;break;case 'is_draft_only':z.isDraftOnly=ba;break;case 'updated_time':z.updatedTime=ba;break;case 'neko_has_mixed_promoted_objects':z.nekoHasMixedPromotedObjects=ba;break;case 'conversion_pixel_id':z.conversionPixelID=ba;break;case 'promoted_object':if(!ba)break;z.promotedObject={};Object.keys(ba).forEach(function(ga){z.promotedObject[o.camelCaseKey(ga)]=ba[ga];});break;}}if(z.bid_info&&z.bid_type){z.pricing=j.fromAPI({bid_type:z.bid_type,bid_info:z.bid_info,is_autobid:z.is_autobid,valid_bid_types:z.valid_bid_types});var da=z.promotedObject,ea=da&&da.pixelId,fa=z.conversionPixelID;if(g.isCampaignManager()&&!ea&&fa){z.pricing.conversionPixelID=fa;}else if(ea)z.pricing.conversionPixelID=ea;delete z.conversionPixelID;delete z.bid_type;delete z.bid_info;}return z;}function x(y,z,aa,ba,ca){var da={name:y.name};if(p('ads_rotation_gk')){da.creative_rotation_type=y.creativeRotationType;da.creative_rotation_parameter=y.creativeRotationParameter;}if(y.campaignSchedule)da.campaign_schedule=y.campaignSchedule;var ea=y.isNewCampaign;if(!ea)da.id=y.campaignID;if(y.scheduleMode===s.SCHEDULED){var fa=k.isStartDateEditable(y.isNewCampaign,y.startDate);if(fa)da.start_time=k.getGenericDateTimeString(y.startDate,z.timezoneOffsetHours);if(y.endDate>Date.now())da.end_time=k.getGenericDateTimeString(y.endDate,z.timezoneOffsetHours);}else{if(ea)da.start_time=0;da.end_time=0;}da.pacing_type=y.pacingType;if(y.budgetMode===i.CampaignBudgetModes.DAILY){da.daily_budget=y.budget;da.lifetime_budget=0;da.campaign_schedule=[];}else{da.daily_budget=0;da.lifetime_budget=y.budget;}var ga=h.isL2Pricing(y,g.getCurrentMode(),g.getShowMode());if(ga)Object.assign(da,j.toAPI(ba));if(Object.keys(ca).length)da.promoted_object=ca;if(ea||y.targeting&&aa!==y.targeting||g.getShowMode()===i.ShowMode.TARGETING)da.targeting=aa;var ha={};ha[t.ACTIVE]=m.ACTIVE;ha[t.PAUSED]=m.PAUSED;da.campaign_status=ha[y.status];return da;}e.exports={fromAPI:w,toAPI:x};},null);
__d("AdsCFCouponCode",["URI"],function(a,b,c,d,e,f,g){var h={isCouponError:function(){var i=g.getRequestURI().getQueryData();return i.coupon_error;},getCouponCode:function(){var i=g.getRequestURI().getQueryData();return i.coupon||i.coupon_code;}};e.exports=h;},null);
__d("AdsDefaultConversionSpecUtils",["AdsAPIObjectives","URI","isFacebookURI","ads-app-platforms"],function(a,b,c,d,e,f,g,h,i){'use strict';var j=b('ads-app-platforms').MOBILE_STORE_DESTINATION_TYPE;function k(x){return [{'action.type':['app_engagement'],application:[x]}];}function l(x){return [{'action.type':['app_custom_event'],application:[x]}];}function m(x){return [{'action.type':['app_install'],application:[x]}];}function n(x){return [{'action.type':['mobile_app_install'],application:[x]}];}function o(x){return [{'action.type':['link_click'],object:[x]}];}function p(x){var y=[];x.forEach(function(z){y.push({'action.type':['offsite_conversion'],offsite_pixel:[z]});});return y;}function q(x){return [{'action.type':['page_engagement'],page:[x]}];}function r(x){return [{'action.type':['like'],page:[x]}];}function s(x,y){return [{'action.type':['post_engagement'],page:[x],post:[y]}];}function t(x,y){return [{'action.type':['receive_offer'],'offer.creator':[x],offer:[y]}];}function u(x){return [{'action.type':['rsvp'],event:[x],response:['yes']},{'action.type':['rsvp'],event:[x],response:['maybe']},{'action.type':['rsvp'],event:[x],response:['no']}];}function v(x,y,z){switch(x){case g.WEBSITE_CLICKS:var aa=z.destinationDetails.destinationUrl,ba=i(new h(aa));return ba?{conversionSpecs:[],trackingSpecs:[]}:{conversionSpecs:[],trackingSpecs:z.connectedPage?r(z.connectedPage):null};case g.WEBSITE_CONVERSIONS:return {conversionSpecs:p(z.pixelIDs),trackingSpecs:o(y).concat(z.connectedPage?r(z.connectedPage):[])};case g.POST_ENGAGEMENT:if(z.autoUpdate)return {conversionSpecs:q(y),trackingSpecs:null};return {conversionSpecs:z.storyID?s(y,z.storyID):null,trackingSpecs:r(y)};case g.PAGE_LIKES:return {conversionSpecs:r(y),trackingSpecs:q(y)};case g.CANVAS_APP_INSTALLS:return {conversionSpecs:m(y),trackingSpecs:k(y)};case g.CANVAS_APP_ENGAGEMENT:return {conversionSpecs:k(y),trackingSpecs:null};case g.MOBILE_APP_INSTALLS:case g.MOBILE_APP_ENGAGEMENT:if(z.mobileStoreDestinationType===j.FB_MOBILE_STORE_ONLY)return {conversionSpecs:[],trackingSpecs:[]};return {conversionSpecs:n(y),trackingSpecs:l(y)};case g.OFFER_CLAIMS:return {conversionSpecs:z.storyID?t(y,z.storyID):null,trackingSpecs:r(y).concat(z.storyID?s(y,z.storyID):[])};case g.EVENT_RESPONSES:return {conversionSpecs:u(y),trackingSpecs:null};case g.LOCAL_AWARENESS:return {conversionSpecs:null,trackingSpecs:null};}}var w={getTrackingSpecs:function(x,y,z,aa){var ba=v(y,z,aa);if(y!==g.WEBSITE_CONVERSIONS&&aa.pixelIDs)ba.trackingSpecs=(ba.trackingSpecs||[]).concat(p(aa.pixelIDs));if(!x&&ba.trackingSpecs&&ba.conversionSpecs)return ba.conversionSpecs.concat(ba.trackingSpecs);return ba.trackingSpecs||ba.conversionSpecs;},getConversionSpecs:function(x,y,z,aa){if(!x)if(y==g.WEBSITE_CONVERSIONS){return [];}else return null;return v(y,z,aa).conversionSpecs;}};e.exports=w;},null);
__d("isL2TargetingSupported",["AdsAccountCapabilities","AdsCFAccountStore","AdsCFApplicationStore"],function(a,b,c,d,e,f,g,h,i){function j(){return h.hasAccountCapability(g.HAS_AD_SET_TARGETING)||i.isCampaignManager();}e.exports=j;},null);
__d("AdsCFOutputAPIDataProcessor",["AdsAPIObjectives","ads-app-platforms","AdsAppUtils","AdsBidTypes","AdsCFAccountStore","AdsCFAdNameStore","AdsCFApplicationStore","AdsCFAudienceEstimateStore","AdsCFBidUtils","AdsCFCampaignAPIConverter","AdsCFCampaignGroupStore","AdsCFCampaignStore","AdsCFConstants","AdsCFCouponCode","AdsCFCreativeAPIConverter","AdsCFCreativeStore","AdsCFCreativeUtils","AdsCFDestinationStore","AdsCFObjectiveStore","AdsCFPricingAPIConverter","AdsCFPricingStore","AdsDefaultConversionSpecUtils","AdsTargetingModelAdapter","AdsBidOptions","isL2TargetingSupported","AdCreativeType"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){'use strict';var fa=b('AdCreativeType').AD_CREATIVE_TYPE;function ga(ya){Object.keys(ya).forEach(function(za){var ab=ya[za];if(ab===(void 0)||ab===null)delete ya[za];if(Array.isArray(ab)&&ab.length===0)delete ya[za];});return ya;}function ha(ya){var za=u.toAPI(v.getState());ya.creative=za.creative;ya.secondary_adgroups=za.secondary_adgroups;}function ia(ya){if(!ea()||!r.getSelectedCampaignState().isNewCampaign&&!r.getSelectedCampaignState().targeting)ya.targeting=ga(ca.getApiSpec());}function ja(ya){ya.objective=y.getAPIObjective();}function ka(ya){var za=aa.getState(s.CanonicalID),ab=za.conversionPixelID,bb=(za.bidOption==da.OCPM_ACTIONS),cb=y.getAPIObjective(),db=x.getDestinationID(),eb=x.getDestinationDetails(),fb=eb.mobileStoreDestinationType,gb=[];if(cb===g.MOBILE_APP_INSTALLS||cb===g.MOBILE_APP_ENGAGEMENT){gb=ba.getTrackingSpecs(bb,cb,db,{mobileStoreDestinationType:fb,destinationDetails:eb});}else gb.push({'action.type':'DEFAULTS'});if(ab)gb.push({'action.type':['offsite_conversion'],offsite_pixel:[ab]});if(!gb.length)return;ya.tracking_specs=gb;}function la(ya){var za=aa.getState(s.CanonicalID),ab=y.getAPIObjective();if(za.bidOption!==da.OCPM_ACTIONS){if(ab===g.WEBSITE_CONVERSIONS)ya.conversion_specs=[];return;}var bb=x.getDestinationID(),cb=x.getDestinationDetails(),db=cb.mobileStoreDestinationType,eb=[];if(ab===g.WEBSITE_CONVERSIONS){var fb=za.conversionPixelID;if(fb)eb.push({'action.type':['offsite_conversion'],offsite_pixel:[fb]});}else if(ab===g.MOBILE_APP_INSTALLS){eb=ba.getConversionSpecs(true,ab,bb,{destinationDetails:cb,mobileStoreDestinationType:db});}else eb.push({'action.type':'DEFAULTS'});if(!eb.length)return;eb=eb.length===1?eb[0]:eb;ya.conversion_specs=eb;}function ma(ya){var za=ya.secondary_adgroups;if(za.length===0){ya.name=l.getPrimaryAdName();return;}var ab=1,bb=function(){return l.getMultiImageAdName(ab++);};ya.name=bb();za.forEach(function(cb){cb.name=bb();});}function na(ya){var za=r.getSelectedCampaignState();if(za.isNewCampaign)return;ya.campaign_id=za.campaignID;}function oa(ya){var za=o.isL2Pricing(r.getSelectedCampaignState(),m.getCurrentMode(),m.getShowMode());if(!za)Object.assign(ya,z.toAPI(aa.getState(s.CanonicalID)));}function pa(ya){var za=aa.getState(s.CanonicalID),ab=y.getAPIObjective(),bb=n.getBidEstimateState(s.CanonicalID),cb=o.getBiddingBehaviorLogging(za,bb,ya.bid_type,ab);ya.bidding_behavior=cb;}function qa(ya){if(ya.bid_type===j.BID_TYPE_CPA&&ya.objective==g.MOBILE_APP_INSTALLS){ya.application_data={is_cpi_candidate:true};return;}var za=(ya.creative.type===fa.FEED_URL||ya.creative.type===fa.NEKO_LPP||(!m.isCampaignManager()&&ya.creative.type===fa.INLINE_RSVP));ya.secondary_adgroups.forEach(function(bb){if(bb.creative.type===fa.FEED_URL||bb.creative.type===fa.NEKO_LPP||(!m.isCampaignManager()&&bb.creative.type===fa.INLINE_RSVP))za=true;});if(!za)return;var ab=ya.creative.object_story_spec.link_data.link;ya.application_data={destination_url:ab,temporary_feed_data:{primaryState:w.serializeCreativeState(v.getState())}};}function ra(){var ya={};if(m.isEditingExistingCampaign())return ya;ha(ya);ja(ya);ia(ya);la(ya);ka(ya);na(ya);ma(ya);oa(ya);qa(ya);pa(ya);return ya;}function sa(){var ya={},za=y.getAPIObjective(),ab=aa.getState(s.CanonicalID),bb=ab.conversionPixelID,cb=v.getState();if(i.isAppObjective(za)){var db=x.getDestinationDetails(),eb=db.mobileStoreDestinationType===h.MOBILE_STORE_DESTINATION_TYPE.FB_APPLICATION_ONLY||db.mobileStoreDestinationType===h.MOBILE_STORE_DESTINATION_TYPE.FB_MOBILE_STORE_WITH_BACKING_APP;if(eb)ya.application_id=x.getDestinationID();ya.object_store_url=v.getState().linkUrl;}else if(za===g.WEBSITE_CONVERSIONS&&bb){ya.pixel_id=bb;}else if(za===g.PAGE_LIKES)ya.page_id=cb.actor.id;return ya;}function ta(){var ya=p.toAPI(r.getSelectedCampaignState(),k.getState(),ga(ca.getApiSpec()),aa.getState(s.CanonicalID),sa());if(!ya.name)ya.name='Dummy campaign name';return ya;}function ua(){var ya=q.getSelectedState(),za={name:ya.name};if(m.isCampaignManager())za.objective=y.getAPIObjective();if(!ya.isNew)za.id=ya.id;return za;}function va(ya,za){var ab=ra(),bb={adApiSpec:ab,campaign_group_api_spec:ua(),coupon_code:t.getCouponCode()};if(r.getSelectedCampaignState().isNewCampaign)bb.newCampaignApiSpec=ta();var cb=k.getState();if(cb.isAllowedToEditCurrency){bb.currency=cb.currency;bb.timezone_id=cb.timezoneID;bb.country_code=cb.country;}ya(bb);}function wa(ya,za){ya(ra());}function xa(){return {adApiSpec:ra(),newCampaignApiSpec:ta(),campaign_group_api_spec:ua(),coupon_code:t.getCouponCode(),account_id:k.getAccountID()};}e.exports={generateAdgroupApiSpec:ra,generateCampaignApiSpec:ta,generateCampaignGroupApiSpec:ua,generateSpecForCreate:va,generateSpecForSave:wa,generateSpecForAutoUpdatePending:xa};},null);
__d("AdsCFCampaignActions",["AdsCFOutputAPIDataProcessor","AdsCFActionTypes","AdsDispatcher"],function(a,b,c,d,e,f,g,h,i){var j={changeName:function(k,l){i.handleUpdateFromViewAction({actionType:h.CHANGE_CAMPAIGN_NAME,campaignID:k,name:l});},selectExistingCampaign:function(k){i.handleUpdateFromViewAction({actionType:h.SELECT_EXISTING_CAMPAIGN,campaignGroupID:k});},selectNewCampaign:function(){i.handleUpdateFromViewAction({actionType:h.SELECT_NEW_CAMPAIGN});},changeBudget:function(k,l,m){i.handleUpdateFromViewAction({actionType:h.CHANGE_CAMPAIGN_BUDGET,budget:l,campaignID:k,logData:m});},changeBudgetMode:function(k,l){i.handleUpdateFromViewAction({actionType:h.CHANGE_CAMPAIGN_BUDGET_MODE,budgetMode:l,campaignID:k});},changeScheduleMode:function(k,l){i.handleUpdateFromViewAction({actionType:h.CHANGE_CAMPAIGN_SCHEDULE_MODE,campaignID:k,scheduleMode:l});},changeSchedule:function(k,l,m,n){i.handleUpdateFromViewAction({actionType:h.CHANGE_CAMPAIGN_SCHEDULE,campaignID:k,startDate:l,endDate:m,logData:n});},changePacing:function(k,l){i.handleUpdateFromViewAction({actionType:h.CHANGE_CAMPAIGN_PACING,campaignID:k,pacingType:l});},changeDayPartingSchedule:function(k,l,m){i.handleUpdateFromViewAction({actionType:h.CHANGE_CAMPAIGN_DAY_PARTING_SCHEDULE,campaignID:k,campaignSchedule:l,pacingType:m});},changeCreativeRotation:function(k,l,m){i.handleUpdateFromViewAction({actionType:h.CHANGE_CAMPAIGN_CREATIVE_ROTATION,campaignID:k,creativeRotationType:l,creativeRotationParameter:m});},changeStatus:function(k,l){i.handleUpdateFromViewAction({actionType:h.CHANGE_CAMPAIGN_STATUS,campaignID:k,status:l});},selectCampaign:function(k,l,m){i.handleUpdateFromViewAction({actionType:h.CAMPAIGN_SELECT,campaignID:k,targeting:l,pricing:m});},editCampaignButtonClick:function(k){i.handleUpdateFromViewAction({actionType:h.EDIT_CAMPAIGN_BUTTON_CLICK,campaignID:k});},cancelEditedCampaign:function(k){i.handleUpdateFromViewAction({actionType:h.CANCEL_EDITED_CAMPAIGN,campaignID:k.campaignID,targeting:k.targeting,pricing:k.pricing});},saveEditedCampaign:function(k){i.handleUpdateFromViewAction({actionType:h.SAVE_EDITED_CAMPAIGN_CLICK,campaignID:k,campaignSpec:g.generateCampaignApiSpec()});},dismissSaveSuccessDialog:function(k){i.handleUpdateFromViewAction({actionType:h.DISMISS_CAMPAIGN_SAVE_SUCCESS,campaignID:k});}};e.exports=j;},null);
__d("AdsCFCampaignGroupActions",["AdsCFActionTypes","AdsDispatcher"],function(a,b,c,d,e,f,g,h){var i={select:function(j){h.handleUpdateFromViewAction({actionType:g.CAMPAIGN_GROUP_SELECT,id:j});},selectAndUpdate:function(j,k){h.handleUpdateFromViewAction({actionType:g.CAMPAIGN_GROUP_SELECT_AND_UPDATE,id:j,name:k});},updateName:function(j,k){h.handleUpdateFromViewAction({actionType:g.CAMPAIGN_GROUP_NAME_UPDATE,id:j,name:k});},load:function(j){h.handleUpdateFromViewAction({actionType:g.CAMPAIGN_GROUP_LOAD,campaignGroupApiSpec:j});}};e.exports=i;},null);
__d("AdsCFNavigationActions",["AdsDispatcher","AdsCFActionTypes"],function(a,b,c,d,e,f,g,h){var i={addSection:function(j,k){g.handleUpdateFromViewAction({actionType:h.NAVIGATION_SECTION_ADD,id:j,data:{title:k}});},removeSection:function(j){g.handleUpdateFromViewAction({actionType:h.NAVIGATION_SECTION_REMOVE,id:j});},enteredSection:function(j,event){g.handleUpdateFromViewAction({actionType:h.NAVIGATION_SECTION_ENTERED,id:j,event:event});},exitedSection:function(j,event){g.handleUpdateFromViewAction({actionType:h.NAVIGATION_SECTION_EXITED,id:j,event:event});},goToSection:function(j,k){g.handleUpdateFromViewAction({actionType:h.NAVIGATION_SECTION_GO,id:j,animationDuration:k});},sectionScrollDone:function(j){g.handleUpdateFromViewAction({actionType:h.NAVIGATION_SECTION_SCROLL_DONE,id:j});}};e.exports=i;},null);
__d("AdsCFAccountErrorHeader.react",["AdManagerFunding","AdsCFAccountStore","AdsCFConstants","Link.react","React","SubscriptionsHandler","URI","XUINotice.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=123097351040126,r=i.AccountStatus,s=k.createClass({displayName:"AdsCFAccountErrorHeader",componentWillMount:function(){this._subscriptions=new l();this._subscriptions.addSubscriptions(h.subscribe('change',this._handleChange));},componentWillUnmount:function(){this._subscriptions.release();},_handleChange:function(){this.forceUpdate();},render:function(){if(h.canCreateAds())return null;var t=h.getAccountID(),u=h.getState().accountStatus;switch(u){case r.DISABLED:var v=m('/help/contact/531795380173090').toString();return (k.createElement(n,{className:"_5sb6",use:"warn"},p._("Your advert account has recently been flagged because of unusual activity. For security reasons, any adverts you're running will be paused until you can confirm your account information. {contactsLink}.",[p.param("contactsLink",k.createElement(j,{href:{url:v},target:"_blank"},"Contact Facebook"))])));case r.PENDING_CLOSURE:var w=m('/ads/manage/unsettled.php').addQueryData({act:t}).addQueryData({redirect:'create_flow'}).toString();return (k.createElement(n,{className:"_5sb6",use:"warn"},p._("Your advert account will be deactivated soon. First, we need to make sure that you don't have any outstanding balances. {=Cancel Deactivation}",[p.param("=Cancel Deactivation",k.createElement(j,{href:{url:w}},"Cancel Deactivation"))])));case r.CLOSED:var x=function(aa){aa.redirect='create_flow';g.addCredentialCallbackFromUnsettled(t,aa);},y=function(aa){g.addCredential('unsettled',q,t,null,x);};return (k.createElement(n,{className:"_5sb6",use:"warn"},p._("Your advert account is currently deactivated. {=Add a payment method} to reactivate your account and create your advert.",[p.param("=Add a payment method",k.createElement(j,{onClick:y},"Add a payment method"))])));case r.UNSETTLED:var z=m('/ads/manage/unsettled.php').addQueryData({act:t}).toString();return (k.createElement(n,{className:"_5sb6",use:"warn"},p._("We were unable to charge the payment method associated with your account. All of your ads have been paused. Please go to the {paymentsLink} page and settle the outstanding balance.",[p.param("paymentsLink",k.createElement(j,{href:{url:z},target:"_blank"},"Payment Method"))])));}}});e.exports=s;},null);
__d("AdsCFConversionPixelStore",["AdsActionTypes","AdsBaseStore","AdsCFAccountStore","AdsCFActionTypes","AdsCFConstants","AdsCFPricingStore","AdsConversionPixelUtils","AdsDispatcher","AdsOffsiteConversionConstants","AdsConversionPixelSnippetViewMode","ImmutableObject","invariant","merge","whitelistObjectKeys"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u,v;function w(){u={recipients:[],personalMessage:null,viewMode:p.NONE};v={};}w();function x(da,ea){if(!da.placement)throw new Error('Conversion pixel action received with no placement.');y(da.placement,t(da,ea));}function y(da,ea){v[da]=s(v[da],ea);ca.inform('change',{placement:da});}for(var z in h)if(h.hasOwnProperty(z))ba[z]=h[z];var aa=h===null?null:h.prototype;ba.prototype=Object.create(aa);ba.prototype.constructor=ba;ba.__superConstructor__=h;function ba(){"use strict";if(h!==null)h.apply(this,arguments);}ba.prototype.getStoreName=function(){"use strict";return 'AdsCFConversionPixelStore';};ba.prototype.getState=function(da){"use strict";var ea=s(u,v[da]);return new q(ea);};ba.prototype.getInitialState=function(){"use strict";return new q(u);};ba.prototype.canContinue=function(da){"use strict";var ea=ca.getState(da);return m.canPixelSnippetSharerContinue(ea.viewMode,ea.recipients);};ba.prototype.onDispatchToken=function(da){"use strict";var ea=da.action,fa,ga;switch(ea.actionType){case j.ADD_PIXEL_EMAIL_RECIPIENT:ga=ca.getState(ea.placement);fa=ga.recipients.concat([ea.recipient]);y(ea.placement,{recipients:fa});break;case j.REMOVE_PIXEL_EMAIL_RECIPIENT:ga=ca.getState(ea.placement);fa=ga.recipients.slice(0);var ha=fa.indexOf(ea.recipient);fa.splice(ha,1);y(ea.placement,{recipients:fa});break;case j.CHANGE_PIXEL_EMAIL_PERSONAL_MESSAGE:x(ea,{personalMessage:null});break;case j.CHANGE_PIXEL_SNIPPET_VIEW_MODE:x(ea,{viewMode:null});break;case j.CONFIRM_SNIPPET_VIEW:ga=ca.getState(ea.placement);n.waitFor([i.dispatchToken,l.dispatchToken]);var ia=l.getState(k.CanonicalID).conversionPixelID,ja=m.getPixelDetails(ia,i.getState().pixels);if(ga.viewMode===p.EMAIL_CODE&&ca.canContinue(ea.placement))m.sendConversionPixelCodeViaEmail(o.emailSources.CREATE_FLOW,ja.js_pixel,ga.recipients,ga.personalMessage);break;case g.PAGE_TRANSITION:case j.RESET_CF_STORES:w();break;}};var ca=new ba();a.debug_AdsCFConversionPixelStore=ca;e.exports=ca;},null);
__d("AdsCFReachEstimateUtils",["AdsBisonUtils","AdsBidOptions"],function(a,b,c,d,e,f,g,h){function i(k){switch(k.bidOption){case h.ACTIONS:case h.OCPM_ACTIONS:return (void 0);case h.CLICKS:return k.cpcPrice;case h.IMPRESSIONS:return k.cpmPrice;case h.REACH:return k.ocpmReachPrice;}}var j={getReachBounds:function(k,l,m){var n=k.estimate_DAU||0,o=j.getCurveString(m.bidOption,k),p=g.getReachEstimateByBudget(g.parseApiCurveString(o),n,l,i(m));return g.getReachEstimateBounds(p,n);},getCurveString:function(k,l){var m;switch(k){case g.ACTIONS:case h.OCPM_ACTIONS:m=l.cpa_curve_data;break;case h.CLICKS:m=l.cpc_curve_data;break;case h.IMPRESSIONS:case h.REACH:m=l.cpm_curve_data;break;}return m||'';}};e.exports=j;},null);
__d("AdsCFObjectiveSuggestionsStore",["AdsActionTypes","AdsBaseStore","AdsCFAccountStore","AdsCFActionTypes","AdsCFCreativeStore","AdsCFDestinationStore","AdsCFObjectiveStore","AdsCreationExperiments","AdsDestinationTypes","AdsDispatcher","AdsPagePostUtils","PagePostTypes","invariant","ads-objectives"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';var t=b('ads-objectives').KPIObjectives,u=n.getExperiment('ads_cf_video_nonnative_suggest'),v;function w(){v={isValid:true,suggestedKPIObjectives:[]};}w();function x(){var ua=m.getKPIObjective(),va=l.getDestinationTypeIgnoringKPI();if(!(ua&&va)){w();return v;}switch(ua){case t.APP_ENGAGEMENT:return y(va);case t.APP_INSTALLS:return z(va);case t.EVENT_RESPONSES:return aa(va);case t.LOCAL_AWARENESS:return ba(va);case t.OFFER_CLAIMS:return ca(va);case t.PAGE_LIKES:return ga(va);case t.POST_ENGAGEMENT:return ha(va);case t.VIDEO_VIEWS:return ia(va);case t.WEBSITE_CLICKS:return ja(va);case t.WEBSITE_CONVERSIONS:return ka(va);default:s(true);break;}}function y(ua){if(ua===o.APP)return {isValid:true,suggestedKPIObjectives:[]};return la(ua);}function z(ua){if(ua===o.APP)return {isValid:true,suggestedKPIObjectives:[]};return la(ua);}function aa(ua){var va=[],wa=true;switch(ua){case o.EVENT:if(l.isInputPersonalEvent())wa=false;break;default:return la(ua);}return {isValid:wa,suggestedKPIObjectives:va};}function ba(ua){var va=[],wa=true;switch(ua){case o.PAGE:case o.PLACE:if(l.hasPageAnalystRole())wa=false;break;default:return la(ua);}return {isValid:wa,suggestedKPIObjectives:va};}function ca(ua){var va=[],wa=true;switch(ua){case o.PAGE:case o.PLACE:var xa=l.getDestinationDetails(),ya=na();if(!xa.offerEligible)wa=false;if(!xa.hasEnoughFansForOffers){va.push(t.PAGE_LIKES);}else if(ya&&!fa())va.push(t.POST_ENGAGEMENT);break;default:return la(ua);}return {isValid:wa,suggestedKPIObjectives:va};}function da(){var ua=l.getDestinationDetails().storyId,va=l.getPagePostDetails(ua);return va.type===r.VIDEO;}function ea(){var ua=l.getDestinationDetails().storyId,va=l.getPagePostDetails(ua);return q.isNativeVideoPost(va);}function fa(){var ua=l.getDestinationDetails().storyId,va=l.getPagePostDetails(ua);return va.type===r.OFFER;}function ga(ua){var va=[],wa=true;switch(ua){case o.PAGE:case o.PLACE:if(l.hasPageAnalystRole()){wa=false;}else if(na())if(da()&&(ea()||u.getParamBool('suggest'))){va.push(t.VIDEO_VIEWS);}else if(fa()){va.push(t.OFFER_CLAIMS);}else va.push(t.POST_ENGAGEMENT);break;default:return la(ua);}return {isValid:wa,suggestedKPIObjectives:va};}function ha(ua){var va=[],wa=true;switch(ua){case o.PAGE:case o.PLACE:var xa=k.getState().storyId,ya=l.getPagePostDetails(xa);switch(ya.type){case r.VIDEO:if(q.isNativeVideoPost(ya)||u.getParamBool('suggest'))va.push(t.VIDEO_VIEWS);break;case r.OFFER:va.push(t.OFFER_CLAIMS);break;}break;default:return la(ua);}return {isValid:wa,suggestedKPIObjectives:va};}function ia(ua){var va=[],wa=true;switch(ua){case o.PAGE:case o.PLACE:if(l.hasPageAnalystRole())wa=false;break;default:return la(ua);}return {isValid:wa,suggestedKPIObjectives:va};}function ja(ua){var va=[],wa=true;switch(ua){case o.PAGE:case o.PLACE:va=pa();break;case o.APP:va.push(t.APP_INSTALLS,t.APP_ENGAGEMENT);break;case o.EVENT:va.push(t.EVENT_RESPONSES);break;case o.EXTERNAL_WEBPAGE:break;default:oa(ua);break;}return {isValid:wa,suggestedKPIObjectives:va};}function ka(ua){var va=[],wa=true;switch(ua){case o.EXTERNAL_WEBPAGE:break;default:return la(ua);}return {isValid:wa,suggestedKPIObjectives:va};}function la(ua){var va=[];switch(ua){case o.APP:va.push(t.APP_INSTALLS,t.APP_ENGAGEMENT);break;case o.EVENT:va.push(t.EVENT_RESPONSES);break;case o.EXTERNAL_WEBPAGE:va.push(t.WEBSITE_CLICKS);if(ma())va.push(t.WEBSITE_CONVERSIONS);break;case o.PAGE:case o.PLACE:va=pa();break;default:oa(ua);break;}return {isValid:false,suggestedKPIObjectives:va};}function ma(){return !!i.getState().pixels.length;}function na(){return !!l.getDestinationDetails().storyId;}function oa(ua){s(true);}function pa(){var ua=[],va=l.getDestinationDetails().isAdmin;if(!na()&&va){ua.push(t.PAGE_LIKES,t.POST_ENGAGEMENT);}else if(!na()&&!va){ua.push(t.POST_ENGAGEMENT,t.PAGE_LIKES);}else if(na()&&fa()){ua.push(t.OFFER_CLAIMS);}else ua.push(t.POST_ENGAGEMENT);return ua;}for(var qa in h)if(h.hasOwnProperty(qa))sa[qa]=h[qa];var ra=h===null?null:h.prototype;sa.prototype=Object.create(ra);sa.prototype.constructor=sa;sa.__superConstructor__=h;function sa(){if(h!==null)h.apply(this,arguments);}sa.prototype.getStoreName=function(){return 'AdsCFObjectiveSuggestionsStore';};sa.prototype.getCompatibilityStatus=function(){return v;};sa.prototype.onDispatchToken=function(ua){var va=ua.action;switch(va.actionType){case j.CREATIVE_CHANGE:case j.DESTINATION_CHANGE:case j.KPI_OBJECTIVE_CHANGE:case j.OBJECTIVE_CHANGE:case j.PAGE_POSTS_LOADED:p.waitFor([i.dispatchToken,k.dispatchToken,l.dispatchToken,m.dispatchToken]);v=x();ta.inform('change');break;case j.RESET_DESTINATION:w();ta.inform('change');break;case g.PAGE_TRANSITION:case j.RESET_CF_STORES:w();break;}};var ta=new sa();a.debug_AdsCFObjectiveSuggestionsStore=ta;e.exports=ta;},null);
__d("AdsCFObjectiveConfirmationStore",["AdsActionTypes","AdsAPIObjectives","AdsBaseStore","AdsCFActionTypes","AdsCFApplicationStore","AdsCFCampaignGroupStore","AdsCFCreativeStore","AdsCFDestinationStore","AdsCFObjectiveStore","AdsCFObjectiveSuggestionsStore","AdsCFObjectiveUtils","AdsCFPageLocationStore","AdsDispatcher","ads-objectives"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';var t=b('ads-objectives').KPIObjectives,u=[t.EVENT_RESPONSES,t.LOCAL_AWARENESS,t.PAGE_LIKES,t.VIDEO_VIEWS,t.WEBSITE_CLICKS],v,w,x;function y(){v=false;w=false;x=false;}y();for(var z in i)if(i.hasOwnProperty(z))ba[z]=i[z];var aa=i===null?null:i.prototype;ba.prototype=Object.create(aa);ba.prototype.constructor=ba;ba.__superConstructor__=i;function ba(){if(i!==null)i.apply(this,arguments);}ba.prototype.getStoreName=function(){return 'AdsCFObjectiveConfirmationStore';};ba.prototype.getIsKPIObjectiveConfirmed=function(){return x;};ba.prototype.didAutoContinue=function(){return w;};ba.prototype.isConfirmAnimationComplete=function(){return v;};ba.prototype.deserialize=function(da){return Object.keys(da).every(function(ea){var fa=da[ea];switch(ea){case 'confirmAnimationComplete':v=fa;return true;case 'didAutoContinue':w=fa;return true;case 'isKPIObjectiveConfirmed':x=fa;return true;}return false;});};ba.prototype.serialize=function(){return {confirmAnimationComplete:this.isConfirmAnimationComplete(),didAutoContinue:this.didAutoContinue(),isKPIObjectiveConfirmed:this.getIsKPIObjectiveConfirmed()};};ba.prototype.onDispatchToken=function(da){var ea=da.action,fa;switch(ea.actionType){case j.DESTINATION_CHANGE:s.waitFor([n.dispatchToken,o.dispatchToken,p.dispatchToken,r.dispatchToken]);if(n.isSingleObjectPrefill())return;fa=o.getKPIObjective();var ga=p.getCompatibilityStatus(),ha=m.getState(),ia=u.indexOf(fa)>-1&&q.canContinue(o.getAPIObjective(),n.hasDestination(),ga.isValid,n.getDestinationDetails(),{destinationType:n.getDestinationType(),isLocationConfirmed:r.isLocationConfirmed(),pagePosts:n.getPagePosts(),storyID:ha.storyId});if(ga.suggestedKPIObjectives.length===0&&ia){if(!x)w=true;x=true;ca.inform('change');}break;case j.KPI_OBJECTIVE_CONFIRM:x=ea.confirmed;w=false;ca.inform('change');break;case j.CAMPAIGN_GROUP_SELECT:s.waitFor([l.dispatchToken]);var ja=l.getSelectedState().objective;if(ja===h.NONE)break;x=true;ca.inform('change');break;case h.KPI_OBJECTIVE_CHANGE:case j.OBJECTIVE_CHANGE:if(ea.autoConfirm){x=true;ca.inform('change');}break;case j.CLEAR_AND_START_OVER:s.waitFor([k.dispatchToken]);y();ca.inform('change');break;case g.PAGE_TRANSITION:case j.RESET_CF_STORES:y();break;case j.RESET_DESTINATION:w=false;ca.inform('change');break;case j.OBJECTIVE_CONFIRM_ANIMATION_CHANGE:v=ea.confirmAnimationComplete;ca.inform('change');break;}};var ca=new ba();a.debug_AdsCFObjectiveConfirmationStore=ca;e.exports=ca;},null);
__d("AdsCFTripIDGenerator",["Run","URI"],function(a,b,c,d,e,f,g,h){var i,j={reset:function(){i=null;},get:function(){if(!i)i=parseInt(h.getRequestURI().getQueryData().ncf,10)||(Date.now()%1e+07+1);return i;}};g.onAfterUnload(j.reset.bind(j));e.exports=j;},null);
__d("AdsCFSuccessStore",["AdsActionTypes","AdsBaseStore","AdsCFActionTypes","AdsCFApplicationStore","AdsCFCampaignStore","AdsCFConstants","AdsDispatcher","AsyncRequest"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=l.CampaignScheduleModes,p,q,r,s,t,u,v,w,x,y;function z(){p=null;q=null;r=false;s=null;u=null;v=null;t={};w=null;x=null;y=null;}z();function aa(ha,ia){if(ia.getHours()===0&&ia.getMinutes()===0)ia.setDate(ia.getDate()-1);var ja=Date.UTC(ha.getFullYear(),ha.getMonth(),ha.getDate()),ka=Date.UTC(ia.getFullYear(),ia.getMonth(),ia.getDate());return (1+(ka-ja)/(1000*60*60*24));}function ba(){var ha=k.getSelectedCampaignState();if(ha.scheduleMode!==o.SCHEDULED)return -1;var ia=new Date(),ja=ha.endDate;return Math.max(aa(ia,ja),0);}function ca(){new n().setURI('/ajax/ads/create/adgroup/related_data/').setData({campaign_id:p}).setHandler(function(ha){var ia=ha.payload;w=ia.remaining_budget;m.dispatch({action:{actionType:i.REQUEST_RELATED_DATA_SUCCESS}});}).setErrorHandler(function(ha){m.dispatch({action:{actionType:i.REQUEST_RELATED_DATA_FAIL,errors:ha.errorDescription}});}).send();}for(var da in h)if(h.hasOwnProperty(da))fa[da]=h[da];var ea=h===null?null:h.prototype;fa.prototype=Object.create(ea);fa.prototype.constructor=fa;fa.__superConstructor__=h;function fa(){"use strict";if(h!==null)h.apply(this,arguments);}fa.prototype.getStoreName=function(){"use strict";return 'AdsCFSuccessStore';};fa.prototype.getCampaignID=function(){"use strict";return p;};fa.prototype.getCampaignGroupID=function(){"use strict";return q;};fa.prototype.getPrimaryAdgroupID=function(){"use strict";return s;};fa.prototype.getSecondaryAdgroupIDs=function(){"use strict";return u;};fa.prototype.getUsingAsync=function(){"use strict";return v;};fa.prototype.getDialogShown=function(){"use strict";return r;};fa.prototype.getErrors=function(){"use strict";return t;};fa.prototype.getCampaignRemainingDays=function(){"use strict";return x;};fa.prototype.getRemainingBudget=function(){"use strict";return w;};fa.prototype.getTargetURL=function(){"use strict";return y;};fa.prototype.onDispatchToken=function(ha){"use strict";var ia=ha.action;switch(ia.actionType){case i.CREATE_AD_SUCCESS:var ja=ia.data;p=ja.campaign_id;q=ja.campaign_group_id;s=ja.primary_adgroup_id;u=ja.secondary_adgroup_ids;v=ja.using_async;t=ja.errors;y=ja.redirect_url;x=ba();if(!ja.first_ad)ca();break;case i.SAVE_AD_SUCCESS:p=k.getSelectedCampaignState().campaignID;r=true;t={};y=ia.redirectURL;x=ba();ca();break;case i.CREATE_AD_FAIL:t=ia.errors;ga.inform('change');break;case i.CREATE_SIMILAR_AD:z();ga.inform('change');break;case i.REQUEST_RELATED_DATA_FAIL:case i.REQUEST_RELATED_DATA_SUCCESS:r=true;ga.inform('change');break;case i.SAVE_EDITED_CAMPAIGN_SUCCESS:if(j.isEditingExistingCampaign()){r=true;ga.inform('change');}break;case g.PAGE_TRANSITION:case i.RESET_CF_STORES:z();break;}};var ga=new fa();a.debug_AdsCFSuccessStore=ga;e.exports=ga;},null);
__d("AdsCFUpsellStore",["AdsActionTypes","AdsBaseStore","AdsCampaignUtils","AdsCFAccountStore","AdsCFActionTypes","AdsCFCampaignStore","AdsCFConstants","AdsCFDestinationStore","AdsCFObjectiveStore","AdsCFSuccessStore","AdsDestinationTypes","isUntrackedMobileApp"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';var s=m.CampaignBudgetModes,t=m.CampaignScheduleModes,u=m.UpsellTypes,v=m.UpsellRankings,w=m.UpsellViewStates,x=m.MobileAppInstallUpsellStates;function y(la){this.state=w.DEFAULT;this.ranking=la;}function z(la){this.ranking=la;}var aa=2,ba=.9,ca;function da(){ca=null;}da();function ea(la){var ma=Object.keys(la),na=ma.map(function(pa){return Object.assign({name:pa},la[pa]);});na.sort(function(pa,qa){return qa.ranking-pa.ranking;});na.slice(0,aa);var oa={};na.forEach(function(pa){oa[pa.name]=la[pa.name];});return oa;}function fa(){var la=j.getState().spendCap,ma=j.getState().amountSpent;if(!la||!ma)return false;return ma>=la*ba;}function ga(){var la={},ma={},na={},oa=l.getSelectedCampaignState(),pa=j.getState();if(oa.budgetMode===s.LIFETIME){var qa=p.getRemainingBudget();if(qa/oa.budget<.25)ma[u.INCREASE_BUDGET]=new y(v.INCREASE_BUDGET);}if(oa.scheduleMode===t.SCHEDULED){var ra=i.getCampaignDayCount(oa.startDate,oa.endDate),sa=p.getCampaignRemainingDays();if(ra>=4&&sa/ra<.25&&sa<=21)ma[u.EXTEND_CAMPAIGN]=new y(v.EXTEND_CAMPAIGN);}if(!pa.isPrepayAccount&&fa())ma[u.INCREASE_ACCOUNT_SPEND_CAP]=new z(v.INCREASE_ACCOUNT_SPEND_CAP);var ta=n.getDestinationType(),ua=n.getDestinationDetails(),va=o.getAPIObjective();if(r.withMobileInstallsObjective(ta,ua,va)){ma[u.TRACK_MOBILE_APP_INSTALL]=new y(v.TRACK_MOBILE_APP_INSTALL);ma[u.TRACK_MOBILE_APP_INSTALL].localState=x.BEGIN;}if(Object.keys(ma).length>0){la=ea(ma);}else{if(n.getDestinationType()===q.EXTERNAL_WEBPAGE&&pa.pixels.length===0)na[u.CONVERSION_PIXEL]=new z(v.CONVERSION_PIXEL);la=ea(na);}return la;}for(var ha in h)if(h.hasOwnProperty(ha))ja[ha]=h[ha];var ia=h===null?null:h.prototype;ja.prototype=Object.create(ia);ja.prototype.constructor=ja;ja.__superConstructor__=h;function ja(){if(h!==null)h.apply(this,arguments);}ja.prototype.getStoreName=function(){return 'AdsCFUpsellStore';};ja.prototype.getUpsells=function(){return ca;};ja.prototype.hasCompletedAllUpsells=function(){for(var la in ca){var ma=ca[la];if(ma instanceof y&&ma.state!==w.SUCCESS)return false;}return true;};ja.prototype.onDispatchToken=function(la){var ma=la.action;switch(ma.actionType){case k.INCREASE_BUDGET_SUCCESS:ca[u.INCREASE_BUDGET].state=w.SUCCESS;ka.inform('change');break;case k.INCREASE_BUDGET_FAIL:ca[u.INCREASE_BUDGET].state=w.FAILURE;ka.inform('change');break;case k.EXTEND_CAMPAIGN_SUCCESS:ca[u.EXTEND_CAMPAIGN].state=w.SUCCESS;ka.inform('change');break;case k.EXTEND_CAMPAIGN_FAIL:ca[u.EXTEND_CAMPAIGN].state=w.FAILURE;ka.inform('change');break;case k.TRACK_MOBILE_APP_INSTALL_SEND_SUCCESS:ca[u.TRACK_MOBILE_APP_INSTALL].state=w.SUCCESS;ca[u.TRACK_MOBILE_APP_INSTALL].localState=x.SUCCESS;ka.inform('change');break;case k.TRACK_MOBILE_APP_INSTALL_SEND_FAIL:ca[u.TRACK_MOBILE_APP_INSTALL].state=w.FAILURE;ca[u.TRACK_MOBILE_APP_INSTALL].localState=x.FAILURE;ka.inform('change');break;case k.CREATE_SIMILAR_AD:da();ka.inform('change');break;case k.REQUEST_RELATED_DATA_SUCCESS:ca=ga();ka.inform('change');break;case k.INCREASE_BUDGET:ca[u.INCREASE_BUDGET].state=w.IN_PROGRESS;ka.inform('change');break;case k.EXTEND_CAMPAIGN:ca[u.EXTEND_CAMPAIGN].state=w.IN_PROGRESS;ka.inform('change');break;case k.TRACK_MOBILE_APP_INSTALL_COMPOSE:ca[u.TRACK_MOBILE_APP_INSTALL].localState=x.COMPOSE;ka.inform('change');break;case k.TRACK_MOBILE_APP_INSTALL_SEND:ca[u.TRACK_MOBILE_APP_INSTALL].state=w.IN_PROGRESS;ca[u.TRACK_MOBILE_APP_INSTALL].localState=x.SENDING;ka.inform('change');break;case g.PAGE_TRANSITION:case k.RESET_CF_STORES:da();break;}};var ka=new ja();a.debug_AdsCFUpsellStore=ka;e.exports=ka;},null);
__d("GrayAccountActivityLogger.brands",["Banzai","BanzaiLogger"],function(a,b,c,d,e,f,g,h){'use strict';var i='BusinessAccountActivityLoggerConfig',j=h.create(g.VITAL);e.exports={log:function(k){j.log(i,k);}};},null);
__d("AdsCFLoggerStore",["AdsActionTypes","AdsAPIObjectives","AdsBaseStore","AdsCFAccountStore","AdsCFActionTypes","AdsCFAudienceEstimateStore","AdsCFApplicationStore","AdsCFBidUtils","AdsCFCampaignStore","AdsCFCampaignUtils","AdsCFConstants","AdsCFConversionPixelStore","AdsCFCreativeStore","AdsCFDestinationStore","AdsCFLogger","AdsCFPageLocationStore","AdsCFPricingAPIConverter","AdsCFPricingStore","AdsCFReachEstimateUtils","AdsCFObjectiveConfirmationStore","AdsCFObjectiveStore","AdsCFObjectiveSuggestionsStore","AdsCFTargetingStore","AdsCFTripIDGenerator","AdsCFOutputAPIDataProcessor","AdsCFUpsellStore","AdsCommonTargetingActionTypes","AdsConversionPixelSnippetViewMode","AdsDestinationTypes","AdsDispatcher","AdsImageValidationActionTypes","AdsMapActionTypes","AdsPayloadSource","BizSiteIdentifier.brands","BusinessAccountActivityLoggerDomain","BusinessAccountActivityLoggerEvent","GrayAccountActivityLogger.brands","URIInitDataUtil","hasAdblock","merge","whitelistObjectKeys"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua){'use strict';var va=q.CampaignBudgetModes,wa=q.CampaignScheduleModes,xa=q.DestinationSelectionSource,ya,za,ab,bb,cb,db,eb,fb,gb,hb,ib;function jb(){ya=null;za=null;ab=null;bb=null;cb=null;db=null;eb=null;fb=null;gb=null;hb=null;ib=null;}jb();var kb={ageMin:'targeting_age_min_changed',ageMax:'targeting_age_max_changed',ageMinLimit:'targeting_age_min_limit_changed',sex:'targeting_sex_changed',userAdclusters:'targeting_user_adclusters_changed',friendsOfConnections:'targeting_connections_changed',interestedIn:'targeting_interested_in_changed',relationshipSingle:'targeting_relationship_changed',relationshipInA:'targeting_relationship_changed',relationshipMarried:'targeting_relationship_changed',relationshipEngaged:'targeting_relationship_changed',relationshipUnspecified:'targeting_relationship_changed',locales:'targeting_locales_changed',educationStatus:'targeting_education_status_changed',educationSchools:'targeting_education_schools_changed',educationMajors:'targeting_education_majors_changed',minGradYear:'targeting_min_grad_year_changed',maxGradYear:'targeting_max_grad_year_changed',targetAllGraduationYears:'targeting_target_all_graduation_years_changed',workEmployers:'targeting_work_employers_changed'};function lb(ac){if(ac.hasOwnProperty('advancedOptions')){return 'click_show_adv_pricing';}else if(ac.hasOwnProperty('bidOption')){return 'click_adv_bid_optimization_change';}else if(ac.hasOwnProperty('clickAutobidEnabled')){return 'click_adv_bid_manual_clicks';}else if(ac.hasOwnProperty('ocpmActionAutobidEnabled'))return 'action_adv_bid_manual_actions';}function mb(ac){if(ac.hasOwnProperty('cpcPrice')){return 'modify_cpc_bid_value';}else if(ac.hasOwnProperty('cpmPrice')){return 'modify_cpm_bid_value';}else if(ac.hasOwnProperty('ocpmActionPrice'))return 'modify_ocpm_action_bid_value';}function nb(){return {create_time_taken:(Date.now()-eb),place_order_time_take:(Date.now()-db)};}function ob(ac){return {isValidDestination:ac.isValid,numberOfSuggestions:ac.suggestedKPIObjectives.length,objectivesSuggestions:ac.suggestedKPIObjectives};}function pb(event,ac){ac=ac||{};Object.assign(ac,{payloadSource:cb});u.log(event,ac);}function qb(event,ac){ac=ac||{};Object.assign(ac,{payloadSource:cb});u.logOnce(event,ac);}function rb(){ja.waitFor([j.dispatchToken]);return ua(j.getState(),['timezoneID','currency','country']);}function sb(){return Math.round(Date.now()/1000);}function tb(){return l.getBidEstimateState(q.CanonicalID);}function ub(){return p.getDailyBudget(o.getSelectedCampaignState(),j.getState().timezoneOffsetHours);}function vb(){return x.getState(q.CanonicalID);}for(var wb in i)if(i.hasOwnProperty(wb))yb[wb]=i[wb];var xb=i===null?null:i.prototype;yb.prototype=Object.create(xb);yb.prototype.constructor=yb;yb.__superConstructor__=i;function yb(){if(i!==null)i.apply(this,arguments);}yb.prototype.getStoreName=function(){return 'AdsCFLoggerStore';};yb.prototype.onDispatchToken=function(ac){var bc,cc=ac.action,dc=cc.actionType;cb=ac.payloadsource;if(cb===ma.VIEW_ACTION&&(dc==k.BID_OPTION_CHANGE||dc==k.BID_PRICE_CHANGE||dc==k.CONVERSION_PIXEL_CHANGE))qb('pricing_changed');var ec,fc,gc,hc;switch(dc){case k.LOG:pb(cc.event,cc.data);break;case k.INIT_STARTED:ab=Date.now();u.updateDefaultData({account_id:j.getAccountID(),js_push_phase:cc.js_push_phase,ncf:da.get(),isPrefill:m.isCreatingNew()&&ra.isPrefilledFromURI()});var ic=m.getAdgroupID();if(ic)u.updateDefaultData({adgroup_id:ic});pb('adscreator_init',{time_to_load_module:cc.time_to_load_module,client_side_referrer:document.referrer});break;case k.INIT_DATA_RECEIVED:pb('adscreator_data_ready',{response_time:(Date.now()-ab)});break;case k.INIT_DATA_LOADED:pb('adscreator_render_views',{isUsingDaoBatching:false,response_time:(Date.now()-ab)});switch(m.getCurrentMode()){case q.CreateMode.EDIT_EXISTING:ec='show_edit_existing';break;case q.CreateMode.EDIT_EXISTING_CAMPAIGN:ec='show_edit_existing_campaign';break;case q.CreateMode.CREATE_SIMILAR:ec='show_create_similar';break;default:if(m.getPendingObjectID()){ec='show_create_reenter';}else ec='show_create';break;}fc={adgroup_id:m.getAdgroupID(),response_time:(Date.now()-ab),client_side_referrer:document.referrer};pb(ec,fc);break;case k.CHANGE_ACTORS:var jc=cc.availableActors;if(jc&&jc.length>0){pb('has_url_eligible_pages',{published_pages:jc.length,all_pages:cc.allActors.length});}else pb('no_url_eligible_pages',{published_pages:0,all_pages:cc.allActors.length});break;case k.CHANGE_ACCOUNT_COUNTRY:pb('change_account_country',rb());break;case k.CHANGE_ACCOUNT_CURRENCY:pb('change_account_currency',rb());break;case k.CHANGE_ACCOUNT_TIMEZONE_ID:pb('change_account_timezone_id',rb());break;case k.CHANGE_CAMPAIGN_DAY_PARTING_SCHEDULE:pb('change_day_parting_schedule',{campaign_schedule:cc.campaignSchedule,pacing_type:cc.pacingType});break;case k.CHANGE_CAMPAIGN_PACING:pb('change_campaign_pacing',{pacing_type:cc.pacingType});break;case k.CHANGE_CAMPAIGN_CREATIVE_ROTATION:pb('change_campaign_creative_rotation',{creative_rotation_type:cc.creativeRotationType,creative_rotation_parameter:cc.creativeRotationParameter});break;case k.CREATIVE_CHANGE:ja.waitFor([ba.dispatchToken]);u.updateDefaultData(ob(ba.getCompatibilityStatus()));if('storyId' in cc){pb('click_post_selector');}else if('mobileStore' in cc){u.resetLogOnceForEvent('has_cpa_bid_option');}else if('actor' in cc){if(cc.actor){pb('success_fb_page_selector',{eventSource:cc.eventSource});}else pb('edit_fb_page_selector',{eventSource:cc.eventSource});}else{var kc={title:'change_title',body:'change_body',linkDescription:'change_linkDescription',callToActionType:'change_call_to_action'};Object.keys(kc).forEach(function(od){if(od in cc){pb('creative_changed');gc=s.getState();qb(kc[od],{creative_type:gc.creativeType});}});}break;case k.CREATIVE_PLACEMENTS_CHANGE:pb('change_placements',{eventSource:ac.action.eventSource,placementList:ac.action.placementList,state:ac.action.enabled});break;case k.CLICK_CONTACT_ADMIN:pb('click_contact_admin',{objectID:ac.action.objectID});break;case k.TARGETING_CHANGE:if(cb!==ma.VIEW_ACTION)break;pb('targeting_changed');for(hc in kb)if(hc in cc){qb(kb[hc]);break;}break;case k.CODE_MAP_CHANGE:var lc=ac.action.errors,mc=[],nc;for(nc in lc)mc.push(lc[nc]);if(!mc.length)break;var oc=ea.generateAdgroupApiSpec();pb('informed_error',{errors:mc,codesToError:lc,ad_api_spec:oc,new_campaign_api_spec:ea.generateCampaignApiSpec()});Object.keys(lc).forEach(function(od){var pd=lc[od];pb('error_occurrence',{campaign_id:oc.campaign_id,error_code:od,error_msg:pd});});break;case k.BID_OPTION_CHANGE:if(cb!==ma.VIEW_ACTION)break;ec=lb(cc);ec&&qb(ec);break;case k.BID_PRICE_CHANGE:if(cb!==ma.VIEW_ACTION)break;ec=mb(cc);ec&&qb(ec);break;case k.RESTORE_PRICING_DEFAULTS:pb('restore_pricing_defaults');break;case k.CONVERSION_PIXEL_CHANGE:if(cb!==ma.VIEW_ACTION)break;ec=cc.conversionPixelID?'conversion-pixel-selected':'conversion-pixel-removed';qb(ec);break;case k.CPA_BID_AVAILABLE:bc={};if(cc.mobileStore)bc.mobile_store=cc.mobileStore;u.updateDefaultData(bc);qb('has_cpa_bid_option');break;case k.RESET_DESTINATION:pb('click_xout_destination');break;case k.KPI_DESTINATION_SELECT:case k.DESTINATION_SELECT:gb=Date.now();za=Date.now();ya=cc.destinationEntry.isCachedURL;break;case k.MOBILE_OPTIMIZED_URL_CHECK_FAIL:case k.MOBILE_OPTIMIZED_URL_CHECK_SUCCESS:if(dc===k.MOBILE_OPTIMIZED_URL_CHECK_FAIL){pb('mobile_optimized_url_check_fail',{url:cc.url,response_time:Date.now()-gb,errorType:cc.errorType,error:cc.error});}else pb('mobile_optimized_url_check_success',{url:cc.url,response_time:Date.now()-gb,is_mobile_optimized:cc.isMobileOptimized});gb=null;break;case k.DESTINATION_CHANGE:u.resetLogOnceForEvent('has_cpa_bid_option');ja.waitFor([s.dispatchToken,t.dispatchToken,z.dispatchToken,aa.dispatchToken,ba.dispatchToken,v.dispatchToken]);var pc=t.getDestinationDetails();if(!pc||!pc.actualDestinationType)break;if(z.didAutoContinue())pb('kpi_objective_auto_confirm');bc={hasAdvertisingPermissions:pc.isAdmin,has_advertising_permissions:pc.isAdmin,destination_id:t.getDestinationID(),destination_is_cached_url:ya,destination_type:t.getDestinationType().toString(),objective:aa.getAPIObjective()};if(t.getDestinationType()===ia.APP){bc.neko_eligible=t.getHasNativeMobileApp();var qc=pc.mobileStoreDestinationType;if(qc){bc.neko_kind=qc;bc.destination_url=pc.originalObjectUrl;}}if(cc.destSource)bc.destSource=cc.destSource;Object.assign(bc,ob(ba.getCompatibilityStatus()));u.updateDefaultData(bc);if(cb!==ma.VIEW_ACTION||cc.destSource===xa.SINGLE_OBJECT_PREFILL){qb('auto_entity_chosen');}else pb('click_entity_chosen');if(za){pb('destination_render',{response_time:Date.now()-za});za=null;}var rc=s.getState();if(rc&&rc.imageList&&rc.imageList.length)pb('show_default_creative_image');if(aa.getAPIObjective()===h.LOCAL_AWARENESS&&m.isCreatingNew())pb('page_chosen_local',{hadAddress:!!pc.location,hasValidAddress:!!pc.validAddress,showAddressForm:(v.getStatus().get('type')===v.StatusType.UNCONFIRMED)});break;case k.PLACE_ORDER_INITIATED:pb('click_place_order_main');db=Date.now();break;case k.REVIEW_AD_INITIATED:pb('click_review_ad_main');break;case k.REVIEW_DIALOG_SHOW:pb('review_ad_dialog_show');break;case k.SAVE_AD_INITIATED:pb('hit_save');break;case k.PAYMENTS_FLOW_ERROR:pb('payment_error',{data:cc.data});break;case k.OBJECTIVE_CHANGE:ja.waitFor([aa.dispatchToken,ba.dispatchToken]);if(cb!==ma.VIEW_ACTION){u.updateDefaultData({objective:aa.getAPIObjective()});if(cc.autoConfirm)pb('kpi_objective_auto_select_confirm');break;}u.updateDefaultData(ta({objective:aa.getAPIObjective()},ob(ba.getCompatibilityStatus())));pb('objective_selected');break;case k.KPI_OBJECTIVE_SEE_MORE:qb('kpi_objective_see_more');break;case k.KPI_OBJECTIVE_CHANGE:ja.waitFor([z.dispatchToken,aa.dispatchToken,ba.dispatchToken]);if(cb!==ma.VIEW_ACTION)break;bb=Date.now();u.updateDefaultData(ta({kpiObjective:aa.getKPIObjective(),objective:aa.getAPIObjective(),previousKpiObjective:cc.previousKpiObjective},ob(ba.getCompatibilityStatus())));pb('kpi_objective_selected',{event_detail:aa.getKPIObjective(),objectiveChangeSource:cc.source,objectiveConfirmed:z.getIsKPIObjectiveConfirmed()});break;case k.KPI_OBJECTIVE_CONFIRM:ja.waitFor([aa.dispatchToken]);var sc,tc;if(cc.confirmed){sc='kpi_objective_confirm';tc=Date.now()-bb;bb=null;}else{sc='kpi_edit_objective';bb=Date.now();}pb(sc,{objectiveConfirmed:cc.confirmed,kpiObjectiveSelectToConfirmTime:tc});break;case k.PAGE_SELECTOR_CLICK:pb('click_fb_page_selector',{eventSource:cc.eventSource});break;case k.PAGE_CREATE_CLICK:pb(cc.eventType,{eventSource:cc.eventSource});break;case k.IMAGE_UPLOAD_CLICK:pb('click_upload_image_selector');break;case k.STOCK_IMAGE_SEARCH:pb('search_stock_images',{query:cc.query,offset:cc.offset});break;case k.IMAGE_UPLOAD_SUCCESS:if(cc.images){cc.images.forEach(function(od){pb('success_upload_image_selector',{adImageSpecs:cc.imageSpec,imageDimensions:{width:od.width,height:od.height}});});}else pb('success_upload_image_selector',{adImageSpecs:cc.imageSpec,imageDimensions:{width:cc.image.width,height:cc.image.height}});break;case k.IMAGE_DOWNLOAD_ERROR:sa(function(od){pb('image_download_error',{createMode:m.getCurrentMode(),hasAdblock:od,image_url:cc.image.getUrl(),image_hash:cc.image.getAdAccountHash(),placement:cc.placement});});break;case k.IMAGE_DIALOG_OPEN:pb('image_dialog_open',{dialog:cc.dialog});break;case k.IMAGE_SELECT_SUCCESS:case k.IMAGE_DESELECT_SUCCESS:ec=dc===k.IMAGE_SELECT_SUCCESS?'success_image_library_image_selector':'success_image_library_image_deselect';var uc=cc.image;pb(ec,{adImageSpecs:cc.imageSpec,imageType:cc.imageType,imageDimensions:{width:uc.width,height:uc.height}});break;case k.IMAGE_SELECT_CONFIRMED:pb('confirm_image_library_image_selector',{});break;case k.IMAGE_SELECT_CANCEL:pb('cancel_image_library_image_selector');break;case k.IMAGE_LIBRARY_TAB_CLICK:pb('click_image_tab',{tab_key:cc.tabKey});break;case k.STOCK_IMAGE_GUIDELINES_SHOW:pb('show_stock_image_guidelines');break;case k.IMAGE_CROP_CHANGE:pb('change_image_crops',{creativeType:cc.creativeType,cropKey:cc.cropKey,placement:cc.placement});break;case k.IMAGE_CROP_ITEM_CLICK:pb('click_image_cropper_item',{creativeType:cc.creativeType,cropKey:cc.cropKey,placement:cc.placement,disabled:cc.disabled});break;case k.IMAGE_CROP_DIALOG_SHOW:pb('show_image_cropper_dialog',{creativeType:cc.creativeType,imageCount:cc.imageCount});break;case k.VIDEO_UPLOAD_START:hb=sb();break;case k.VIDEO_UPLOAD_SUCCESS:pb('video_upload_duration',{duration:sb()-hb});hb=null;ib=sb();break;case k.VIDEO_UPLOAD_ERROR:pb('video_upload_error',{duration:sb()-hb,details:cc.details});hb=null;break;case k.VIDEO_UPLOAD_CANCEL:var vc=ib?ib:hb;pb('video_upload_cancel',{step:ib?'ENCODING':'UPLOADING',duration:sb()-vc});hb=null;break;case k.VIDEO_ENCODING_SUCCESS:pb('video_encoding_duration',{duration:sb()-ib});ib=null;break;case k.CHANGE_CAMPAIGN_BUDGET:if(cb!==ma.VIEW_ACTION)break;pb('change_campaign_budget',{oldBudget:cc.logData.oldBudget,newBudget:cc.budget});break;case k.CHANGE_CAMPAIGN_BUDGET_MODE:if(cb!==ma.VIEW_ACTION)break;var wc=cc.budgetMode===va.DAILY;pb('change_budget_mode',{budget_mode:wc?'daily':'lifetime'});break;case k.CHANGE_CAMPAIGN_NAME:if(cb!==ma.VIEW_ACTION)break;pb('change_campaign_name');break;case k.SELECT_NEW_CAMPAIGN:if(cb!==ma.VIEW_ACTION)break;pb('click_new_campaign');break;case k.SELECT_EXISTING_CAMPAIGN:if(cb!==ma.VIEW_ACTION)break;pb('click_use_existing_campaign');break;case k.CAMPAIGN_SELECT:if(cb!==ma.VIEW_ACTION)break;pb('campaign_select');break;case k.EDIT_CAMPAIGN_BUTTON_CLICK:if(cb!==ma.VIEW_ACTION)break;pb('edit_campaign_button_click');break;case k.CANCEL_EDITED_CAMPAIGN:if(cb!==ma.VIEW_ACTION)break;pb('cancel_edited_campaign');break;case k.CHANGE_CAMPAIGN_SCHEDULE:if(cb!==ma.VIEW_ACTION)break;pb('change_campaign_schedule',{oldStartDate:cc.logData.oldStartDate.getTime(),oldEndDate:cc.logData.oldEndDate.getTime(),newStartDate:cc.startDate.getTime(),newEndDate:cc.endDate.getTime()});break;case k.CHANGE_CAMPAIGN_SCHEDULE_MODE:if(cb!==ma.VIEW_ACTION)break;pb('change_run_continuously',{run_continuously:cc.scheduleMode===wa.CONTINUOUSLY});break;case k.CHANGE_CAMPAIGN_STATUS:if(cb!==ma.VIEW_ACTION)break;pb('change_campaign_status',{campaign_status:cc.status});break;case k.DISMISS_CAMPAIGN_SAVE_SUCCESS:if(cb!==ma.VIEW_ACTION)break;pb('dismiss_campaign_save_success');break;case k.SAVE_EDITED_CAMPAIGN_CLICK:if(cb!==ma.VIEW_ACTION)break;fb=Date.now();pb('save_edited_campaign_click');break;case k.SAVE_EDITED_CAMPAIGN_ERROR:pb('save_edited_campaign_error',{campaignData:cc.logData.campaignData,errorCode:cc.error.code,duration:Date.now()-fb});break;case k.SAVE_EDITED_CAMPAIGN_SUCCESS:pb('save_edited_campaign_success',{duration:Date.now()-fb});break;case k.SAVE_EDITED_CAMPAIGN_TIMEOUT:pb('save_edited_campaign_timeout',{duration:Date.now()-fb});break;case k.CAMPAIGN_GROUP_SELECT_AND_UPDATE:if(cb!==ma.VIEW_ACTION)break;pb('campaign_group_name_change');break;case k.CAMPAIGN_GROUP_SELECT:if(cb!==ma.VIEW_ACTION)break;pb('campaign_group_select');break;case k.CAMPAIGN_GROUPS_LOADED:pb('campaign_groups_loaded');break;case k.CHANGE_BID_SECTION_VISIBILITY:pb('change_bid_section_visibility',{hideAdvancedOptions:cc.hideAdvancedOptions});break;case k.HELP_LINK_CLICK:if(cc.eventSource){pb(cc.eventName,{eventSource:cc.eventSource});}else pb(cc.eventName);break;case k.COUPON_ACTIVATED:pb('coupon_activated');break;case k.CHANGE_FUNDING_SOURCE:pb('change_funding_source');break;case k.CREATING_AD:pb('success_dialog_create_ad_started');eb=Date.now();break;case k.CREATE_AD_SUCCESS:var xc={};if(aa.getAPIObjective()===h.LOCAL_AWARENESS){var yc=tb(),zc=ub(),ad=y.getReachBounds(yc,zc,vb()),bd=ca.getLocalGeoState(q.CanonicalID);xc={audienceSize:yc.estimate_DAU,distanceUnit:bd.distanceUnit,dailyBudget:zc,estimatedReach:ad,latitude:bd.latitude,longitude:bd.longitude,radiusSelected:bd.radius,radiusSuggested:bd.lastSuggestedRadius};}pb('success_dialog_create_ad_success',Object.assign(nb(),cc.data,xc));qa.log({business_id:na.getBusinessID(),ad_account_id:j.getAccountID(),domain:oa.ADS_CREATE_FLOW,event:pa.AD_CREATE});break;case k.SAVE_AD_SUCCESS:var cd=vb(),dd=w.toAPI(cd),ed=dd.bid_type,fd=aa.getAPIObjective(),gd=n.getBiddingBehaviorLogging(cd,tb(),ed,fd);pb('save_ad_success',Object.assign(dd,{bidding_behavior:gd}));break;case k.CREATE_AD_FAIL:pb('success_dialog_fail_ad_creation',Object.assign(nb(),{errors:cc.errors,errorCodes:cc.errorCodes,adgroupApiSpec:cc.adgroupApiSpec,campaignApiSpec:cc.campaignApiSpec}));break;case k.CREATE_AD_TIMEOUT:pb('success_dialog_ad_creation_timeout',Object.assign(nb(),{adgroupApiSpec:cc.adgroupApiSpec,campaignApiSpec:cc.campaignApiSpec}));break;case k.REQUEST_RELATED_DATA_FAIL:pb('success_dialog_fail_request_related_data',Object.assign(nb(),{errors:cc.errors}));break;case k.REQUEST_RELATED_DATA_SUCCESS:pb('success_dialog_shown',nb());ja.waitFor([fa.dispatchToken]);var hd=fa.getUpsells();Object.keys(hd).forEach(function(od){pb('upsell_shown_'+od.toLowerCase());});break;case k.CONVERSION_PIXEL_LINK_CLICK:pb('upsell_click_conversion_pixel');break;case k.EXTEND_CAMPAIGN:pb('upsell_click_extend_campaign',{days:cc.value});break;case k.INCREASE_BUDGET:pb('upsell_click_increase_budget',{amount:cc.value});break;case k.TRACK_MOBILE_APP_INSTALL_COMPOSE:pb('upsell_click_track_mobile_app_install_compose');break;case k.TRACK_MOBILE_APP_INSTALL_SEND:pb('upsell_click_track_mobile_app_install_send');break;case k.TRACK_MOBILE_APP_INSTALL_INFO:pb('upsell_click_track_mobile_app_install_info');break;case k.CREATE_SIMILAR_AD:pb('success_dialog_click_create_similar');break;case k.ADS_MANAGER_REDIRECT:pb('success_dialog_click_manage_ads');break;case k.CONVERSION_PIXEL_CREATED:pb('conversion_pixel_created',{pixelID:cc.pixelID});break;case k.CONFIRM_SNIPPET_VIEW:var id=x.getState(q.CanonicalID).conversionPixelID,jd=cc.placement,kd=r.getState(jd);if(kd.viewMode===ha.EMAIL_CODE)pb('conversion_pixel_email_send',{pixelID:id,recipient:kd.recipient,personalMessage:kd.personalMessage});break;case k.NAVIGATION_SECTION_GO:pb('navigation_click',{section_id:cc.id});break;case k.NAVIGATION_SECTION_ENTERED:pb('navigation_section_entered',{section_id:cc.id,section_event:cc.event});break;case k.INIT_DATA_FETCH_ERROR:pb('init_data_fetch_error',{error:cc.error});break;case g.PAGE_TRANSITION:case k.RESET_CF_STORES:u.resetLogOnceForAllEvents();jb();break;case k.RHC_REDESIGN_CHANGE:pb('rhc_redesign_change',{value:cc.value});break;case ka.AD_IMAGE_VALIDATION_API_COMPLETE:pb('ad_image_validation_api_complete',{imageUrl:cc.image});break;case ka.AD_IMAGE_VALIDATION_API_INIT:pb('ad_image_validation_api_init',{imageUrl:cc.image});break;case ka.AD_IMAGE_VALIDATION_TOOL_USE:pb('ad_image_validation_tool_use',{imageUrl:cc.image});break;case ka.AD_IMAGE_VALIDATION_NOTICE_SHOWN:pb('ad_image_validation_notice_shown',{imageUrls:cc.images});break;case k.AD_API_ERROR:pb('ad_api_error',{error:cc.error});break;case ga.GEO_COORDINATES_LOADED:ja.waitFor([v.dispatchToken]);var ld=v.getStatus(),md=ld.get('type')===v.StatusType.GEOCODING&&ld.get('addressString')===cc.address;if(cc.isValid){pb('geo_coordinates_loaded_success',Object.assign({address:cc.address,latitude:cc.latitude,longitude:cc.longitude,isFromPageLocationForm:md},cc.logData));}else pb('geo_coordinates_loaded_fail',Object.assign({address:cc.address,isFromPageLocationForm:md},cc.logData));break;case la.BOUNDING_BOX_LOADED:pb('country_bounding_box_loaded',{country:cc.country,isValid:cc.isValid});break;case la.MAP_ZOOM_IN:case la.MAP_ZOOM_OUT:qb('local_map_zoom_changed');break;case k.PAGE_LOCATION_CHANGED:pb('page_location_changed',ua(cc,['error','newLocation','pageID','success']));break;case k.PAGE_LOCATION_FORM_ACCEPT:var nd=v.getStatus();if(nd.get('type')!==v.StatusType.UNCONFIRMED)break;pb('page_location_form_accept',{location:nd.get('context').get('form')});break;}};var zb=new yb();a.debug_AdsCFLoggerStore=zb;e.exports=zb;},null);
__d("AdsCFInfoHeader",["React","URI","XUINotice.react","cx","fbt","AdsCFLoggerStore"],function(a,b,c,d,e,f,g,h,i,j,k){b('AdsCFLoggerStore');var l=g.createClass({displayName:"AdsCFInfoHeader",_handleChange:function(){this.forceUpdate();},render:function(){var m=h.getRequestURI().getQueryData();if(m.account_activated)return (g.createElement(i,{className:"_5sb6"},"Your advert account has been reactivated."));return g.createElement("div",null);}});e.exports=l;},null);
__d("XAdsLatestPendingAdControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/ads\/createflow\/latest_pending_ad\/",{});},null);
__d("XAdsPendingAdDeleteControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/ads\/createflow\/pending_ad_delete\/",{});},null);
__d("AdsCFPendingAdPrompt.react",["AdsCFObjectiveConfirmationStore","AdsCreationExperiments","AdsObjectivesConfig","AsyncRequest","LeftRight.react","React","SubscriptionsHandler","URI","XAdsLatestPendingAdControllerURIBuilder","XAdsPendingAdDeleteControllerURIBuilder","XUIButton.react","adsGKCheck","cx","fbt","goURI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var v='ads_growth_cf_pending_ad_prompt',w='in_test',x=l.createClass({displayName:"AdsCFPendingAdPrompt",getInitialState:function(){return {pendingAdID:0,pendingAdLink:null,pendingAdObjective:null,isHidden:false};},_hide:function(){this.setState({isHidden:true});},_edit:function(){u(this.state.pendingAdLink);},_discard:function(){new j().setURI(new p().getURI()).setData({id:this.state.pendingAdID}).send();this._hide();},_saveData:function(y){this.setState({pendingAdID:y.payload.id,pendingAdLink:y.payload.createflow_link,pendingAdObjective:y.payload.objective});},_inTest:function(){if(!r(v))return false;var y=h.getExperiment(v);y.logExposure();return y.getParamBool(w);},_prefilledData:function(){var y=n().getQueryData();return y.oid||y.objective||y.fbid||y.storyid||y.edit_ad_link;},componentDidMount:function(){if(this._prefilledData()||!this._inTest()){this.setState({isHidden:true});return;}this._subscriptions=new m();this._subscriptions.addSubscriptions(g.subscribe('change',this._hide));new j().setURI(new o().getURI()).setHandler(this._saveData).send();},componentWillUnmount:function(){if(this._subscriptions)this._subscriptions.release();},render:function(){if(this.state.isHidden||!this.state.pendingAdID)return null;return (l.createElement(k,{className:"_3tyz"},l.createElement("div",null,l.createElement("h3",{className:"_3ty-"},"Continue Creating the Advert You Started"),t._("Would you like to continue creating the advert you've already started for {objective}?",[t.param("objective",i.getShortName(this.state.pendingAdObjective))])),l.createElement("div",{className:"_2pic"},l.createElement(q,{label:"Discard",onClick:this._discard}),l.createElement(q,{label:"Continue Creating Advert",onClick:this._edit,use:"confirm"}))));}});e.exports=x;},null);
__d("AdsCFBusinessAssetUtil",["BusinessAssetGrouping.brands","BusinessPermissionConstants"],function(a,b,c,d,e,f,g,h){'use strict';var i=h.ad_account,j={groupAccounts:function(k,l){return g.groupAssets(k,this._getBusiness,this._getUserPermissions,this._getBusinessProjects,null,this._filterAccount,null,l);},_getBusiness:function(k){return k.business;},_getUserPermissions:function(k){return k.userPermissions;},_getBusinessProjects:function(k){return k.businessProjects;},_filterAccount:function(k,l){if(!k.userPermissions)return true;for(var m=0;m<k.userPermissions.length;m++){var n=i[k.userPermissions[m].role];if(!n)return true;var o=Object.keys(n).map(function(p){return n[p];});if(o.indexOf('WRITE_ADACCOUNT')===-1&&k.userPermissions[m].business&&l===k.userPermissions[m].business.id)return false;}return true;}};e.exports=j;},null);
__d("AdsCFAccountSelector",["AdsCFAccountStore","AdsCFBusinessAssetUtil","BizSiteIdentifier.brands","CurrentUser","OrderedMap","React","SubscriptionsHandler","URI","XUIMenuStaticItem.react","XUISelector.react","goURI","BrandsAppConfig","BusinessAssetGrouping.brands","AdsCFConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';var t=b('AdsCFConstants').AccountStatus,u=p.Option,v=100,w=l.createClass({displayName:"AdsCFAccountSelector",getInitialState:function(){return {accounts:k.fromArray([],function(){}),businessID:i.getBusinessID(),groupedAccounts:{},businesses:{}};},componentWillMount:function(){this.subscriptions=new m();this.subscriptions.addSubscriptions(g.subscribe('change',function(){this.ensureSelectedAccountLoaded(this.state.accounts);}.bind(this)));var x=g.getDao();x.fetch.accountsForUser.paged(this._handleAccountsForUserAPIResponse.bind(this,[]),this._getAdAccountDaoParams());},_getAdAccountDaoParams:function(){var x={fields:'id,name,currency,business_name,account_status'};if(this._shouldFilterOutBizAccounts())x.fields=x.fields+',business.fields(name)'+',businessprojects.fields(name,business)'+',userpermissions.fields(business,role).user('+j.getID()+')';return x;},_handleAccountsForUserAPIResponse:function(x,y,z){var aa=[];for(var ba=0;ba<y.length;ba++)aa.push(this._parseAdAccountAPIData(y[ba]));var ca=x.concat(aa);if(z&&ca.length<v){z(this._handleAccountsForUserAPIResponse.bind(this,ca));}else{var da=ca.filter(function(fa){return fa.id===g.getState().accountID;})[0];if(!da){var ea=g.getDao();ea.fetch.accountInfo.one(function(fa){ca.push(this._parseAdAccountAPIData(fa));this._onAdAccountsFetchSuccess(ca);}.bind(this),this._getAdAccountDaoParams());}else this._onAdAccountsFetchSuccess(ca);}},_parseAdAccountAPIData:function(x){return {name:x.business_name||x.name,id:x.account_id,currency:x.currency,userPermissions:x.userpermissions&&x.userpermissions.data,business:x.business,businessProjects:x.businessprojects&&x.businessprojects.data,accountStatus:x.account_status};},_onAdAccountsFetchSuccess:function(x){x=this._filterAccounts(x);var y=k.fromArray(x,function(z){return z.id;});this.ensureSelectedAccountLoaded(y);},_shouldFilterOutBizAccounts:function(){if(!r.gk.business_identity_ui||(r.optOut&&!this.state.businessID))return false;return true;},_filterAccounts:function(x){if(!this._shouldFilterOutBizAccounts())return x;var y=!this.state.businessID,z=h.groupAccounts(x,!y);if(y){var aa=z.groupedAssets;for(var ba=0;ba<aa.length;ba++){var ca=aa[ba];if(ca.bizID===s.NULL_BIZ_ID)return ca.assets;}}this.setState({groupedAccounts:z.groupedAssets,businesses:z.businessesByID});return z.assets;},ensureSelectedAccountLoaded:function(x){var y=g.getState();if(x.has(y.accountID)||!y.currency){this.setState({accounts:x});return;}var z=k.fromArray([{name:y.name,id:y.accountID,currency:y.currency}],function(ba){return ba.id;}),aa=x.merge(z);this.setState({accounts:aa});},componentWillUnmount:function(){this.subscriptions.release();},_formatAccountLabel:function(x){var y=x.name?x.name+', ':'';return '#'+x.id+' ('+y+x.currency+')';},render:function(){var x=this.state.accounts;if(x.length<2)return l.createElement("div",{className:"hidden_elem"});var y=g.getState().accountID;if(!x.has(y))return l.createElement("div",{className:"hidden_elem"});var z=[];if(!this.state.businessID){z=x.filter(function(da){return da.accountStatus===t.ACTIVE;}).map(function(da,ea,fa){return (l.createElement(u,{value:da.id,key:ea},this._formatAccountLabel(da)));}.bind(this)).toArray();}else{y=this._getBizSelectorValue(y,this.state.businessID);var aa=this.state.groupedAccounts;for(var ba=0;ba<aa.length;ba++){var ca=this._renderGroupedAdAccount(aa[ba]);z=z.concat(ca);}}return (l.createElement(p,{alignh:"right",className:this.props.className,onChange:this._handleAccountChange,initialValue:y},z));},_renderGroupedAdAccount:function(x){var y=[l.createElement(o,{key:x.bizID},x.name)];y=y.concat(this._renderAdAccountSelectorOptions(x.assets,x.bizID));for(var z=0;z<x.projects.length;z++){y.push(l.createElement(o,{key:x.projects[z].labelID},x.projects[z].name));y=y.concat(this._renderAdAccountSelectorOptions(x.projects[z].assets,x.bizID));}return y;},_renderAdAccountSelectorOptions:function(x,y){var z=[];for(var aa=0;aa<x.length;aa++){var ba=x[aa],ca=this._getBizSelectorValue(ba.id,y);z.push(l.createElement(u,{value:ca,key:ca},this._formatAccountLabel(ba)));}return z;},_getBizSelectorValue:function(x,y){return x+"+"+y;},_parseBizSelectorValue:function(x){return {accountID:x.split("+")[0],businessID:x.split("+")[1]};},_handleAccountChange:function(event){var x=g.getState().accountID,y,z,aa;if(this.state.businessID){var ba=this._parseBizSelectorValue(event.value);y=ba.accountID;z=ba.businessID;if(y!==x||z!==this.state.businessID){aa=n().addQueryData({act:y,business_id:z,allowRedirect:1});q(aa);}}else{y=event.value;if(y!==g.getState().accountID){aa=n().addQueryData({act:y,allowRedirect:1});q(aa);}}}});e.exports=w;},null);
__d("AdsCFAccountHeader.react",["AdsCFAccountSelector","AdsCFConstants","AdsCFApplicationStore","LeftRight.react","React","SubscriptionsHandler","BusinessURI.brands","XUIButton.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';var q=h.CreateMode,r=h.DocumentTitles,s="_5ivl pbm",t=k.createClass({displayName:"AdsCFAccountHeader",handleChange:function(){this.forceUpdate();},componentWillMount:function(){this.subscriptions=new l();this.subscriptions.addSubscriptions(i.subscribe('change',this.handleChange));},componentWillUnmount:function(){this.subscriptions.release();},render:function(){switch(i.getCurrentMode()){case q.EDIT_EXISTING:return this.renderEditingHeader();case q.CREATE_SIMILAR:return this.renderCreateSimilarHeader();case q.CREATE_NEW_CAMPAIGN_GROUP:case q.CREATE_NEW_CAMPAIGN:case q.CREATE_NEW_AD_GROUP:return this.renderCreateNewHeader();}},renderEditingHeader:function(){var u=r[q.EDIT_EXISTING],v=m().removeQueryData(['edit']).addQueryData({allowRedirect:1});return (k.createElement(j,{className:s},k.createElement("h2",{className:"fsxl"},u),k.createElement(n,{className:"_5jk1",href:v,label:"Create a Similar Advert"})));},renderCreateSimilarHeader:function(){return (k.createElement("div",{className:s},k.createElement("h2",{className:"fsxl"},r[q.CREATE_SIMILAR])));},renderCreateNewHeader:function(){var u;if(!i.isCampaignManager())u=k.createElement(g,{className:"_5jk1"});return (k.createElement(j,{className:s},k.createElement("h2",{className:"fsxl"},r[q.CREATE_NEW_CAMPAIGN_GROUP]),u));}});e.exports=t;},null);
__d("AdsCFCurrencySelector.react",["AdsCurrency","React","XUISingleSelector.react"],function(a,b,c,d,e,f,g,h,i){'use strict';var j=i.Option,k=h.createClass({displayName:"AdsCFCurrencySelector",propTypes:{},render:function(){var l=g.currencyMapKeys.map(function(n){return g.currencies[n];}).sort(function(n,o){return n.name>o.name?1:-1;}),m=l.map(function(n){return (h.createElement(j,{key:n.iso,value:n.iso},n.name));});return (h.createElement(i,h.__spread({},this.props),m));}});e.exports=k;},null);
__d("AdsCFAccountEditor.react",["AdsCFActionTypes","AdsCFCurrencySelector.react","AdsCountries","AdsDispatcher","AdsSwapChargeCurrency","AdsTextInput.react","AdsTimestamp.react","AdsTimezone","FBMoreLink.react","InfoTable.react","InfoTableRow.react","InfoTableSection.react","React","XUISingleSelector.react","XUIText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';var x=s.PropTypes,y=t.Option,z=n.countryCodeToTimezoneIDsMap,aa=n.names,ba='m/d/Y g:ia',ca=130,da=300,ea=s.createClass({displayName:"AdsCFAccountEditor",propTypes:{countryCode:x.string.isRequired,currency:x.string.isRequired,name:x.string.isRequired,showCurrencySwapWarning:x.bool,timezoneID:x.number.isRequired,timezoneOffset:x.number.isRequired},getInitialState:function(){return {advancedOptionsShown:false};},_getCurrencyWarnBox:function(){var fa;if(this.props.currency!=='BRL'||this.props.countryCode!=='BR'||!this.props.showCurrencySwapWarning)fa=k.renderWarnbox(this.props.currency);if(fa)fa=s.createElement(q,null,fa);return fa;},render:function(){var fa=this.state.advancedOptionsShown?[s.createElement(q,{className:"_3vcz",key:"accountName",label:"Advert Account Name"},s.createElement(l,{onChange:this.setName,value:this.props.name})),s.createElement(q,{key:"inlineHelp"},s.createElement(u,{className:"_5m30",size:"small"},"Use your own name or the name of the business you're going to advertise. You can change this later."))]:null;return (s.createElement("div",{className:"_4kb4 _3vcy"},s.createElement(p,null,s.createElement(r,null,s.createElement(q,{label:"Account Country"},this._renderCountrySelector()),s.createElement(q,{label:"Currency"},this._renderCurrencySelector()),this._getCurrencyWarnBox(),s.createElement(q,{label:"Time Zone"},this._renderTimeZoneSelector()),s.createElement(q,null,s.createElement("div",null,s.createElement(m,{date:new Date(),dateFormat:ba,interval:30000,label:"UTC time",timezoneOffset:0}),s.createElement(m,{className:"_3-9c",date:new Date(),dateFormat:ba,interval:30000,label:"Local time",timezoneOffset:this.props.timezoneOffset}))))),s.createElement("div",{className:"_5m34 _3-8y _2pie"},s.createElement(p,null,s.createElement(r,null,fa,s.createElement(q,null,s.createElement(o,{allowToggle:true,className:"_5m35",isInitiallyCollapsed:!this.state.advancedOptionsShown,lessLabel:"Hide Advanced Options",moreLabel:"Show Advanced Options",onClick:this._onAdvancedOptionsToggleClick})))))));},_renderCountrySelector:function(){var fa=i.countries,ga=Object.keys(fa).sort(function(ia,ja){return fa[ia]>fa[ja]?1:-1;}),ha=ga.map(function(ia){return (s.createElement(y,{key:ia,value:ia},i.countries[ia]));});return (s.createElement(t,{maxheight:da,maxwidth:ca,onChange:this.setCountryCode,size:'xlarge',value:this.props.countryCode},ha));},_renderCurrencySelector:function(){return (s.createElement(h,{maxheight:da,maxwidth:ca,onChange:this.setCurrency,size:'xlarge',value:this.props.currency}));},_renderTimeZoneSelectorOption:function(fa){return (s.createElement(y,{key:fa,value:fa.toString()},aa[fa]));},_renderTimeZoneSelector:function(){var fa=z[this.props.countryCode],ga=false,ha=fa.map(function(ia){if(!ga)ga=ia===this.props.timezoneID;return this._renderTimeZoneSelectorOption(ia);}.bind(this));if(!ga)ha.unshift(this._renderTimeZoneSelectorOption(this.props.timezoneID));return (s.createElement(t,{maxheight:da,onChange:this.setTimeZone,size:'xlarge',value:this.props.timezoneID.toString()},ha));},_onAdvancedOptionsToggleClick:function(){this.setState({advancedOptionsShown:!this.state.advancedOptionsShown});},setName:function(fa){j.handleUpdateFromViewAction({actionType:g.CHANGE_ACCOUNT_NAME,name:fa});},setCountryCode:function(event){j.handleUpdateFromViewAction({actionType:g.CHANGE_ACCOUNT_COUNTRY,country:event.value});},setCurrency:function(event){j.handleUpdateFromViewAction({actionType:g.CHANGE_ACCOUNT_CURRENCY,currency:event.value});},setTimeZone:function(event){j.handleUpdateFromViewAction({actionType:g.CHANGE_ACCOUNT_TIMEZONE_ID,timezoneID:parseInt(event.value,10)});}});e.exports=ea;},null);
__d("AbstractActionList.react",["React","ReactChildren"],function(a,b,c,d,e,f,g,h){var i=' \u00b7 ',j=g.createClass({displayName:"AbstractActionList",render:function(){var k=true,l=h.map(this.props.children,function(m){if(!m)return m;if(k){k=false;return m;}return {BULLET:i,child:m};});return g.createElement("div",g.__spread({},this.props),l);}});e.exports=j;},null);
__d("ActionList.react",["AbstractActionList.react","joinClasses","React"],function(a,b,c,d,e,f,g,h,i){var j=i.createClass({displayName:"ActionList",render:function(){return (i.createElement(g,i.__spread({},this.props,{className:h(this.props.className,"fsm fwn fcg")}),this.props.children));}});e.exports=j;},null);
__d("AdsCFCampaignEditorUtils",["AdsCampaignUtils","AdsCFConstants","AdsCurrencyFormatter","React","XUIDateTimePickerUtils","cx","fbt","formatDate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';var o=h.CampaignBudgetModes,p=h.CampaignScheduleModes,q={generateNameLabel:function(){return ("Advert Set Name");},generateNameHelpText:function(){return "Give your advert set a name that describes the audience, scheduling or adverts inside it. If you're using an existing advert set, then you can keep the same name.";},generateExistingNameHelpText:function(){return ["Choose the existing advert set that you want to use for this advert in the drop-down menu. You can change your existing advert set by clicking \"Edit advert set\" below.","All of the adverts in an advert set should use the same objective and destination. For example, use an advert set to get more Page likes for one Facebook Page rather than two different Pages."];},generateBudgetLabel:function(){return ("Budget");},generateRemainingBudgetLabel:function(){return ("Remaining Budget");},generateBudgetHelpText:function(){return ["Your advert set budget is the maximum amount you want to spend.","If you choose a daily budget, the amount you enter is the maximum you'll spend each day. If you choose a lifetime budget, the amount you enter is the maximum you'll spend during the lifetime of your advert set."];},generateExistingBudgetHelpText:function(){return "Your advert set budget is the maximum amount you want to spend each day or over the lifetime of your advert set.";},generateLifetimeBudgetHelpText:function(){return "The lifetime budget you enter is the maximum you'll spend during the lifetime of your advert.";},generateBudgetString:function(s,t){var u=i.formatCurrency(t,s.budget),v=i.formatCurrency(t,s.budget-s.lifetimeBudgetSpent),w;if(s.budgetMode===o.DAILY){w=m._("{budget} per day",[m.param("budget",u)]);}else w=m._("{budget_remaining} {budget_total}",[m.param("budget_remaining",v),m.param("budget_total",m._("of {budget} lifetime budget",[m.param("budget",u)]))]);return w;},generateScheduleLabel:function(){return ("Schedule");},generateScheduleHelpText:function(){return "Your advert set will either run continuously starting today or within a date range that you select.";},generateDayPartingLabel:function(){return ("Advert Scheduling");},generateDayPartingHelpText:function(){return ("You can only run your adverts on a schedule if you're using a lifetime budget.");},generateDeliveryLabel:function(){return ("Delivery Type");},generateDeliveryHelpText:function(){return ("Accelerated Delivery requires use of manual bid pricing.");},generateRotationLabel:function(){return ("Rotation");},generateExistingScheduleHelpText:function(){return "Your advert set will either run continuously starting today or within a date range that you've selected. You can change your schedule by clicking on \"Edit Advert Set\" below.";},generateScheduleString:function(s){var t;if(s.scheduleMode===p.SCHEDULED){t=m._("{start} - {end}",[m.param("start",n(s.startDate,'F j, Y')),m.param("end",n(s.endDate,'F j, Y'))]);}else t="Running continuously";return t;},generateStatusLabel:function(){return ("Status");},generateStatusHelpText:function(){return "Your advert set status indicates whether your advert set is turned On or Off.";},generatePlacementLabel:function(){return "Placements";},generatePlacementHelpText:function(){return "Choose where you want your adverts to be shown on Facebook and the placements that are most important to you.";},getMaxSpendEstimateMessage:function(s,t){if(t.scheduleMode===p.CONTINUOUSLY)return null;if(!r(t))return ("You'll be able to see the maximum you'll spend once you add a budget and schedule.");var u=s.currency,v=s.timezoneOffsetHours;if(t.isNewCampaign)return q.generateMaxSpendMessage(t,u,v);return (q.generateMaxSpendMessageForExistingCampaign(t,u,v));},generateMaxSpendMessage:function(s,t,u){var v=s.budget;if(s.budgetMode===o.DAILY){var w=g.getCampaignDayCount(s.startDate,s.endDate);v*=w;}var x=k.offsetDate(s.endDate,u),y=n(x,'l, F j, Y',{utc:true}),z=i.formatCurrencyWithNumberDelimiters(t,v);return (j.createElement("div",null,j.createElement("div",null,m._("Your advert will run until {endDate}.",[m.param("endDate",j.createElement("strong",null,y))])),j.createElement("div",{className:"_2pid"},m._("You'll spend up to {amount} in total.",[m.param("amount",j.createElement("strong",null,z))]))));},generateMaxSpendMessageForExistingCampaign:function(s,t,u){if(s.budgetMode===o.LIFETIME)return q.generateMaxSpendMessage(s,t,u);var v=s.budget,w=g.getCampaignDayLeftCount(s.startDate,s.endDate),x=g.getCampaignDaysLabel(w),y=i.formatCurrencyWithNumberDelimiters(t,v*w);return (m._("For the remaining {num_days} in your advert set, the most you'll spend is {amount}",[m.param("num_days",x),m.param("amount",j.createElement("strong",null,y))]));}};function r(s){return s.startDate&&s.endDate&&s.endDate>s.startDate&&s.budget>0;}e.exports=q;},null);
__d("AdsCFCampaignSelector.react",["ActionList.react","AdsCFCampaignEditorUtils","AdsCFCampaignUtils","AdsRichSelector.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=j.Option,o=k.PropTypes,p=k.createClass({displayName:"AdsCFCampaignSelector",propTypes:{allCampaigns:o.object.isRequired,currency:o.string.isRequired,pricing:o.object.isRequired,selectedCampaign:o.object.isRequired,onCampaignChange:o.func,targeting:o.object,destinationID:o.string},componentDidMount:function(){this.props.onCampaignChange(this.props.selectedCampaign.campaignID);},render:function(){var q=i.toFilteredSortedArray(this.props.allCampaigns),r=q.map(function(s){var t=h.generateBudgetString(s,this.props.currency),u=i.getCampaignCannotBeSelectedReason(s,this.props.targeting,this.props.pricing,this.props.destinationID),v=u===null;return (k.createElement(n,{clickable:v,key:s.campaignID,label:s.name,value:s.campaignID},k.createElement("div",{"aria-label":u,className:(("_p9f")+(!v?' '+"_40mf":'')+(' '+"_2pi3")),"data-hover":"tooltip"},k.createElement("div",null,s.name),k.createElement(g,{className:"_p9g"},this._getDraftString(s),i.getUIStatus(s),t,h.generateScheduleString(s)))));}.bind(this));return (k.createElement(j,{defaultValue:this.props.selectedCampaign.campaignID,key:"campaignSelect",maxheight:300,maxwidth:300,onChange:this._onCampaignChange,useMenuDividers:true},r));},_getDraftString:function(q){return q.isDraftOnly?"Draft":null;},_onCampaignChange:function(q){this.props.onCampaignChange&&this.props.onCampaignChange(q.value);}});e.exports=p;},null);
__d("AdsCFCampaignDialog.react",["AdsCFCampaignActions","AdsCFCampaignSelector.react","AdsCFCampaignUtils","AdsCFConstants","AdsDialog.react","ImmutableObject","InfoTable.react","InfoTableRow.react","InfoTableSection.react","InputLabel.react","React","XUIRadioInput.react","cx","fbt","guid"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';var v=q.PropTypes,w=250,x=j.NEW_CAMPAIGN_ID,y=q.createClass({displayName:"AdsCFCampaignDialog",propTypes:{allCampaigns:v.object.isRequired,allSelectableCampaigns:v.object.isRequired,clickableTrigger:v.object.isRequired,currency:v.string.isRequired,destinationID:v.string,pricing:v.object.isRequired,selectedCampaign:v.object.isRequired,selectedCampaignGroup:v.object.isRequired,targeting:v.object.isRequired},getInitialState:function(){return {radioInputID:u(),selectedCampaignID:this.props.selectedCampaign.campaignID};},componentDidMount:function(){this._onConfirm();},componentWillReceiveProps:function(z){var aa=this.props.selectedCampaign,ba=this.props.selectedCampaignGroup;if(aa.campaignID!==z.selectedCampaign.campaignID||ba.id!==z.selectedCampaignGroup.id)this.setState({selectedCampaignID:z.selectedCampaign.campaignID});},render:function(){return (q.createElement(k,{buttonSpecs:[{key:'cancel',action:'cancel',label:"Cancel"},{key:'confirm',action:'confirm',use:'confirm',label:"Save",disabled:this._isConfirmDisabled()}],clickableTrigger:this.props.clickableTrigger,fixedTopPosition:w,onConfirm:this._onConfirm,title:"Change Advert Set",width:500},q.createElement("div",{className:"_zmo"},q.createElement(m,null,q.createElement(o,null,this._renderChoiceRow(),this._renderNameRow())))));},_renderChoiceRow:function(){var z=this.state.selectedCampaignID===x,aa=l.values(this.props.allSelectableCampaigns);return (q.createElement(n,{key:"campaignChoice",label:"Advert Set"},q.createElement("div",{className:"_zmp"},q.createElement(p,{className:"_4cc7"},q.createElement(r,{checked:z,name:this.state.radioInputID,onChange:this._onChoiceClick,value:"new"}),q.createElement("label",{className:"_zmq"},"Create a New Advert Set")),q.createElement(p,null,q.createElement(r,{checked:!z,name:this.state.radioInputID,onChange:this._onChoiceClick,value:"existing",disabled:!aa.length}),q.createElement("label",{className:"_zmq"},"Use Existing Advert Set")))));},_renderNameRow:function(){var z=this.state.selectedCampaignID,aa=this.props.allCampaigns[z];if(z===x)return null;return (q.createElement(n,{key:"campaignName",label:"Advert Set Name"},q.createElement("div",{className:"_5v75"},q.createElement(h,{allCampaigns:this.props.allCampaigns,currency:this.props.currency,destinationID:this.props.destinationID,onCampaignChange:this._onCampaignChange,selectedCampaign:aa,targeting:this.props.targeting,pricing:this.props.pricing}))));},_onChoiceClick:function(event){var z=i.toFilteredSortedArray(this.props.allSelectableCampaigns);this.setState({selectedCampaignID:event.target.value==='existing'?z[0].campaignID:x});},_onCampaignChange:function(z){this.setState({selectedCampaignID:z});},_onConfirm:function(){var z=this.state.selectedCampaignID,aa=this.props.allCampaigns[z];g.selectCampaign(aa.campaignID,aa.targeting,aa.pricing);},_isConfirmDisabled:function(){return this.state.selectedCampaignID===this.props.selectedCampaign.campaignID;}});e.exports=y;},null);
__d("StoreBasedStateMixin",["SubscriptionsHandler","invariant"],function(a,b,c,d,e,f,g,h){'use strict';var i=function(){for(var j=[],k=0,l=arguments.length;k<l;k++)j.push(arguments[k]);h(j.length);return {componentWillMount:function(){h(this.calculateState);this._subscriptions=new g();var m=function(){this.setState(this.calculateState());}.bind(this),n=j.map(function(o){h(o.subscribe||o.addListener);if(o.subscribe){return o.subscribe('change',m);}else return o.addListener('change',m);},this);this._subscriptions.addSubscriptions.apply(this._subscriptions,n);},componentWillUnmount:function(){this._subscriptions.release();},getInitialState:function(){return this.calculateState();}};};e.exports=i;},null);
__d("AdsCFCampaignDialogContainer.react",["AdsCFAccountStore","AdsCFCampaignDialog.react","AdsCFCampaignGroupStore","AdsCFCampaignStore","AdsCFDestinationStore","AdsCFConstants","AdsCFPricingStore","AdsCFTargetingStore","ImmutableObject","Link.react","React","StoreBasedStateMixin","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';var t=q.PropTypes,u=q.createClass({displayName:"AdsCFCampaignDialogContainer",mixins:[r(g,i,j,m,n)],propTypes:{existingSelectedLabel:t.string,newSelectedLabel:t.string,showWhenEmptyCampaigns:t.bool},getDefaultProps:function(){return {existingSelectedLabel:"Change Advert Set",newSelectedLabel:"Use Existing Advert Set",hideWhenEmptyCampaigns:true};},calculateState:function(){var v=i.getSelectedState();return {account:g.getState(),allCampaigns:j.getAllStatesForCampaignGroup(v.id),allSelectableCampaigns:j.getAllSelectableStatesForCampaignGroup(v.id),destinationID:k.getDestinationID(),pricing:m.getState(l.CanonicalID),selectedCampaignGroup:v,selectedCampaign:j.getSelectedCampaignState(),targeting:n.getState(l.CanonicalID)};},render:function(){if(!o.values(this.state.allSelectableCampaigns).length&&this.props.hideWhenEmptyCampaigns)return null;var v=this.state.selectedCampaign.isNewCampaign?this.props.newSelectedLabel:this.props.existingSelectedLabel,w=q.createElement(p,null,v);return (q.createElement(h,{allCampaigns:this.state.allCampaigns,allSelectableCampaigns:this.state.allSelectableCampaigns,clickableTrigger:w,currency:this.state.account.currency,destinationID:this.state.destinationID,pricing:this.state.pricing,selectedCampaign:this.state.selectedCampaign,selectedCampaignGroup:this.state.selectedCampaignGroup,targeting:this.state.targeting}));}});e.exports=u;},null);
__d("AdsCFCampaignGroupUtils",["AdsCFConstants","AdsDateUtils","fbt"],function(a,b,c,d,e,f,g,h,i){'use strict';var j=g.CampaignGroupRunStatuses;function k(m,n){var o=h.parseISODate(m.updatedTime).valueOf(),p=h.parseISODate(n.updatedTime).valueOf();if(o===p)return 0;return o>p?-1:1;}var l={getDefaultExistingID:function(m){var n=m.matchingObjective.length?m.matchingObjective:m.noneObjective,o=n[0]&&n[0].id;return o;},getUIStatus:function(m){switch(m.status){case j.ACTIVE:return "On";case j.PAUSED:return "Off";}},toFilteredSortedArray:function(m){return m.filter(function(n){return !n.isNew;}).sort(k);}};e.exports=l;},null);
__d("AdsCFCampaignGroupDialog.react",["ActionList.react","AdsAPIObjectives","AdsCFCampaignGroupActions","AdsCFCampaignGroupUtils","AdsCFConstants","AdsContextualHint.react","AdsDialog.react","ads-objectives","AdsObjectivesConfig","AdsRichSelector.react","ContextualDialog.react","InfoTable.react","InfoTableRow.react","InfoTableSection.react","InputLabel.react","LayerFadeOnHide","React","ReactLayeredComponentMixin","XUIRadioInput.react","cx","fbt","guid"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){var ca=p.Option,da=w.PropTypes,ea=250,fa=n.APItoKPIObjectives,ga=k.NEW_CAMPAIGN_GROUP_ID,ha=w.createClass({displayName:"AdsCFCampaignGroupDialog",mixins:[x],propTypes:{allCampaigns:da.object.isRequired,allCampaignGroups:da.array,campaignGroup:da.object.isRequired,clickableTrigger:da.object.isRequired,defaultToExisting:da.bool,existingCampaignGroups:da.object.isRequired,newCampaignGroup:da.object.isRequired,objective:da.string},getDefaultProps:function(){return {allCampaignGroups:[],defaultToExisting:false,objective:h.NONE};},getInitialState:function(){return {editedName:this.props.campaignGroup.name,radioInputID:ba(),selectedID:this.props.defaultToExisting?this._getDefaultSelectedExistingID(this.props):this.props.campaignGroup.id,showNameAdjustedDialog:false};},componentWillReceiveProps:function(ia){if(this.props.campaignGroup.id!==ia.campaignGroup.id||this.props.defaultToExisting!==ia.defaultToExisting||this.props.objective!==ia.objective)this.setState({selectedID:ia.defaultToExisting?this._getDefaultSelectedExistingID(ia):ia.campaignGroup.id});if(this.props.newCampaignGroup.name!==ia.newCampaignGroup.name)this.setState({editedName:ia.newCampaignGroup.name});},_getDefaultSelectedExistingID:function(ia){if(ia.objective!==h.NONE)return j.getDefaultExistingID(ia.existingCampaignGroups);var ja=j.toFilteredSortedArray(ia.allCampaignGroups);return ja[0]&&ja[0].id;},render:function(){return (w.createElement(m,{buttonSpecs:[{key:'cancel',action:'cancel',label:"Cancel"},{key:'confirm',action:'confirm',use:'confirm',label:"Save",disabled:this._isConfirmDisabled()}],clickableTrigger:this.props.clickableTrigger,fixedTopPosition:ea,onConfirm:this._onConfirm,title:"Change Campaign",width:500},w.createElement("div",{className:"_5y3_"},w.createElement(r,null,w.createElement(t,null,this._renderChoiceRow(),this._renderNameRow())))));},renderLayers:function(){if(!this.refs||!this.refs.campaignGroupNameInput||this.state.selectedID!==ga){this.state.showNameAdjustedDialog&&this.setState({showNameAdjustedDialog:false});return {};}var ia="Update to Your Campaign Name",ja="Your campaign name was left blank, so your existing campaign name was used.";return {nameAdjustedLayer:w.createElement(q,{behaviors:{LayerFadeOnHide:v},contextRef:"campaignGroupNameInput",position:"left",shown:this.state.showNameAdjustedDialog,width:300},w.createElement(l,{onClick:this._onNameAdjustedDialogClick,title:ia},ja))};},_getCampaignCount:function(ia){var ja=this.props.allCampaigns,ka=0;Object.keys(ja).forEach(function(la){if(ja[la].campaignGroupID===ia)++ka;});return ka;},_getCampaignCountString:function(ia){var ja=this._getCampaignCount(ia);if(ja===0)return ("All Advert Sets Completed");return (aa._({"Ad Sets":"{number} Advert Sets","Ad Set":"{number} Advert Set"},[aa.param("number",ja),aa['enum'](ja===1?'Ad Set':'Ad Sets',{"Ad Sets":"Ad Sets","Ad Set":"Ad Set"})]));},_isConfirmDisabled:function(){if(this.state.selectedID===ga)return this.state.editedName===this.props.newCampaignGroup.name&&this.state.selectedID===this.props.campaignGroup.id;return this.state.selectedID===this.props.campaignGroup.id;},_renderChoiceRow:function(){var ia=this.state.selectedID===ga;return (w.createElement(s,{key:"campaignGroupChoice",label:"Campaign"},w.createElement("div",{className:"_5xgc"},w.createElement(u,{className:"_4cc7"},w.createElement(y,{checked:ia,name:this.state.radioInputID,onChange:this._onChoiceClick,value:"new"}),w.createElement("label",{className:"_4cc8"},"Create a New Campaign")),w.createElement(u,null,w.createElement(y,{checked:!ia,disabled:!this._getDefaultSelectedExistingID(this.props),name:this.state.radioInputID,onChange:this._onChoiceClick,value:"existing"}),w.createElement("label",{className:"_4cc8"},"Use Existing Campaign")))));},_renderNameRow:function(){if(this.state.selectedID===ga)return {};var ia=this.state.selectedID===ga?this._renderNameInput():this._renderNameSelector();return (w.createElement(s,{key:"campaignGroupName",label:"Campaign Name"},ia));},_renderNameInput:function(){return (w.createElement("input",{className:"_5xge",key:"campaignGroupNameInput",onBlur:this._onNameBlur,onChange:this._onNameChange,ref:"campaignGroupNameInput",type:"text",value:this.state.editedName}));},_renderNameSelector:function(){var ia;if(this.props.objective!==h.NONE){var ja=this.props.existingCampaignGroups,ka=ja.matchingObjective.map(function(ma){return this._renderCampaignGroupOption(ma,true);}.bind(this)),la=ja.noneObjective.map(function(ma){return this._renderCampaignGroupOption(ma,false);}.bind(this));ia=[ka,la];}else{ia=j.toFilteredSortedArray(this.props.allCampaignGroups);ia=ia.map(function(ma){return this._renderCampaignGroupOption(ma,false);}.bind(this));}return (w.createElement("div",{className:"_5xgi"},w.createElement(p,{maxheight:300,maxwidth:300,onChange:this._onSelect,useMenuDividers:true,defaultValue:this.state.selectedID},ia)));},_renderCampaignGroupOption:function(ia,ja){var ka=null;if(ja){var la=fa[ia.objective];ka=w.createElement("span",{className:"_5xwg"},o.getName(la));}return (w.createElement(ca,{label:ia.name,key:ia.id,value:ia.id},w.createElement("div",{className:"_2nbg"},w.createElement("div",{className:"_5xgg"},ia.name),w.createElement(g,{className:"_5xgh"},this._getDraftString(ia),j.getUIStatus(ia),this._getCampaignCountString(ia.id),ka))));},_getDraftString:function(ia){return ia.isDraftOnly?"Draft":null;},_onChoiceClick:function(event){this.setState({selectedID:event.target.value==='existing'?this._getDefaultSelectedExistingID(this.props):ga});},_onConfirm:function(){if(this.state.selectedID===ga&&this.state.editedName!==this.props.newCampaignGroup.name){this._onConfirmName(this.state.editedName);}else if(this.state.selectedID!==this.props.campaignGroup.id)i.select(this.state.selectedID);},_onConfirmName:function(ia){i.selectAndUpdate(this.props.newCampaignGroup.id,ia);},_onNameChange:function(event){this.setState({editedName:event.target.value});},_onNameBlur:function(event){var ia=event.target.value;if(!ia)this.setState({editedName:this.props.newCampaignGroup.name,showNameAdjustedDialog:true});},_onNameAdjustedDialogClick:function(){this.setState({showNameAdjustedDialog:false});},_onSelect:function(ia){this.setState({selectedID:ia.value});}});e.exports=ha;},null);
__d("AdsCFSectionHeader.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){'use strict';var j=g.PropTypes,k=g.createClass({displayName:"AdsCFSectionHeader",propTypes:{title:j.node.isRequired,link:j.object},render:function(){if(this.props.title)var l=g.createElement("h3",{className:"_5ai3"},this.props.title);if(this.props.link)var m=g.createElement("div",{className:"_40pi"},this.props.link);return (g.createElement("div",{className:i(this.props.className,"_2jmp")},m,l));}});e.exports=k;},null);
__d("AdsCFViewportBounds",["AdsCFNavigationStore","DOMDimensions","Style","ViewportBounds","ge"],function(a,b,c,d,e,f,g,h,i,j,k){'use strict';function l(n){var o=k(n);return o&&i.isFixed(o)?o.offsetHeight:0;}var m={getTop:function(){var n=g.getScrollContainer();if(n.getBoundingClientRect){return n.getBoundingClientRect().top;}else return j.getTop();},getBottom:function(){var n=g.getScrollContainer();if(n.getBoundingClientRect){return h.getDocumentDimensions().height-n.getBoundingClientRect().bottom;}else return j.getBottom()+l('alpha_console_container');}};e.exports=m;},null);
__d("AdsCFSection.react",["AdsCFSectionHeader.react","AdsCFViewportBounds","AdsFixedPositionContainer.react","Link.react","React","Style","URI","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';var p=k.PropTypes,q=269,r=k.createClass({displayName:"AdsCFSectionRightColumnSubHeader",propTypes:{label:p.string.isRequired},render:function(){return (k.createElement("h5",{className:"_781 _3-96"},this.props.label));}}),s=k.createClass({displayName:"AdsCFSectionRightColumn",propTypes:{fixedContent:p.bool,title:p.string},componentDidMount:function(){this._setContainerHeight();},componentDidUpdate:function(u){this._setContainerHeight();},render:function(){var u;if(this.props.title)u=k.createElement("h4",{className:"_783 _3-97 _2pip"},this.props.title);var v=k.createElement("div",{className:"_2v2a"},u,this.props.children);if(this.props.fixedContent)v=k.createElement("div",{className:"_31x8"},k.createElement(i,{attachTo:this,getTopOffset:h.getTop,width:q},v));return (k.createElement("div",{className:o(this.props.className,"_2bdl"),ref:"container"},v));},_setContainerHeight:function(){if(!this.props.fixedContent||!this.refs||!this.refs.container)return;var u=this.refs.container.getDOMNode();u.removeAttribute('style');l.apply(u,{height:u.offsetHeight+'px'});}}),t=k.createClass({displayName:"AdsCFSection",propTypes:{title:p.node.isRequired,helpURI:p.instanceOf(m),helpLabel:p.string,noPadding:p.bool,onHelpLinkClick:p.func,rightCol:p.element},render:function(){var u=this.props.rightCol;return (k.createElement("div",{className:o(this.props.className,"_2po1")},k.createElement(g,{title:this.props.title,link:this._getHeaderLink()}),k.createElement("div",{className:(("clearfix")+(' '+"_5yz-")+(this.props.noPadding?' '+"_5yz_":'')+(u?' '+"_2bdn":'')+(' '+"_2lzl"))},k.createElement("div",{className:"_2bdo"},this.props.children),u)));},_getHeaderLink:function(){if(!this.props.helpLabel||!this.props.helpURI)return null;return (k.createElement(j,{href:this.props.helpURI,target:"_blank",onClick:this.props.onHelpLinkClick},this.props.helpLabel));}});t.RightColumn=s;t.RightColumnSubHeader=r;e.exports=t;},null);
__d("AdsCFSectionGroup.react",["LeftRight.react","React","XUICard.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){'use strict';var l=h.PropTypes,m=h.createClass({displayName:"AdsCFSectionGroup",propTypes:{title:l.string.isRequired,link:l.object},render:function(){return (h.createElement("div",{className:k(this.props.className,"uiContextualLayerParent _3a55")},h.createElement(g,null,h.createElement("h2",{className:"_3a56"},this.props.title),h.createElement("div",{className:"_1v5k"},this.props.link)),h.createElement(i,{className:"_3a57"},this.props.children)));}});e.exports=m;},null);
__d("AdsCFCouponActivationNotice",["AdsCFAccountStore","AdsCFBox.react","React","fbt","formatDate","SubscriptionsHandler"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m={account:g},n=i.createClass({displayName:"AdsCFCouponActivationNotice",componentWillMount:function(){this.subscriptions=new l();var o=function(){this.forceUpdate();}.bind(this);Object.keys(m).forEach(function(p){this.subscriptions.addSubscriptions(m[p].subscribe('change',o));}.bind(this));},componentWillUnmount:function(){this.subscriptions.release();},render:function(){var o=g.getState().couponActivationResponse;if(!o)return (i.createElement("div",null));return (i.createElement(h,{type:this.getBoxType(o),className:"pam mbl"},i.createElement("div",{className:"fsl fwb mbs"},this.getTitle(o)),this.getBodyText(o)));},getBoxType:function(o){if(!o.error_code||o.error_code==1410013)return "yellow";return "red";},getTitle:function(o){if(o.error_code)switch(o.error_code){case 1410017:return "Expired Coupon";case 1410013:return "Coupon already claimed";default:return "There was a problem claiming your coupon.";}return j._("You've successfully claimed your {amount} coupon.",[j.param("amount",o.coupon.display_amount)]);},getBodyText:function(o){var p=k(new Date(o.coupon.expiration*1000),'Y-m-d');if(o.error_code)switch(o.error_code){case 1410017:case 1410016:return j._("The coupon you've attempted to claim expired on {date}",[j.param("date",p)]);case 1410013:return "This coupon has already been added to your advert account. Each coupon can only be used once.";case 1410020:return "This coupon has already been added to another advert account. Each coupon can only be used once.";case 1410008:return "We tried activating your coupon but it seems you are no longer eligible, the coupon is for new advertisers only";default:return "Something went wrong when we tried activating this coupon. Please try again in a few minutes.";}if(o.coupon.has_funding_source)return j._("Your coupon will be used as your primary payment method until it runs out or expires on {date}",[j.param("date",p)]);return j._("Create an advert to start using your coupon before it expires on {date}",[j.param("date",p)]);}});e.exports=n;},null);
__d("AdsCFCreativeWarningsSection.react",["AdsCreativeImageTextOverlayDialog.react","React","ReactComponentWithPureRenderMixin","XUINotice.react","XUIText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=h.PropTypes,o=h.createClass({displayName:"AdsCFCreativeWarningsSection",mixins:[i],propTypes:{images:n.array.isRequired,boxes:n.arrayOf(n.arrayOf(n.bool))},render:function(){return (h.createElement("div",{className:"_395f"},h.createElement(j,{use:"warn",className:"_4q42 _3-8o"},m._("Advert images with text that takes up more than 20\u0025 of the image may not be approved. {=Learn more} about using text in adverts.",[m.param("=Learn more",h.createElement(g,{images:this.props.images,preselectedBoxes:this.props.boxes,readOnly:true},h.createElement(k,{weight:"bold",size:"medium"},"Learn more")))]))));}});e.exports=o;},null);
__d("AdFeedback",["ImmutableObject"],function(a,b,c,d,e,f,g){for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(){"use strict";if(g!==null)g.apply(this,arguments);}e.exports=j;},null);
__d("AdsError",[],function(a,b,c,d,e,f){'use strict';for(var g in Error)if(Error.hasOwnProperty(g))i[g]=Error[g];var h=Error===null?null:Error.prototype;i.prototype=Object.create(h);i.prototype.constructor=i;i.__superConstructor__=Error;function i(j,k,l){this.key=j;this.message=k;if(l){if(l.field!=null)this.field=l.field;if(l.path!=null)this.path=l.path;if(l.level!=null)this.level=l.level;}}i.createError=function(j,k,l){return new i(j,k,{field:l,level:i.Level.WARN});};i.createNotice=function(j,k,l){return new i(j,k,{field:l,level:i.Level.NOTIFY});};i.Level={WARN:'warn',NOTIFY:'notify'};e.exports=i;},null);
__d("AdsValidateUtils",["AdsError","CROWAdTags","fbt","invariant"],function(a,b,c,d,e,f,g,h,i,j){var k={toErrorObjects:function(l){return l.map(function(m){var n;if((!m.reason&&!m.comment)||!m.field){return null;}else if(m.reason===h.IMAGE_TEXTOVERLAY_CHECK_WARNING){n="Advert image is composed of more than 20\u0025 text";}else if(m.field&&m.field!=='uncategorized'){if(m.comment){n=i._("Error in {component of ad} field: {Description of the error}",[i.param("component of ad",m.field),i.param("Description of the error",m.comment)]);}else n=i._("Error in {component of ad} field: {Short description of the error}",[i.param("component of ad",m.field),i.param("Short description of the error",m.reason)]);}else if(m.comment){n=i._("Error: {Description of error}",[i.param("Description of error",m.comment)]);}else n=i._("Error: {Short escription of error}",[i.param("Short escription of error",m.reason)]);return g.createNotice(m.field,n,m.field);}).filter(function(m){return m!==null;});},FEEDBACK_STATUSES:{PENDING_REVIEW:'Pending Review',NOT_REVIEWED_YET:'Not Reviewed Yet'},doesImageContainText:function(l){return !!l.review_information&&l.review_information.some(function(m){return m===h.IMAGE_TEXTOVERLAY_CHECK_WARNING;});},getImageOverlayBoxes:function(l){j(l.image_features.length===1);return l.image_features[0].overlay_boxes;}};e.exports=k;},null);
__d("AdsJob",["invariant"],function(a,b,c,d,e,f,g){var h={HIGH:'high',NORMAL:'normal',LOW:'low'},i={NONE:'none',INFINITE:'infinite'};function j(k,l,m,n){"use strict";g(!(l===h.HIGH&&m==i.INFINITE));this.$AdsJob0=k;this.$AdsJob1=l||h.NORMAL;this.$AdsJob2=m||i.NONE;this.$AdsJob3=0;this.$AdsJob4=n;}j.prototype.getUniqueID=function(){"use strict";return this.$AdsJob4;};j.prototype.getPriority=function(){"use strict";return this.$AdsJob1;};j.prototype.getRepeat=function(){"use strict";return this.$AdsJob2;};j.prototype.run=function(){"use strict";g(!(this.getRepeat()===i.NONE&&this.$AdsJob3>0));this.$AdsJob3++;var k=this.$AdsJob0();if(k===j.CANCELED)return k;return null;};j.PRIORITY=h;j.REPEAT=i;j.CANCELED='job_canceled';e.exports=j;},null);
__d("AdsJobScheduler",["AdsJob","invariant"],function(a,b,c,d,e,f,g,h){var i=g.PRIORITY;function j(){"use strict";this.$AdsJobScheduler0={};this.$AdsJobScheduler1={};}j.prototype.addJob=function(l){"use strict";var m=l.getPriority();h(this.$AdsJobScheduler1[m]);var n=this.$AdsJobScheduler1[m],o=n.jobs,p=l.getUniqueID();if(p){if(n.uniqueIDs[p])return false;n.uniqueIDs[p]=true;}o.push(l);if(!this.$AdsJobScheduler2)this.$AdsJobScheduler3(m);return true;};j.prototype.pauseAllJobs=function(){"use strict";this.$AdsJobScheduler2=true;for(var l in this.$AdsJobScheduler0){window.clearTimeout(this.$AdsJobScheduler0[l]);delete this.$AdsJobScheduler0[l];}};j.prototype.unpauseAllJobs=function(){"use strict";if(this.$AdsJobScheduler2){this.$AdsJobScheduler2=false;for(var l in this.$AdsJobScheduler1)if(this.$AdsJobScheduler1[l].jobs.length>0)this.$AdsJobScheduler3(l);}};j.prototype.registerConfig=function(l,m,n){"use strict";h(!this.$AdsJobScheduler1.hasOwnProperty(l));this.$AdsJobScheduler1[l]={interval:m,maxJobs:n,jobs:[],uniqueIDs:{},runner:this.$AdsJobScheduler4.bind(this,l)};};j.prototype.$AdsJobScheduler3=function(l){"use strict";if(!this.$AdsJobScheduler0.hasOwnProperty(l))this.$AdsJobScheduler0[l]=window.setTimeout(this.$AdsJobScheduler1[l].runner,this.$AdsJobScheduler1[l].interval);};j.prototype.$AdsJobScheduler4=function(l){"use strict";var m=this.$AdsJobScheduler1[l],n=m.jobs;delete this.$AdsJobScheduler0[l];var o=m.maxJobs,p=[];n.some(function(q,r){if(r>=o)return true;var s,t=q.getUniqueID();try{s=q.run();}catch(u){if(t)delete m.uniqueIDs[t];return false;}var v=q.getRepeat();if(s!==g.CANCELED&&v===g.REPEAT.INFINITE){p.push(q);}else if(t)delete m.uniqueIDs[t];return false;});if(n.length>o)p=n.slice(o).concat(p);this.$AdsJobScheduler1[l].jobs=p;if(p.length>0)this.$AdsJobScheduler3(l);};var k;e.exports={getInstance:function(){if(!k){k=new j();k.registerConfig(i.LOW,300000,10);k.registerConfig(i.NORMAL,10000,5);k.registerConfig(i.HIGH,100,1);}return k;},__clearForTest:function(){k=null;}};},null);
__d("IntegrityAPIConversions",["AdFeedback","AdsContentFeedbackTypes","CROWAdTags","invariant","whitelistObjectKeys"],function(a,b,c,d,e,f,g,h,i,j,k){var l={PROACTIVE_AD:'uncategorized',PROACTIVE_AD_ACCOUNT:'account_id',PROACTIVE_AD_BODY_TEXT:'body',PROACTIVE_AD_CAMPAIGN:'campaign_id',PROACTIVE_AD_IMAGE:'image_hash',PROACTIVE_AD_LANDING_PAGE:'link_url',PROACTIVE_AD_TARGET_SPEC:'targeting',PROACTIVE_AD_TITLE_TEXT:'title'},m=(function(){var o={};Object.keys(l).forEach(function(p){o[l[p]]=p;});return o;})(),n={toAPIObject:function(o){j(o.account_id);j(typeof o.creative==='object');var p=function(w){return w!==(void 0)&&w!==null?[w]:(void 0);},q=p(o.creative.link_url||o.creative.object_url),r=p(o.creative.title),s=p(o.creative.body),t=p(o.creative.image_hash),u=p(o.creative.image_url),v={account_id:o.account_id,body_text:s,image_hash:t,image_url:u,landing_page_url:q,json_encoded_target_specs:JSON.stringify(o.targeting),title_text:r,fields:['feedback','metadata','image_features','review_information']};v=k(v,Object.keys(v).filter(function(w){return v[w]!==(void 0);}));return v;},fromAPIObject:function(o,p){j(Array.isArray(o.data));o=o.data[0];var q={};q.status=o.feedback;q.id=p;q.errors={};if(o.metadata)o.metadata.forEach(function(t){if(q.status===h.APPROVE&&t.reason!==i.IMAGE_TEXTOVERLAY_CHECK_WARNING)return;var u=l[t.comp_type];if(u){var v={reason:t.reason,comment:t.comment};q.errors[u]=v;}});if(o.image_features)q.image_features=o.image_features;if(o.review_information){q.review_information=o.review_information;if(q.status!==h.APPROVE&&q.review_information.some(function(t){return t===i.IMAGE_TEXTOVERLAY_CHECK_WARNING;})){var r=l.PROACTIVE_AD,s={reason:i.IMAGE_TEXTOVERLAY_CHECK_WARNING};q.errors[r]=s;}}return new g(q);}};e.exports={toAPIObject:n.toAPIObject,fromAPIObject:n.fromAPIObject,compTypeToField:l,fieldToCompType:m};},null);
__d("AdsValidate",["AdFeedback","AdsContentFeedbackTypes","GraphAPI","IntegrityAPIConversions"],function(a,b,c,d,e,f,g,h,i,j){var k={validateAd:function(m,n){var o=l(j.toAPIObject(m));o.done(function(p){n(j.fromAPIObject(p,m.id));});o['catch'](function(p){n(new g({status:h.APPROVE,id:m.id,errors:{}}));});return o;},validateAds:function(m,n){m.map(function(o){return this.validateAd(o,n);}.bind(this));}.bind(this)};function l(m){return i('2.2').account(m.account_id).edge('ad_content_checker').get(m);}e.exports=k;},null);
__d("AdsValidateWrapper",["AdsJob","AdsValidate","BatchingQueue","Promise","guid","AdsJobScheduler"],function(a,b,c,d,e,f,g,h,i,j,k){'use strict';var l=b('AdsJobScheduler').getInstance();l.registerConfig('Ads Validation',1000,1000);function m(){this.$AdsValidateWrapper0={};this.$AdsValidateWrapper1=new i(this.$AdsValidateWrapper2,{timeout:1000,concurrency:1,maxBatchSize:20});}m.prototype.pendingRequests=function(o){return !!(this.$AdsValidateWrapper0[o]);};m.prototype.validateAd=function(o,p){var q=k();this.$AdsValidateWrapper0[o.id]=this.$AdsValidateWrapper0[o.id]||'';this.$AdsValidateWrapper0[o.id]=q;var r=this.$AdsValidateWrapper3(o.id,q,p),s=function(){if(this.$AdsValidateWrapper0[o.id]!==q)return g.CANCELED;this.$AdsValidateWrapper1.add({ad:o,callback:r});}.bind(this);l.addJob(new g(s,'Ads Validation'));};m.prototype.$AdsValidateWrapper3=function(o,p,q){return function(r){if(this.$AdsValidateWrapper0[o]===p){delete this.$AdsValidateWrapper0[o];q(r);}}.bind(this);};m.prototype.$AdsValidateWrapper2=function(o,p){var q={};o.forEach(function(s){return q[s.ad.id]=h.validateAd(s.ad,s.callback);});var r=j.allObject(q);r.done(function(s){return p();});};function n(){var o=new m();return o;}e.exports=n();},null);
__d("AdsImageValidationStore",["AdFeedback","AdsActionTypes","AdsBaseStore","AdsCFActionTypes","AdsDispatcher","AdsImageValidationActionTypes","AdsValidateUtils","AdsValidateWrapper","areEqual"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p;function q(){p={};}q();for(var r in i)if(i.hasOwnProperty(r))t[r]=i[r];var s=i===null?null:i.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=i;function t(){"use strict";if(i!==null)i.apply(this,arguments);}t.prototype.getStoreName=function(){"use strict";return 'AdsImageValidationStore';};t.prototype.getFeedback=function(v){"use strict";if(!p[v]||!p[v].feedback)return new g({id:v,status:m.FEEDBACK_STATUSES.NOT_REVIEWED_YET,errors:{}});return p[v].feedback;};t.prototype.validateAd=function(v){"use strict";if(!this.$AdsImageValidationStoreClass0(v)){this.$AdsImageValidationStoreClass1(v);this.$AdsImageValidationStoreClass2(v.id);k.handleUpdateFromServerResponse({actionType:l.AD_IMAGE_VALIDATION_API_INIT,image:v.creative.image_url});n.validateAd(v,function(x){this.$AdsImageValidationStoreClass3(x);k.handleUpdateFromServerResponse({actionType:l.AD_IMAGE_VALIDATION_API_COMPLETE,feedback:x,image:v.creative.image_url});}.bind(this));return;}var w=this.getFeedback(v.id);if(w.status!==m.FEEDBACK_STATUSES.NOT_REVIEWED_YET)k.addPostDispatchCallback(function(){k.handleUpdateFromServerResponse({actionType:l.AD_IMAGE_VALIDATION_CACHE_COMPLETE,feedback:w});});};t.prototype.onDispatchToken=function(v){"use strict";var w=v.action,x=false;switch(w.actionType){case l.AD_IMAGE_VALIDATION_API_COMPLETE:case l.AD_IMAGE_VALIDATION_CACHE_COMPLETE:x=m.doesImageContainText(w.feedback);break;case h.PAGE_TRANSITION:case j.RESET_CF_STORES:q();break;}x&&u.inform('change');};t.prototype.$AdsImageValidationStoreClass0=function(v){"use strict";var w=p[v.id];return !!(w&&w.ad&&o(v,w.ad));};t.prototype.$AdsImageValidationStoreClass1=function(v){"use strict";p[v.id]=p[v.id]||{};p[v.id].ad=v;};t.prototype.$AdsImageValidationStoreClass3=function(v){"use strict";p[v.id].feedback=v;};t.prototype.$AdsImageValidationStoreClass2=function(v){"use strict";this.$AdsImageValidationStoreClass3(new g({id:v,status:m.FEEDBACK_STATUSES.PENDING_REVIEW,errors:{}}));};var u=new t();a.debug_AdsImageValidationStore=u;e.exports=u;},null);
__d("AdsCFCreativeWarningsSectionContainer.react",["AdsCFCreativeStore","AdsCFCreativeWarningsSection.react","AdsImageValidationStore","AdsValidateUtils","React","ReactComponentWithPureRenderMixin","StoreBasedStateMixin","adsGKCheck"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=[],p=k.createClass({displayName:"AdsCFCreativeWarningsSectionContainer",mixins:[l,m(g,i)],_getImagesWithTextOverlayWarning:function(){var q=g.getState();if(!q.imageList)return o;return q.imageList.filter(function(r){return j.doesImageContainText(i.getFeedback(r.getUniqueIdentifier()));});},_getImageOverlayBoxesForImages:function(q){return q.map(function(r){return j.getImageOverlayBoxes(i.getFeedback(r.getUniqueIdentifier()));});},calculateState:function(){var q=this._getImagesWithTextOverlayWarning(),r=this._getImageOverlayBoxesForImages(q);return {images:q,boxes:r};},render:function(){if(!n('ads_cf_text_validation_tool')||this.state.images.length===0)return null;return (k.createElement(h,{images:this.state.images,boxes:this.state.boxes}));}});e.exports=p;},null);
__d("AdsCFDialogNavigationMenu.react",["AdsAPIObjectives","AdsCFActionTypes","AdsCFApplicationStore","AdsCFCampaignStore","AdsCFConstants","AdsCFObjectiveStore","AdsDispatcher","Event","StickyArea.react","React","Style","SubscriptionsHandler","ViewportBounds","XUICard.react","XUIPageNavigation.react","XUIPageNavigationGroup.react","XUIPageNavigationItem.react","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';var y=k.CreateMode,z=p.createClass({displayName:"AdsCFDialogNavigationMenu",getInitialState:function(){return {offset:0};},componentDidMount:function(){this.setState({offset:s.getTop()});this._scrollParent=q.getScrollParent(this.getDOMNode());this._subscriptions=new r();this._subscriptions.addSubscriptions(n.listen(this._scrollParent,'scroll',this._setPosition),n.listen(window,'resize',this._setPosition),i.subscribe('change',this.forceUpdate.bind(this,null)),j.subscribe('change',this.forceUpdate.bind(this,null)),s.addTop(this._getTopViewportBound));},_getTopViewportBound:function(){return this.getDOMNode().getBoundingClientRect().bottom;},_setPosition:function(){this.setState({offset:this._scrollParent.getBoundingClientRect().top});},componentWillUnmount:function(){this._subscriptions.release();},render:function(){var aa=i.getShowMode(),ba=i.getCurrentMode(),ca,da=false,ea=false,fa=false,ga=j.getSelectedCampaignState();if(ba===y.EDIT_EXISTING){da=true;if(!ga.targeting)ea=true;if(!ga.pricing)fa=true;}else if(ba===y.EDIT_EXISTING_CAMPAIGN){if(aa===k.ShowMode.TARGETING){ea=true;}else if(aa===k.ShowMode.PRICING)fa=true;if(!i.isL2TargetingMigration()){if(ga.targeting)ea=true;if(ga.pricing)fa=true;}}else{ea=!!ga.targeting;fa=true;}if(l.getAPIObjective()===g.LOCAL_AWARENESS&&(ba!==k.CreateMode.EDIT_EXISTING_CAMPAIGN&&ba!==k.CreateMode.CREATE_NEW_AD_GROUP&&ba!==k.CreateMode.CREATE_SIMILAR))fa=false;var ha=[];da&&ha.push(p.createElement(w,{key:k.ShowMode.CREATIVE},"Creative"));ea&&ha.push(p.createElement(w,{key:k.ShowMode.TARGETING},"Targeting"));fa&&ha.push(p.createElement(w,{key:k.ShowMode.PRICING},"Pricing"));ca=p.createElement(v,{maxTabsVisible:ha.length},ha);return (p.createElement(o,{offset:this.state.offset},p.createElement(t,null,p.createElement(u,{defaultActiveTabKey:aa,onTabClick:this._onTabClick},ca))));},_onTabClick:function(aa){m.handleUpdateFromViewAction({actionType:h.SHOW_MODE_CHANGED,showMode:aa});}});e.exports=z;},null);
__d("AdsCFNavigatableSection.react",["AdsCFNavigationActions","AdsCFNavigationSections","AdsCFNavigationStore","AdsCFViewportBounds","Animation","DOMQuery","DOMScroll","Event","React","Style","SubscriptionsHandler","Vector","cssVar","csx","onlyChild","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';var w=o.PropTypes,x=8,y=o.createClass({displayName:"NavigatableSection",propTypes:{id:w.oneOf(Object.keys(h.id)).isRequired,title:w.string.isRequired},componentDidMount:function(){g.addSection(this.props.id,this.props.title);var z=this._sectionEntered.bind(this,h.event.FOCUS),aa=this._sectionExited.bind(this,h.event.FOCUS),ba=this.getDOMNode(),ca=i.getScrollContainer();this._subscriptions=new q();this._subscriptions.addSubscriptions(n.listen(ca,'scroll',v(this._onThrottledScroll,100)),n.listen(ba,'focusin',z),n.listen(ba,'focusout',aa),i.subscribe('go',this._onGoToSection));},componentWillUnmount:function(){this._animation&&this._animation.stop();this._subscriptions.release();delete this._subscriptions;g.removeSection(this.props.id);},_sectionEntered:function(event){g.enteredSection(this.props.id,event);},_sectionExited:function(event){g.exitedSection(this.props.id,event);},render:function(){return u(this.props.children);},_onThrottledScroll:function(){if(!this.isMounted())return;this._onScroll();},_onScroll:function(){var z=this.getDOMNode();if(!z||!z.offsetHeight)return;var aa=r.getElementPosition(z,'viewport').y-j.getTop()-x,ba=r.getElementDimensions(z).y,ca=aa<=0&&ba>=-aa;if(ca&&!this.wasInside){this.wasInside=true;this._sectionEntered(h.event.SCROLL);}else if(!ca&&this.wasInside){this.wasInside=false;this._sectionExited(h.event.SCROLL);}},_onGoToSection:function(z,aa){aa.id===this.props.id&&this._scrollAndHighlight(aa.animationDuration);},_scrollAndHighlight:function(z){var aa=this.getDOMNode();if(!aa||!aa.offsetHeight)return;this._animation=m.scrollTo(aa,z!==(void 0)?z:500,false,false,x,this._onScrollDone);},_onScrollDone:function(){g.sectionScrollDone(this.props.id);if(!this.isMounted())return;var z=this._getNodeToHighlight();if(!z||!z.offsetHeight)return;var aa=p.get(z,'backgroundColor'),ba=p.get(z,'borderColor');this._animation=new k(z).to('backgroundColor',"#ecf1f8").to('borderColor',"#5890ff").duration(200).checkpoint().to('backgroundColor',aa).to('borderColor',ba).duration(300).ondone(this._onHighlightDone).go();},_onHighlightDone:function(){this._animation=null;},_getNodeToHighlight:function(){var z=l.scry(this.getDOMNode(),"._2lzl");if(z.length>0){return z[0];}else return this.getDOMNode();}});e.exports=y;},null);
__d("AdsCFUIObjectives",["adsGKCheck","ads-objectives"],function(a,b,c,d,e,f,g){'use strict';var h=b('ads-objectives').KPIObjectives,i=[h.POST_ENGAGEMENT,h.PAGE_LIKES,h.WEBSITE_CLICKS,h.WEBSITE_CONVERSIONS,h.APP_INSTALLS,h.APP_ENGAGEMENT,h.EVENT_RESPONSES,h.OFFER_CLAIMS];if(g('ads_cf_video_objective'))i.push(h.VIDEO_VIEWS);if(g('ads_cf_instore_localreach')){var j=i.indexOf(h.EVENT_RESPONSES);i.splice(j,0,h.LOCAL_AWARENESS);}e.exports=i;},null);
__d("AdsCMUIObjectives",["adsGKCheck","ads-objectives"],function(a,b,c,d,e,f,g){'use strict';var h=b('ads-objectives').KPIObjectives,i=[h.POST_ENGAGEMENT,h.PAGE_LIKES,h.WEBSITE_CLICKS,h.WEBSITE_CONVERSIONS,h.APP_INSTALLS,h.APP_ENGAGEMENT,h.EVENT_RESPONSES,h.OFFER_CLAIMS];if(g('ads_cm_video_editing'))i.push(h.VIDEO_VIEWS);if(g('ads_cm_instore_localreach')){var j=i.indexOf(h.EVENT_RESPONSES);i.splice(j,0,h.LOCAL_AWARENESS);}e.exports=i;},null);
__d("AdsCFObjectiveEditorList",["AdsCFAccountStore","AdsCFApplicationStore","AdsCFUIObjectives","AdsCMUIObjectives","AdsCreationConfig","AdsCreationExperiments","ads-objectives"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=b('ads-objectives').KPIObjectives,n={getOrderedObjectives:function(){var o=h.isCampaignManager()?j.slice(0):i.slice(0),p=[];if(this._shouldEmphasizeWebObjectives()){p.push(m.WEBSITE_CLICKS);p.push(m.WEBSITE_CONVERSIONS);}if(p.length===0)return o;o.sort(function(q,r){var s=[q,r].map(function(t){var u=p.indexOf(t);return u===-1?u:1;});return s[1]-s[0];});return o;},getFirstObjective:function(){return this.getOrderedObjectives()[0];},_shouldEmphasizeWebObjectives:function(){return (!k.isPageAdmin||g.isLikelyOnlineSales());}};e.exports=n;},null);
__d("AdsCFObjectiveVisibilityStore",["AdsBaseStore","AdsCFActionTypes","AdsCFApplicationStore","AdsCFUIObjectives","AdsCMUIObjectives","AdsDispatcher","AdsObjectivesConfig"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){'use strict';var n,o,p;function q(){var v=i.isCampaignManager()?k:j,w=v.filter(m.isHiddenByDefault);o=v.length;p=w.length;n=(p===0);}for(var r in g)if(g.hasOwnProperty(r))t[r]=g[r];var s=g===null?null:g.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=g;function t(){if(g!==null)g.apply(this,arguments);}t.prototype.getStoreName=function(){return 'AdsCFObjectiveVisibilityStore';};t.prototype.getIsExpanded=function(){return n;};t.prototype.setIsExpanded=function(v){n=v;};t.prototype.getNumVisibleObjectives=function(){return n?o:o-p;};t.prototype.onDispatchToken=function(v){var w=v.action;switch(w.actionType){case h.INIT_STARTED:l.waitFor([i.dispatchToken]);q();u.inform('change');break;case h.KPI_OBJECTIVE_SEE_MORE:n=true;u.inform('change');break;}};var u=new t();a.debug_AdsCFObjectiveVisibilityStore=u;e.exports=u;},null);
__d("AdsCFObjectiveEditor.react",["AdsCFActionTypes","AdsCFApplicationStore","AdsCFCampaignGroupDialog.react","AdsCFCampaignGroupStore","AdsCFCampaignStore","AdsCFConstants","AdsCFCreativeStore","AdsCFNavigatableSection.react","AdsCFNavigationSections","AdsCFObjectiveActions","AdsCFObjectiveConfirmationStore","AdsCFObjectiveEditorList","AdsCFObjectiveStore","AdsCFObjectiveSuggestionsStore","AdsCFObjectiveVisibilityStore","AdsCFSection.react","AdsCFSectionGroup.react","AdsCFSectionLoader.react","AdsCFXObjectiveSelector.react","AdsCMHelpContentTags","AdsDispatcher","BusinessURI.brands","Link.react","React","SubscriptionsHandler","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){'use strict';var ia=46,ja=1,ka=l.CreationSteps,la=da.PropTypes,ma='197976123664242',na=da.createClass({displayName:"AdsCFObjectiveEditor",propTypes:{dao:la.object.isRequired},componentWillMount:function(){this._subscriptions=new ea();this._subscriptions.addSubscriptions(h.subscribe('change',this.handleChange),j.subscribe('change',this.handleChange),m.subscribe('change',this.handleChange),q.subscribe('change',this.handleChange),s.subscribe('change',this.handleChange),u.subscribe('change',this.handleChange));},componentWillUnmount:function(){this._subscriptions.release();},handleChange:function(){this.forceUpdate();},render:function(){var oa=t.getCompatibilityStatus(),pa=h.isEditingExisting(),qa=q.getIsKPIObjectiveConfirmed(),ra=s.getIsKPIObjectiveManuallySet(),sa=s.getIsObjectiveManuallySet(),ta=s.getKPIObjective(),ua=s.getAPIObjective(),va=m.getState(),wa=u.getNumVisibleObjectives(),xa=wa*ia-ja,ya=qa?{}:{minHeight:xa+'px'},za=da.createElement(x,{component:"AdsCFObjectiveFieldsEditor",dao:this.props.dao,hideSpinner:true,isDestinationValidForObjective:oa.isValid,isEditing:pa,isKPIObjectiveConfirmed:qa,isKPIObjectiveManuallySet:ra,isObjectiveManuallySet:sa,kpiObjective:ta,objective:ua,storyID:va.storyId,suggestedKPIObjectives:oa.suggestedKPIObjectives}),ab=da.createElement("div",{className:"_5y7p",style:ya},da.createElement("div",{className:"_5y7q"},this._renderObjectiveSelector(),za)),bb=(("_5yye")+(!!ta||pa?' '+"_5y7o":'')),cb=j.getSelectedState(),db=this._renderCampaignGroupSelector(),eb="Choose the objective for your campaign",fb=ga._("STEP {campaign_group}: CREATE YOUR CAMPAIGN",[ga.param("campaign_group",h.getCreationStep(ka.CAMPAIGN_GROUP))]),gb="Help: Choosing an Objective",hb=ba('/help/'+ma+'/').addQueryData({ref:'adcf-objective'});if(!cb.isNew){eb=ga._("Existing Campaign: {campaignGroupName}",[ga.param("campaignGroupName",cb.name)]);hb=null;gb=null;}return (da.createElement(w,{className:ha(bb,"_5vrg","_5vrh"),link:db,title:fb},da.createElement(n,{id:o.id.CAMPAIGN_GROUP,title:"Campaign"},da.createElement(v,{helpLabel:gb,helpURI:hb,noPadding:true,onHelpLinkClick:this.onHelpLinkClick,title:eb},ab))));},onHelpLinkClick:function(event){aa.dispatch({action:{actionType:g.HELP_LINK_CLICK,eventName:'click_targeting_section_help',data:{tagID:z.NEW_AM_AD_CREATION_OBJECTIVES,event:event}}});},_renderCampaignGroupSelector:function(){var oa=!!s.getKPIObjective(),pa=s.getAPIObjective(),qa=j.getValidExistingCampaignGroups(pa),ra=j.getExistingCampaignGroups();if(!oa&&!ra.length){return null;}else if(oa&&!qa.matchingObjective.length&&!qa.noneObjective.length)return null;var sa=j.getSelectedState(),ta="Use Existing Campaign",ua=true;if(!sa.isNew){ta="Change Campaign";ua=false;}return (da.createElement(i,{allCampaigns:k.getAllCampaignStates(),allCampaignGroups:j.getExistingCampaignGroups(),campaignGroup:sa,clickableTrigger:da.createElement(ca,null,ta),defaultToExisting:ua,existingCampaignGroups:qa,newCampaignGroup:j.getNewCampaignGroup(),objective:pa}));},_renderObjectiveSelector:function(){if(h.isEditingExisting())return null;return (da.createElement(y,{className:(("_3rt_")+(!!s.getKPIObjective()?' '+"_5vrv":'')+(!!s.getKPIObjective()&&q.getIsKPIObjectiveConfirmed()?' '+"_5vrw":'')),focusOnMount:true,hideTooltips:false,highlightNewObjectives:true,isKPIObjectiveConfirmed:q.getIsKPIObjectiveConfirmed(),kpiObjective:s.getKPIObjective(),kpiObjectives:r.getOrderedObjectives(),onExpanded:this._onExpanded,onObjectiveChanged:this._onObjectiveChanged,onShowMoreClick:this._onShowMoreClick}));},_onObjectiveChanged:function(oa){p.setKPIObjective(oa,l.ObjectiveChangeSource.OBJECTIVE_SELECTOR);},_onExpanded:function(){u.setIsExpanded(true);},_onShowMoreClick:function(){aa.handleUpdateFromViewAction({actionType:g.KPI_OBJECTIVE_SEE_MORE});}});e.exports=na;},null);
__d("AdsCFMediaSource",["keyMirror"],function(a,b,c,d,e,f,g){var h=g({LIBRARY:null,STOCK:null});e.exports=h;},null);
__d("AdsCFMediaType",["keyMirror"],function(a,b,c,d,e,f,g){var h=g({IMAGE:null,VIDEO:null});e.exports=h;},null);
__d("AdsCFBootloadStore",["AdsBaseStore","AdsCFActionTypes","Bootloader","adsGKCheck"],function(a,b,c,d,e,f,g,h,i,j){'use strict';for(var k in g)if(g.hasOwnProperty(k))m[k]=g[k];var l=g===null?null:g.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=g;function m(){if(g!==null)g.apply(this,arguments);}m.prototype.getStoreName=function(){return 'AdsCFBootloadStore';};m.prototype.$AdsCFBootloadStoreClass0=function(){i.loadModules(["AdsCFCampaignSection.react","AdsCFCreativeSection.react","AdsCFPlaceOrderSection.react"],function(){});};m.prototype.onDispatchToken=function(o){var p=o.action,q=p.actionType;if(!j('ads_cf_bootload'))return;if(q===h.INIT_DATA_LOADED)this.$AdsCFBootloadStoreClass0();};var n=new m();a.debug_AdsCFBootloadStore=n;e.exports=n;},null);
__d("AdsCFCreativePreviewStore",["AdsActionTypes","AdsBaseStore","AdsCFActionTypes"],function(a,b,c,d,e,f,g,h,i){'use strict';var j;function k(){j={};}k();for(var l in h)if(h.hasOwnProperty(l))n[l]=h[l];var m=h===null?null:h.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=h;function n(){if(h!==null)h.apply(this,arguments);}n.prototype.getStoreName=function(){return 'AdsCFCreativePreviewStore';};n.prototype.onDispatchToken=function(p){var q=p.action,r=false;switch(q.actionType){case i.PREVIEW_LOADING_CHANGE:var s=q.format,t=q.imageIndex||0,u=q.isLoading,v=j[s];if(!v){v=[];j[s]=v;}r=(u!=v[t]);v[t]=u;break;case g.PAGE_TRANSITION:case i.RESET_CF_STORES:k();break;}r&&o.inform('change');};n.prototype.isLoading=function(p){var q=j[p];if(!q)return false;return q.some(function(r){return !!r;});};var o=new n();a.debug_AdsCFCreativePreviewStore=o;e.exports=o;},null);
__d("AdsVideoFetcher",["AdsDaoGraph","Promise","URI","invariant"],function(a,b,c,d,e,f,g,h,i,j){'use strict';var k=['description','id','name','thumbnails'];function l(n){var o=n,p=o.description,q=o.id,r=o.name,s=o.thumbnails;j(s.length>0);var t=null;s=s.map(function(u){var v=u,w=v.height,x=v.is_preferred,y=v.uri,z=v.width;y=i(y).setFragment('').toString();u={height:w,uri:y,width:z};u.id=u.uri;if(x)t=u;return u;});if(!t)t=s[0];return {description:p,id:q,name:r,preferredThumbnail:t,thumbnails:s};}var m={promiseAdAccountVideos:function(n){return g.fetch.videosForAccount.promiseOne({accountId:n,fields:k}).then(function(o){return o.map(l);});},promisePageVideos:function(n){return g.fetch.videosForPage.promiseOne({pageId:n,fields:['id']}).then(function(o){return h.all(o.map(function(p){return m.promiseSingleVideo(p.id);}));});},promiseSingleVideo:function(n){return g.fetch.objectByFBID.promiseOne({fbid:n,fields:k}).then(l);},promiseVideoStatus:function(n){g.fetch.objectByFBID.clearCache();return g.fetch.objectByFBID.promiseOne({fbid:n,fields:['status']}).then(function(o){return o.status;});}};e.exports=m;},null);
__d("AdsCFMediaLoader",["AdsCFActionTypes","AdsCFMediaSource","AdsCFMediaType","AdsDaoGraph","AdsDispatcher","AdsVideoFetcher","CachedDOMImageSizePool","Promise","adsGKCheck","merge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';var q=new m(1000,10*60*1000);function r(x,y,z){var aa=y<x.width?y/x.width:1,ba=z<x.height?z/x.height:1,ca=Math.min(aa,ba);return {width:Math.floor(x.width*ca),height:Math.floor(x.height*ca)};}function s(x,y,z){k.handleUpdateFromUnknownSource({actionType:g.IMAGE_DIMENSIONS_READY,url:x,width:y,height:z});}function t(x){var y=x.map(function(z){var aa=r(z,128,128),ba=p(z,{type:i.IMAGE,source:h.LIBRARY,versions:[{isFull:true,url:z.url,width:z.width,height:z.height},{url:z.url_128,width:aa.width,height:aa.height}]});delete ba.url;delete ba.width;delete ba.height;delete ba.url_128;return ba;});k.handleUpdateFromServerResponse({actionType:g.MEDIA_UPDATE,mediaData:y});}function u(x,y){var z=y.map(function(aa){var ba=p(aa,{type:i.IMAGE,source:h.STOCK,versions:[]});ba.versions.push({url:aa.thumbnail.url,visibleWidth:aa.thumbnail.width,visibleHeight:aa.thumbnail.height});ba.versions.push({url:aa.preview.url,visibleWidth:aa.preview.width,visibleHeight:aa.preview.height});delete ba.thumbnail;delete ba.preview;return ba;});k.handleUpdateFromServerResponse({actionType:g.STOCK_SEARCH_RESULTS_READY,query:x,imagesData:z});}function v(x){var y=x.map(function(z){return p(z,{type:i.VIDEO,source:h.LIBRARY});});k.handleUpdateFromServerResponse({actionType:g.MEDIA_UPDATE,mediaData:y});}var w={loadImageDimensions:function(x){q.get(x,s.bind(null,x));},fetchAdAccountImages:function(x,y){var z={accountId:x,limit:y||100,fields:['hash','url','height','width','url_128']};j.fetch.imagesForAccount.one(t,z);},searchStockImages:function(x){var y={locale:'user',q:x};j.fetch.stockImages.paged(u.bind(null,x),y);},fetchAdAccountAndPageVideos:function(x,y){var z=[l.promiseAdAccountVideos(x)];if(o('ads_video_interfaces_vv_page_videos')&&y)z.unshift(l.promisePageVideos(y));n.all(z).then(function(aa){return Array.prototype.concat.apply([],aa);}).done(v);}};e.exports=w;},null);
__d("AdsVideoEncodingAsyncNotifier",["AdsVideoFetcher","ApiVideoStatuses"],function(a,b,c,d,e,f,g,h){'use strict';var i=1000;function j(k){this.$AdsVideoEncodingAsyncNotifier0=k;this.$AdsVideoEncodingAsyncNotifier1=0;}j.prototype.start=function(){this.$AdsVideoEncodingAsyncNotifier2=Date.now();this.$AdsVideoEncodingAsyncNotifier3();};j.prototype.getEncodingElapsedTime=function(){return this.$AdsVideoEncodingAsyncNotifier4;};j.prototype.setOnStatusUpdateListener=function(k){this.$AdsVideoEncodingAsyncNotifier5=k;};j.prototype.setOnFailedListener=function(k){this.$AdsVideoEncodingAsyncNotifier6=k;};j.prototype.setOnSuccessListener=function(k){this.$AdsVideoEncodingAsyncNotifier7=k;};j.prototype.$AdsVideoEncodingAsyncNotifier3=function(){var k=this.$AdsVideoEncodingAsyncNotifier1+i,l=Math.max(0,k-Date.now());setTimeout(function(){return this.$AdsVideoEncodingAsyncNotifier8();}.bind(this),l);};j.prototype.$AdsVideoEncodingAsyncNotifier8=function(){this.$AdsVideoEncodingAsyncNotifier1=Date.now();g.promiseVideoStatus(this.$AdsVideoEncodingAsyncNotifier0).done(function(k){return this.$AdsVideoEncodingAsyncNotifier9(k);}.bind(this));};j.prototype.$AdsVideoEncodingAsyncNotifier9=function(k){if(k===h.PROCESSING){this.$AdsVideoEncodingAsyncNotifier5();this.$AdsVideoEncodingAsyncNotifier3();}else if(k===h.ERROR){this.$AdsVideoEncodingAsyncNotifier6();}else if(k===h.READY)g.promiseSingleVideo(this.$AdsVideoEncodingAsyncNotifier0).done(function(l){this.$AdsVideoEncodingAsyncNotifier4=Date.now()-this.$AdsVideoEncodingAsyncNotifier2;this.$AdsVideoEncodingAsyncNotifier7(l);}.bind(this));};e.exports=j;},null);
__d("AdsVideoUploadEvents",["keyMirror"],function(a,b,c,d,e,f,g){var h=g({UPLOAD_SUCCESS:null,UPLOAD_ERROR:null,UPLOAD_PROGRESS:null,ENCODING_SUCCESS:null,ENCODING_ERROR:null});e.exports=h;},null);
__d("AdsVideoUploadErrorTypes",["keyMirror"],function(a,b,c,d,e,f,g){'use strict';var h=g({CONNECTION:null,API:null});e.exports=h;},null);
__d("AdsVideoUploadUtil",["ads-lib-connect_DEPRECATED","URI","invariant"],function(a,b,c,d,e,f,g,h,i){var j=g.FB,k={getVideoTitle:function(l){var m=l.value;if(!m)return m;var n=m.lastIndexOf('\\');if(n===-1)n=m.lastIndexOf('/');return n===-1?m:m.substring(n+1);},getPostEndpoint:function(l,m,n){var o=h(j.url('/act_'+m+'/advideos',n?{title:n}:null,l));i(o.getSubdomain()==='graph');o.setSubdomain('graph-video');return o.toString();}};e.exports=k;},null);
__d("AdsVideoUploader",["AdsVideoEncodingAsyncNotifier","AdsVideoUploadEvents","AdsVideoUploadErrorTypes","AdsVideoUploadUtil","ArbiterMixin","Stopwatch","VideoUploadFile","VideoUploadLogger","WaterfallIDGenerator","curry","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';function r(w){return w>=200&&w<=299;}var s=q(k);for(var t in s)if(s.hasOwnProperty(t))v[t]=s[t];var u=s===null?null:s.prototype;v.prototype=Object.create(u);v.prototype.constructor=v;v.__superConstructor__=s;function v(w,x){this.$AdsVideoUploader0=w;this.$AdsVideoUploader1=x;this.$AdsVideoUploader2=this.$AdsVideoUploader2.bind(this);this.$AdsVideoUploader3=this.$AdsVideoUploader3.bind(this);this.$AdsVideoUploader4=this.$AdsVideoUploader4.bind(this);this.$AdsVideoUploader5=0;this.$AdsVideoUploader6=null;this.$AdsVideoUploader7=null;}v.prototype.upload=function(w){this.$AdsVideoUploader8=j.getVideoTitle(w);var x=j.getPostEndpoint(this.$AdsVideoUploader1,this.$AdsVideoUploader0,this.$AdsVideoUploader8);this.$AdsVideoUploader9=o.generate();this.$AdsVideoUploadera=new m(w);this.$AdsVideoUploaderb=new n({source:'api',waterfall_id:this.$AdsVideoUploader9,target_id:'act_'+this.$AdsVideoUploader0,delay:1000});this.$AdsVideoUploaderc=new l();this.$AdsVideoUploaderd=new XMLHttpRequest();this.$AdsVideoUploadere();this.$AdsVideoUploaderf(n.EVENT_STARTED_UPLOADING);this.$AdsVideoUploaderd.open('POST',x,true);this.$AdsVideoUploaderd.send(this.$AdsVideoUploaderg(w,this.$AdsVideoUploader8));};v.prototype.$AdsVideoUploadere=function(){this.$AdsVideoUploaderd.addEventListener('load',this.$AdsVideoUploader2);this.$AdsVideoUploaderd.addEventListener('error',p(this.$AdsVideoUploader3,{reason:i.CONNECTION}));this.$AdsVideoUploaderd.upload.addEventListener('progress',this.$AdsVideoUploader4);};v.prototype.$AdsVideoUploaderh=function(){this.$AdsVideoUploaderd.removeEventListener('load',this.$AdsVideoUploader2);this.$AdsVideoUploaderd.removeEventListener('error',this.$AdsVideoUploader3);this.$AdsVideoUploaderd.upload.removeEventListener('progress',this.$AdsVideoUploader4);};v.prototype.abort=function(){this.$AdsVideoUploaderi=true;this.$AdsVideoUploaderf(n.EVENT_CANCELED_UPLOADING);if(this.$AdsVideoUploaderd){this.$AdsVideoUploaderh();this.$AdsVideoUploaderd.abort();this.$AdsVideoUploaderd=null;}};v.prototype.getVideoTitle=function(){return this.$AdsVideoUploader8;};v.prototype.getUploadTime=function(){return this.$AdsVideoUploader6;};v.prototype.getEncodingTime=function(){return this.$AdsVideoUploader7;};v.prototype.$AdsVideoUploader2=function(event){this.$AdsVideoUploader6=this.$AdsVideoUploaderc.read();if(!r(this.$AdsVideoUploaderd.status)){this.$AdsVideoUploader3({reason:i.API,status:this.$AdsVideoUploaderd.status,message:this.$AdsVideoUploaderd.responseText});return;}this.$AdsVideoUploaderj=new l();this.$AdsVideoUploaderk=JSON.parse(this.$AdsVideoUploaderd.responseText).id;this.$AdsVideoUploaderd=null;this.$AdsVideoUploaderf(n.EVENT_FINISHED_UPLOADING,{elapsed_time:Math.round(this.$AdsVideoUploader6)});this.inform(h.UPLOAD_SUCCESS,this.$AdsVideoUploaderk);this.$AdsVideoUploaderl=false;this.$AdsVideoUploaderm=false;var w=new g(this.$AdsVideoUploaderk);w.setOnStatusUpdateListener(function(){return this.$AdsVideoUploadern();}.bind(this));w.setOnFailedListener(function(){return this.$AdsVideoUploadero();}.bind(this));w.setOnSuccessListener(function(x){return this.$AdsVideoUploaderp(x);}.bind(this));w.start();};v.prototype.$AdsVideoUploadero=function(){this.$AdsVideoUploaderf(n.EVENT_ENCODING_FAIL_OBSERVED);};v.prototype.$AdsVideoUploaderp=function(w){if(this.$AdsVideoUploaderi){this.$AdsVideoUploaderf(n.EVENT_ENCODING_FAIL_OBSERVED);return;}if(!this.$AdsVideoUploaderl){this.$AdsVideoUploaderl=true;this.$AdsVideoUploader7=this.$AdsVideoUploaderj.read();this.$AdsVideoUploaderf(n.EVENT_ENCODING_SUCCESS_OBSERVED,{elapsed_time:Math.round(this.$AdsVideoUploader7)});this.inform(h.ENCODING_SUCCESS,w);}};v.prototype.$AdsVideoUploadern=function(){if(this.$AdsVideoUploaderi){this.$AdsVideoUploaderf(n.EVENT_ENCODING_FAIL_OBSERVED);return;}if(!this.$AdsVideoUploaderm){this.$AdsVideoUploaderf(n.EVENT_ENCODING_START_OBSERVED);this.$AdsVideoUploaderm=true;}};v.prototype.$AdsVideoUploader3=function(w){this.$AdsVideoUploaderd=null;this.$AdsVideoUploaderf(n.EVENT_FAILED_UPLOADING);this.inform(h.UPLOAD_ERROR,w);};v.prototype.$AdsVideoUploader4=function(event){if(event.lengthComputable){var w=event.loaded/event.total;this.inform(h.UPLOAD_PROGRESS,w);}};v.prototype.$AdsVideoUploaderg=function(w,x){var y=new FormData();y.append('waterfall_id',this.$AdsVideoUploader9);y.append('video',w.files[0],x);return y;};v.prototype.$AdsVideoUploaderf=function(event,w){if(!this.$AdsVideoUploaderb)return;w=w||{};if(this.$AdsVideoUploadera){w.file_size=this.$AdsVideoUploadera.getSize();w.file_extension=this.$AdsVideoUploadera.getExtension();}this.$AdsVideoUploaderb.logEvent(event,w);};e.exports=v;},null);
__d("AdsCFVideoUploader",["AdsCFAccountStore","AdsCFActionTypes","AdsCFConnectConfig","AdsCFCreativeViewActions","AdsDispatcher","AdsVideoUploader","AdsVideoUploadEvents"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){"use strict";}n.prototype.upload=function(o){"use strict";this.$AdsCFVideoUploader0=new l(g.getAccountID(),i.access_token);this.$AdsCFVideoUploader0.subscribe(m.UPLOAD_SUCCESS,this.$AdsCFVideoUploader1);this.$AdsCFVideoUploader0.subscribe(m.UPLOAD_ERROR,this.$AdsCFVideoUploader2);this.$AdsCFVideoUploader0.subscribe(m.UPLOAD_PROGRESS,this.$AdsCFVideoUploader3);this.$AdsCFVideoUploader0.subscribe(m.ENCODING_SUCCESS,this.$AdsCFVideoUploader4);this.$AdsCFVideoUploader0.upload(o);};n.prototype.abort=function(){"use strict";this.$AdsCFVideoUploader0.abort();};n.prototype.getVideoTitle=function(){"use strict";return this.$AdsCFVideoUploader0.getVideoTitle();};n.prototype.$AdsCFVideoUploader1=function(o,p){"use strict";k.handleUpdateFromServerResponse({actionType:h.VIDEO_UPLOAD_SUCCESS,videoID:p});};n.prototype.$AdsCFVideoUploader2=function(o,p){"use strict";k.handleUpdateFromServerResponse({actionType:h.VIDEO_UPLOAD_ERROR,details:p});};n.prototype.$AdsCFVideoUploader3=function(o,p){"use strict";k.handleUpdateFromServerResponse({actionType:h.VIDEO_UPLOAD_PROGRESS,progressValue:p});};n.prototype.$AdsCFVideoUploader4=function(o,p){"use strict";k.handleUpdateFromServerResponse({actionType:h.VIDEO_ENCODING_SUCCESS,video:p});j.setVideoAndThumbnail(p.id,p.preferredThumbnail);};e.exports=n;},null);
__d("AdsCFMediaStore",["AdsActionTypes","AdsBaseStore","AdsCFAccountStore","AdsCFActionTypes","AdsCFCreativeStore","AdsCFMediaLoader","AdsCFMediaSource","AdsCFMediaType","AdsCFVideoUploader","AdsVideoUploadStatus","invariant","merge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=['id','type','source'],t=/[-_\.,\/]+/g,u,v,w,x,y,z,aa,ba,ca,da,ea;function fa(){var wa=k.getState().actor||{};return wa.id||null;}function ga(){u={};v={};w={};x={};y={};z={};aa=null;ba='';ca=p.NONE;da=null;ea=0;}ga();function ha(wa){return wa?wa.replace(t,' '):wa;}function ia(wa){s.forEach(function(xa){q(xa in wa);});q(wa.source in m);q(wa.type in n);}function ja(wa){wa.forEach(function(xa){return ka(xa.id,xa);});}function ka(wa,xa){ia(xa);xa=la(xa);if(!(wa in u)){v[xa.type]=v[xa.type]||[];v[xa.type].push(xa);if(xa.type===n.IMAGE){w[xa.source]=w[xa.source]||[];w[xa.source].push(xa);}}u[wa]=xa;}function la(wa){var xa=r(wa);if(xa.versions){xa.versions.forEach(function(ya){if(ya.isFull){na(xa.id,ya.url);}else ma(xa.id,ya.url);if(ya.width&&ya.height)oa(ya.url,ya.width,ya.height);if(ya.visibleWidth&&ya.visibleHeight)pa(ya.url,ya.visibleWidth,ya.visibleHeight);});delete xa.versions;}return xa;}function ma(wa,xa){if(!(wa in x))x[wa]=[];x[wa].push(xa);}function na(wa,xa){ma(wa,xa);y[wa]=xa;}function oa(wa,xa,ya){if(!(wa in z))z[wa]={};z[wa].realWidth=xa;z[wa].realHeight=ya;if(!z[wa].visibleWidth)z[wa].visibleWidth=xa;if(!z[wa].visibleHeight)z[wa].visibleHeight=ya;}function pa(wa,xa,ya){if(!(wa in z))z[wa]={};z[wa].visibleWidth=xa;z[wa].visibleHeight=ya;}function qa(wa,xa,ya,za){return Math.abs(wa-ya)+Math.abs(xa-za);}function ra(wa,xa,ya){var za,ab;if(wa.visibleWidth&&wa.visibleHeight){za=wa.visibleWidth;ab=wa.visibleHeight;}else{za=wa.realWidth;ab=wa.realHeight;}return qa(za,ab,xa,ya);}for(var sa in h)if(h.hasOwnProperty(sa))ua[sa]=h[sa];var ta=h===null?null:h.prototype;ua.prototype=Object.create(ta);ua.prototype.constructor=ua;ua.__superConstructor__=h;function ua(){"use strict";if(h!==null)h.apply(this,arguments);}ua.prototype.getStoreName=function(){"use strict";return 'AdsCFMediaStore';};ua.prototype.getDefaultStockSearchText=function(){"use strict";return aa;};ua.prototype.getStockSearchText=function(){"use strict";return ba;};ua.prototype.getMediaDetails=function(wa){"use strict";return u[wa];};ua.prototype.getMediaByType=function(wa){"use strict";return v[wa];};ua.prototype.getOrFetchMediaByType=function(wa){"use strict";var xa=this.getMediaByType(wa);if(!xa)switch(wa){case n.VIDEO:l.fetchAdAccountAndPageVideos(i.getAccountID(),fa());break;}return xa;};ua.prototype.getMediaBySource=function(wa){"use strict";return w[wa];};ua.prototype.getOrFetchMediaBySource=function(wa){"use strict";var xa=this.getMediaBySource(wa);if(!xa)switch(wa){case m.LIBRARY:l.fetchAdAccountImages(i.getAccountID(),100);break;}return xa;};ua.prototype.getImageDimensions=function(wa){"use strict";return z[wa];};ua.prototype.getBestImageVersion=function(wa,xa,ya){"use strict";if(!(wa in x))return null;var za=x[wa].filter(function(fb){return fb in z;});if(za.length===0)return null;var ab=za[0],bb=ra(z[ab],xa,ya),cb=za.length;while(--cb){var db=za[cb],eb=ra(z[db],xa,ya);if(eb<bb){bb=eb;ab=db;}}return r(z[ab],{url:ab});};ua.prototype.getOrFetchBestImageVersion=function(wa,xa,ya){"use strict";var za=this.getBestImageVersion(wa,xa,ya);if(!za)(x[wa]||[]).forEach(l.loadImageDimensions);return za;};ua.prototype.getVideoUploadStatus=function(){"use strict";return ca;};ua.prototype.getVideoUploadProgress=function(){"use strict";return Math.round(ea*100);};ua.prototype.getVideoUploadTitle=function(){"use strict";return da?da.getVideoTitle():null;};ua.prototype.onDispatchToken=function(wa){"use strict";var xa=wa.action,ya=false;switch(xa.actionType){case j.RESET_DESTINATION:aa=null;ya=true;break;case j.MEDIA_UPDATE:ja(xa.mediaData);ya=true;break;case j.IMAGE_VERSION_ADD:if(xa.isFull){na(xa.id,xa.url);}else ma(xa.id,xa.url);break;case j.IMAGE_DIMENSIONS_READY:oa(xa.url,xa.width,xa.height);ya=true;break;case j.STOCK_SEARCH:ba=ha(xa.query);l.searchStockImages(xa.query);break;case j.STOCK_SEARCH_RESULTS_READY:if(xa.query===ba){ja(xa.mediaData);ya=true;}break;case j.CREATIVE_CHANGE:if(xa.videoId&&ca===p.ERROR){ca=p.NONE;ya=true;}break;case j.VIDEO_UPLOAD_START:q(ca!==p.UPLOADING);ca=p.UPLOADING;ea=0;da=new o();da.upload(xa.fileInput);ya=true;break;case j.VIDEO_UPLOAD_CANCEL:if(!da)break;da.abort();da=null;ea=0;ca=p.NONE;ya=true;break;case j.VIDEO_UPLOAD_SUCCESS:ca=p.ENCODING;ea=1;ya=true;break;case j.VIDEO_UPLOAD_ERROR:ca=p.ERROR;da=null;ya=true;break;case j.VIDEO_UPLOAD_PROGRESS:ea=xa.progressValue;ya=true;break;case j.VIDEO_ENCODING_SUCCESS:ca=p.NONE;da=null;var za=la(xa.video);u[za.id]=za;if(!v[n.VIDEO]){v[n.VIDEO]=[];l.fetchAdAccountAndPageVideos(i.getAccountID(),fa());}v[n.VIDEO].unshift(za);ya=true;break;case j.DESTINATION_CHANGE:case j.DESTINATION_UPDATE:aa=ha(xa.destinationDetails.category);ya=true;break;case j.STOCK_IMAGE_SEARCH_TEXT_CHANGE:ba=ha(xa.searchText);ya=true;break;case g.PAGE_TRANSITION:case j.RESET_CF_STORES:ga();ya=true;break;}ya&&va.inform('change');};var va=new ua();a.debug_AdsCFMediaStore=va;e.exports=va;},null);
__d("AdsCFPendingObjectUtils",["URI"],function(a,b,c,d,e,f,g){var h={getPendingObjectID:function(){var i=new g(window.location.href).getQueryData();return i.oid;}};e.exports=h;},null);
__d("PendingObjectService",["AsyncRequest","AdsCFLoggerInternal","Promise"],function(a,b,c,d,e,f,g,h,i){'use strict';function j(m){h.log(h.CATEGORIES.RETRIEVE,'error_pending_object_service',{errorPayload:m});}function k(m){return new g().setURI('/ads/ajax/pending_object_service.php').setTimeoutHandler(30000,j).setErrorHandler(j).setHandler(function(n){m(n.getPayload());});}var l={promisePendingObject:function(m){return new i(function(n,o){k(n).setData({operation:'readPendingObject',oid:m}).send();});},validatePendingObject:function(m){return m&&!isNaN(m);},createPendingObjectFromApiData:function(m,n){var o=JSON.stringify(m);k(n).setData({operation:'createPendingObjectFromApiData',stringifiedApiData:o}).send();},updatePendingObjectFromApiData:function(m,n,o){if(!m){o();return;}var p=JSON.stringify(n);k(o).setData({operation:'updatePendingObjectFromApiData',stringifiedApiData:p,oid:m}).send();}};e.exports=l;},null);
__d("AdsCFPendingObjectStore",["AdsActionTypes","AdsBaseStore","AdsCFActionTypes","AdsCFObjectiveConfirmationStore","AdsCFOutputAPIDataProcessor","AdsCFPendingObjectUtils","AdsDispatcher","PendingObjectService","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p,q;function r(){p=null;q=false;}r();function s(){r();n.createPendingObjectFromApiData(k.generateSpecForAutoUpdatePending(),function(z){p=z;y.inform('change');});}function t(){n.updatePendingObjectFromApiData(p,{is_complete:true},o);}function u(){var z=l.getPendingObjectID();if(z){if(n.validatePendingObject(z)){p=z;y.inform('change');}}else s();}for(var v in h)if(h.hasOwnProperty(v))x[v]=h[v];var w=h===null?null:h.prototype;x.prototype=Object.create(w);x.prototype.constructor=x;x.__superConstructor__=h;function x(){"use strict";if(h!==null)h.apply(this,arguments);}x.prototype.getStoreName=function(){"use strict";return 'AdsCFPendingObjectStore';};x.prototype.getPendingObjectID=function(){"use strict";return p;};x.prototype.isCompleted=function(){"use strict";return q;};x.prototype.onDispatchToken=function(z){"use strict";var aa=z.action;switch(aa.actionType){case i.DESTINATION_CHANGE:m.waitFor([j.dispatchToken]);if(j.didAutoContinue())u();break;case i.KPI_OBJECTIVE_CONFIRM:m.waitFor([j.dispatchToken]);if(j.getIsKPIObjectiveConfirmed())u();break;case i.CREATE_SIMILAR_AD:r();break;case i.CREATE_AD_SUCCESS:if(!q){q=true;t();}break;case g.PAGE_TRANSITION:case i.RESET_CF_STORES:r();break;}};var y=new x();a.debug_AdsCFPendingObjectStore=y;e.exports=y;},null);
__d("AdsCFPlaceOrderStore",["AdsActionTypes","AdsBaseStore","AdsCFActionTypes","AdsDispatcher","AdsCFSuccessStore"],function(a,b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;function n(){l=false;m=false;}n();for(var o in h)if(h.hasOwnProperty(o))q[o]=h[o];var p=h===null?null:h.prototype;q.prototype=Object.create(p);q.prototype.constructor=q;q.__superConstructor__=h;function q(){if(h!==null)h.apply(this,arguments);}q.prototype.getStoreName=function(){return 'AdsCFPlaceOrderStore';};q.prototype.getIsProcessing=function(){return l;};q.prototype.getShowReviewDialog=function(){return m;};q.prototype.onDispatchToken=function(s){var t=false;switch(s.action.actionType){case i.PLACE_ORDER_INITIATED:l=true;m=false;t=true;break;case i.REVIEW_AD_INITIATED:case i.SAVE_AD_INITIATED:l=true;t=true;break;case i.CREATE_AD_FAIL:case i.CREATE_AD_SUCCESS:case i.CODE_MAP_CHANGE:case i.PAYMENTS_FLOW_CANCELLED:case i.SAVE_AD_SUCCESS:l=false;t=true;break;case i.REQUEST_RELATED_DATA_FAIL:case i.REQUEST_RELATED_DATA_SUCCESS:j.waitFor([k.dispatchToken]);t=true;break;case i.REVIEW_DIALOG_SHOW:m=true;t=true;break;case i.REVIEW_DIALOG_CANCEL:m=false;t=true;break;case g.PAGE_TRANSITION:case i.RESET_CF_STORES:n();break;}t&&r.inform('change');};var r=new q();a.debug_AdsCFPlaceOrderStore=r;e.exports=r;},null);
__d("AdsCFUserSettings",["AdsDispatcher","AdsCFActionTypes","AdsCreationConfig","AsyncRequest","XAdsCFSaveUserSettingsControllerURIBuilder"],function(a,b,c,d,e,f,g,h,i,j,k){var l={};function m(){if(!Object.keys(l).length)return;var o=new k().getURI();new j().setData({settings:JSON.stringify(l)}).setURI(o).send();}var n={dispatchToken:g.register(function(o){var p=o.action;switch(p.actionType){case h.CREATING_AD:m();break;}}),handleSettingsChange:function(o){Object.keys(o).forEach(function(p){var q=o[p];if(q===i.admgr_settings[p]){delete l[p];}else l[p]=q;});}};e.exports=n;},null);
__d("AdsCFSimplePricingStore",["AdsActionTypes","AdsBaseStore","AdsCFActionTypes","AdsCFUserSettings","AdsCreationConfig","AdmgrUserSettings"],function(a,b,c,d,e,f,g,h,i,j,k){var l=b('AdmgrUserSettings').HAS_EXPANDED_BIDDING_SECTION,m=true;function n(){m=!k.admgr_settings[l];}for(var o in h)if(h.hasOwnProperty(o))q[o]=h[o];var p=h===null?null:h.prototype;q.prototype=Object.create(p);q.prototype.constructor=q;q.__superConstructor__=h;function q(){"use strict";if(h!==null)h.apply(this,arguments);}q.prototype.getStoreName=function(){"use strict";return 'AdsCFSimplePricingStore';};q.prototype.hideAdvancedOptions=function(){"use strict";return m;};q.prototype.onDispatchToken=function(s){"use strict";var t=s.action,u=false;switch(t.actionType){case i.ACCOUNT_INIT:n();u=true;break;case i.CHANGE_BID_SECTION_VISIBILITY:m=t.hideAdvancedOptions;var v={};v[l]=Number(!m);j.handleSettingsChange(v);u=true;break;case g.PAGE_TRANSITION:case i.RESET_CF_STORES:n();break;}u&&r.inform('change');};var r=new q();a.debug_AdsCFSimplePricingStore=r;e.exports=r;},null);
__d("AdsCFPendingObjectUpdater",["AdsCFOutputAPIDataProcessor","AdsCFCampaignGroupStore","AdsCFCampaignStore","AdsCFCreativeStore","AdsCFDestinationStore","AdsCFPendingObjectStore","AdsCFPricingStore","AdsCFTargetingStore","PendingObjectService"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';var p=30000,q,r=false,s;function t(){if(!q){q=true;u();}}function u(){l.subscribe('change',v);var ba=[h,i,j,k,m,n];ba.forEach(function(ca){ca.subscribe('change',w);});}function v(){r=false;if(s)clearTimeout(s);z();}function w(){r=true;}function x(){return (r&&k.getDestinationType()&&l.getPendingObjectID()&&!l.isCompleted());}function y(){if(x()){r=false;o.updatePendingObjectFromApiData(l.getPendingObjectID(),g.generateSpecForAutoUpdatePending(),z);}else z();}function z(){s=setTimeout(y,p);}var aa={init:t};e.exports=aa;},null);
__d("AtlasPixel.react",["React","URI"],function(a,b,c,d,e,f,g,h){'use strict';var i=g.PropTypes,j=g.createClass({displayName:"AtlasPixel",propTypes:{accountID:i.string.isRequired,objective:i.string,step:i.number.isRequired},render:function(){var k=new h('https://ad.atdmt.com/m/img;m=11002201303866;cache=').addQueryData({account_id:this.props.accountID,objective:this.props.objective,step:this.props.step});return g.createElement("img",{width:"1",height:"1",src:k});}});e.exports=j;},null);
__d("AdsBaseCreationController",["AdsActionTypes","AdsCFAccountErrorHeader.react","AdsCFAccountSection.react","AdsCFAccountStore","AdsCFActionTypes","AdsCFApplicationStore","AdsCFCampaignDialogContainer.react","AdsCFConstants","AdsCFCreativeStore","AdsCFCreativeWarningsSectionContainer.react","AdsCFDaoLogger","AdsCFDestinationStore","AdsCFLoggerInternal","AdsCFObjectiveConfirmationStore","AdsCFObjectiveEditor.react","AdsCFObjectiveStore","AdsCFObjectiveSuggestionsStore","AdsCFObjectiveUtils","AdsCFOutputAPIDataProcessor","AdsCFPageLocationStore","AdsCFPendingObjectUpdater","AdsCFPricingStore","AdsCFSectionGroup.react","AdsCFSectionLoader.react","AdsDispatcher","AtlasPixel.react","CenteredContainer.react","React","SubscriptionsHandler","URI","XUISpinner.react","areJSONRepresentationsEqual","cx","fbt","invariant","AdsCFAdNameStore","AdsCFAudienceEstimateStore","AdsCFBootloadStore","AdsCFCampaignGroupStore","AdsCFCampaignStore","AdsCFConversionPixelStore","AdsCFCreativePreviewStore","AdsCFErrorCodeStore","AdsCFLoggerStore","AdsCFMediaStore","AdsCFNavigationStore","AdsCFObjectiveVisibilityStore","AdsCFPendingObjectStore","AdsCFPlaceOrderStore","AdsCFSimplePricingStore","AdsCFSuccessStore","AdsCFTargetingStore","AdsCFUpsellStore","AdsCFUserStore","AdsCommonGeocoderStore","AdsCommonLocalMapStore","AdsImageValidationStore","AdsCFDebugger"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa){'use strict';b('AdsCFAdNameStore');b('AdsCFAudienceEstimateStore');b('AdsCFBootloadStore');b('AdsCFCampaignGroupStore');b('AdsCFCampaignStore');b('AdsCFConversionPixelStore');b('AdsCFCreativePreviewStore');b('AdsCFErrorCodeStore');b('AdsCFLoggerStore');b('AdsCFMediaStore');b('AdsCFNavigationStore');b('AdsCFObjectiveVisibilityStore');b('AdsCFPendingObjectStore');b('AdsCFPlaceOrderStore');b('AdsCFSimplePricingStore');b('AdsCFSuccessStore');b('AdsCFTargetingStore');b('AdsCFUpsellStore');b('AdsCFUserStore');b('AdsCommonGeocoderStore');b('AdsCommonLocalMapStore');b('AdsImageValidationStore');var pa=Date.now(),qa=b('AdsCFDebugger').module,ra=l.getCreationStep,sa=n.CreationSteps,ta={};function ua(va,wa,xa){s.setCreationSource(this.getCreationSource());var ya=Date.now()-pa;q.logAdsDaoErrors();this.$AdsBaseCreationController0=va;this.$AdsBaseCreationController1=wa.application_data||{};for(var za=0;za<xa.length;za++)ea.handleUpdateFromInitialServer(xa[za]);ea.handleUpdateFromInitialServer({actionType:k.INIT_STARTED,creationSource:this.getCreationSource(),isDraftEnabled:this.isDraftEnabled(),is_likely_online_sales:wa.is_likely_online_sales,js_push_phase:wa.js_push_phase,scrollContainer:this.getScrollContainer(),time_to_load_module:ya});this.loadAPIData();this.$AdsBaseCreationController2();ea.register(function(ab){var bb=ab.action;switch(bb.actionType){case g.PAGE_TRANSITION:case k.RESET_CF_STORES:this.removeSubscriptions();break;}}.bind(this));this.renderIfCachedValuesChanged();this.$AdsBaseCreationController3();aa.init();}ua.prototype.getRoot=function(){return this.$AdsBaseCreationController0;};ua.prototype.getApplicationData=function(){return this.$AdsBaseCreationController1;};ua.prototype.render=function(){oa(true);};ua.prototype.shouldAllowUnload=function(){var va=r.getDestinationID()||r.getDestinationDetails().destinationUrl;if(!va||window.isWebdriver||l.getAllowRedirect())return true;var wa=ja.getNextURI();return !!wa.getQueryData().allowRedirect;};ua.prototype.$AdsBaseCreationController2=function(){var va=this.renderIfCachedValuesChanged.bind(this);this.addSubscriptions(o.subscribe('change',va),t.subscribe('change',va),v.subscribe('change',va),w.subscribe('change',va),z.subscribe('change',va));var wa=this.render.bind(this);this.addSubscriptions(j.subscribe('change',wa),l.subscribe('change',wa),r.subscribe('change',wa));};ua.prototype.$AdsBaseCreationController3=function(){a.debug_AdsCFOutputAPIDataProcessor=y;a.debug_CanonicalID=n.CanonicalID;};ua.prototype.renderIfCachedValuesChanged=function(){var va=false,wa={compatibilityStatus:w.getCompatibilityStatus(),creativeStoryID:o.getState().storyId,isKPIObjectiveConfirmed:t.getIsKPIObjectiveConfirmed(),isObjectiveConfirmAnimationComplete:t.isConfirmAnimationComplete(),isPageLocationConfirmed:z.isLocationConfirmed(),kpiObjective:v.getKPIObjective(),objective:v.getAPIObjective()};Object.keys(wa).forEach(function(xa){if(!la(ta[xa],wa[xa])){ta[xa]=wa[xa];va=true;}});if(va)this.render();};ua.prototype.renderConditionalSections=function(){if(!t.isConfirmAnimationComplete())return (ha.createElement(ga,{className:"_3-8-"},ha.createElement(ka,{background:'dark',size:"large"})));return [this.renderAccountSection(),ha.createElement(ca,{key:"campaignStep",link:ha.createElement(m,null),title:na._("STEP {campaign}: CREATE YOUR ADVERT SET",[na.param("campaign",ra(sa.CAMPAIGN))])},ha.createElement(da,{component:"AdsCFCampaignSection",key:"campaign"})),ha.createElement(ca,{key:"creativeStep",title:na._("STEP {creative}: CREATE YOUR ADVERT",[na.param("creative",ra(sa.CREATIVE))])},ha.createElement(da,{component:"AdsCFCreativeSection",key:"creative"})),this.renderWarningsSection(),this.renderPlaceOrder(),this.renderDebugger(),ha.createElement(fa,{accountID:j.getAccountID(),key:"atlas_pixel",objective:v.getAPIObjective(),step:2})];};ua.prototype.renderAccountSection=function(){var va=j.getState();if(!va.isAllowedToEditCurrency)return null;return (ha.createElement(ca,{key:"accountStep",title:na._("STEP {account}: CREATE YOUR ADVERT ACCOUNT",[na.param("account",ra(sa.ACCOUNT))])},ha.createElement(i,null)));};ua.prototype.renderObjectiveSection=function(){return (ha.createElement(u,{dao:j.getDao(),key:"objective"}));};ua.prototype.canContinue=function(){var va=ba.getState(n.CanonicalID).conversionPixelID,wa=r.hasDestination();return x.canContinue(ta.objective,wa,ta.compatibilityStatus.isValid,r.getDestinationDetails(),{conversionPixelID:va,destinationType:r.getDestinationType(),isLocationConfirmed:z.isLocationConfirmed(),pagePosts:r.getPagePosts(),storyID:ta.creativeStoryID});};ua.prototype.renderPlaceOrder=function(){var va=l.getCurrentMode();return !j.canCreateAds()&&va!==n.CreateMode.EDIT_EXISTING?ha.createElement(h,{key:"accounterror"}):ha.createElement(da,{component:"AdsCFPlaceOrderSection",key:"placeorder"});};ua.prototype.renderDebugger=function(){return qa?ha.createElement(qa,{key:"debugger"}):null;};ua.prototype.renderWarningsSection=function(){return (ha.createElement(p,{key:"warningSection"}));};ua.prototype.addSubscriptions=function(){for(var va=[],wa=0,xa=arguments.length;wa<xa;wa++)va.push(arguments[wa]);if(!this.$AdsBaseCreationController4)this.$AdsBaseCreationController4=new ia();va.forEach(function(ya){this.$AdsBaseCreationController4.addSubscriptions(ya);}.bind(this));};ua.prototype.removeSubscriptions=function(){this.$AdsBaseCreationController4.release();};e.exports=ua;},null);
__d("AdsCFCampaignGroupLoader",["AdsAPISpec","AdsCFAccountStore","AdsCFActionTypes","AdsDispatcher"],function(a,b,c,d,e,f,g,h,i,j){function k(m,n){j.handleUpdateFromServerResponse({actionType:i.CAMPAIGN_GROUPS_LOADED,campaignGroupAPISpecs:m});if(n)n(k);}var l={loadAll:function(){h.getDao().fetch.campaignGroupsForAccount.paged(k,{fields:g.CAMPAIGN_GROUP_FIELDS});}};e.exports=l;},null);
__d("ads-defaultApiSpecs",["bolt/util","AdsUtils","AdsBidTypes","AdsCreateFlowConfig","AdsCreationConfig","CampaignDefaultBudgetConfig"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m={age_min:k.minAgeDefault,age_max:k.maxAge,geo_locations:{countries:['US'],location_types:['home','recent']}},n={bid_type:i.BID_TYPE_CPC,campaign_id:j.NEW_CAMPAIGN_ID};f.getTargetingSpec=function(){return h.clone(m);};f.getPricingSpec=function(){return h.clone(n);};f.getSpec=function(){return g.extend(f.getTargetingSpec(),f.getPricingSpec());};var o={lifetime_budget:l.default_budget.lifetime,daily_budget:l.default_budget.daily};f.getNewCampaignSpec=function(){var p=new Date();p.setMonth(p.getMonth()+parseInt(l.campaign_length_month,10));return g.extend({start_time_date:new Date(),end_time_date:p},o);};},null);
__d("ads-target-utils",[],function(a,b,c,d,e,f){var g=['LR','SD','ZW','CI','MM','CU','IR','SY'];f.isForbiddenCountry=function(h){return g.indexOf(h)>=0;};},null);
__d("AdsCFInputAPIDataProcessor",["AdsAPIObjectives","AdsCFAccountStore","AdsCFActionTypes","AdsCFApplicationStore","AdsCFCampaignAPIConverter","AdsCFConstants","AdsCFCreativeAPIConverter","AdsCFCreativeUtils","AdsCFDestinationStore","AdsCFDestinationUtils","AdsCFInitDataLoggingConfig","AdsCFLogger","AdsCFMediaSource","AdsCFMediaType","AdsCFObjectiveStore","AdsCFObjectiveUtils","AdsCFPricingAPIConverter","AdsCFUIObjectives","AdsCMUIObjectives","AdsCreationConfig","AdsCreationExperiments","AdsDispatcher","ads-objectives","AdsPlacementStates","AdsTargetingModelAdapter","URIInitDataUtil","adsGKCheck","arrayContains","ads-defaultApiSpecs","merge","ads-target-utils"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka){'use strict';var la=ca.APItoKPIObjectives,ma=ca.KPIObjectives;function na(db){ba.handleUpdateFromServerResponse({actionType:i.ACCOUNT_INIT,accountConfig:db.accountApiSpec});}function oa(db){ba.handleUpdateFromServerResponse({actionType:i.INIT_ACTORS,feedPage:db.feedPage});}function pa(db){if(!db.destination)return;if(db.destination.urlSearch&&db.destination.urlSearch[0]){return db.destination.urlSearch[0];}else if(db.destination.objectSearch&&db.destination.objectSearch[0]){db.destination.objectSearch[0].canEdit=db.destination.canEdit;return db.destination.objectSearch[0];}return;}function qa(db){var eb=pa(db);if(eb&&fa.getDefaultDestinationID()){ba.handleUpdateFromURLParams({actionType:i.DESTINATION_CHANGE,destinationType:eb.type,destinationID:eb.id,destinationDetails:p.convertAPIDataToFields(eb),destSource:l.DestinationSelectionSource.PREFILLED_FROM_URL});}else if(eb)ba.handleUpdateFromServerResponse({actionType:i.DESTINATION_CHANGE,destinationType:eb.type,destinationID:eb.id,destinationDetails:p.convertAPIDataToFields(eb),destSource:l.DestinationSelectionSource.AUTO_FILL_OTHER});}function ra(){if(!ga('ads_cf_instore_auto_select_objective'))return false;if(z.isActiveAdvertiser||z.countAdminPages!==1||z.countAdminPlacePages!==1)return false;var db=aa.getExperiment('ads_cf_instore_auto_select_objective');db.logExposure();return db.getParam('auto_select')==='true';}function sa(db){if(!db.adgroupApiSpec)return null;var eb=db.adgroupApiSpec.objective;if(eb!==g.NONE)return eb;return v.getDefaultAPIObjective();}function ta(db){var eb=sa(db),fb=null;if(!eb&&!u.getIsKPIObjectiveManuallySet()){fb=g[fa.getDefaultObjective()];if(fb===g.NONE)fb=null;if(fb){var gb=la[fb],hb=j.isCampaignManager()?y:x;if(!ha(hb,gb))fb=null;}var ib=db.campaignGroupSpec,jb=ib?ib.objective:null;if(jb===g.NONE)jb=null;eb=fb||jb||o.getDestinationDetails().defaultObjective;}if(!eb){if(ra())ba.handleUpdateFromServerResponse({actionType:i.KPI_OBJECTIVE_CHANGE,kpiObjective:ma.LOCAL_AWARENESS,source:l.ObjectiveChangeSource.AUTO_DEFAULT_SELECTION});return;}if(fb){var kb=la[eb]!==ma.APP_INSTALLS;ba.handleUpdateFromURLParams({actionType:i.OBJECTIVE_CHANGE,objectiveType:eb,autoConfirm:kb});}else ba.handleUpdateFromServerResponse({actionType:i.OBJECTIVE_CHANGE,objectiveType:eb,autoConfirm:true});}function ua(db){if(db.adgroupApiSpec&&db.adgroupApiSpec.name&&!j.isCreatingSimilar())ba.handleUpdateFromServerResponse({actionType:i.CHANGE_AD_NAME,name:db.adgroupApiSpec.name});}function va(db){if(db.videos&&db.videos.length>0){var eb=db.videos.map(function(kb){return ja(kb,{source:s.LIBRARY,type:t.VIDEO});});ba.handleUpdateFromServerResponse({actionType:i.MEDIA_UPDATE,mediaData:eb});}var fb=fa.getDefaultCreative(),gb,hb=db.adgroupApiSpec&&db.adgroupApiSpec.application_data;if(hb&&hb.temporary_feed_data){gb=n.deserializeCreativeState(hb.temporary_feed_data.primaryState);}else if(db.adgroupApiSpec){var ib=m.fromAPI(db.adgroupApiSpec,db);gb=ib.primaryState;var jb=u.getAPIObjective();if(jb===g.LOCAL_AWARENESS)gb.placements.RHC=da.NOT_SUPPORTED;}else if(fb)gb=fb;if(gb)ba.handleUpdateFromServerResponse(Object.assign({actionType:i.CREATIVE_INIT},gb));}function wa(db){var eb=db.adgroupApiSpec&&db.adgroupApiSpec.targeting;if(eb){if(!eb.countries)eb.countries=[];if(!eb.college_years)eb.college_years=[];}else{eb={};var fb=fa.getDefaultTargeting();if(fb)eb=fb;if(!pa(db)){var gb=h.getState().businessCountryCode;if(ka.isForbiddenCountry(gb))gb=null;eb=Object.assign({geo_locations:{countries:gb?[gb]:['US']}},eb);eb=Object.assign(ia.getTargetingSpec(),eb);}}var hb=h.getDao(),ib=(eb.custom_audiences||[]).concat(eb.excluded_custom_audiences||[]).map(function(jb){return jb.id;});if(ib.length)hb.fetch.anyIDs.one(function(jb){ba.handleUpdateFromServerResponse({actionType:i.TARGETABLE_AUDIENCES_CHANGE,audiences:jb.length===0?{}:jb});},{ids:ib});ea.setApiSpec(eb,true);}function xa(db){if(db.campaignGroupSpec)ba.handleUpdateFromServerResponse({actionType:i.CAMPAIGN_GROUPS_LOADED,campaignGroupAPISpecs:[db.campaignGroupSpec]});}function ya(db){var eb={},fb=function(hb){var ib=k.fromAPI(hb);if(ib)eb[ib.campaignID]=ib;},gb=db.campaigns||{};Object.keys(gb).forEach(function(hb){fb(gb[hb]);});if(db.campaignSpec)fb(db.campaignSpec);ba.handleUpdateFromServerResponse({actionType:i.CAMPAIGNS_LOADED,campaigns:eb});}function za(db){var eb=db.campaignSpec&&k.fromAPI(db.campaignSpec),fb=db.campaignGroupSpec;if(fb)ba.handleUpdateFromURLParams({actionType:i.CAMPAIGN_GROUP_SELECT,id:fb.id});if(eb)ba.handleUpdateFromURLParams({actionType:i.CAMPAIGN_SELECT,campaignID:eb.campaignID,targeting:eb.targeting,pricing:eb.pricing});if(db.newCampaignApiSpec){db.newCampaignApiSpec.id=db.newCampaignApiSpec.campaign_id?''+db.newCampaignApiSpec.campaign_id:(void 0);var gb=k.fromAPI(db.newCampaignApiSpec);gb.campaignID=gb.campaignID||l.NEW_CAMPAIGN_ID;ba.handleUpdateFromURLParams(Object.assign({actionType:i.CHANGE_CAMPAIGN},gb));}}function ab(db){var eb=db.adgroupApiSpec,fb=db.campaignSpec;if(!eb||(fb&&fb.bid_type))return;ba.handleUpdateFromServerResponse(Object.assign({actionType:i.BID_CHANGE,pricingID:l.CanonicalID},w.fromAPI(db.adgroupApiSpec)));}function bb(db){var eb=db.adgroupApiSpec;if(!eb)return null;var fb=v.getTrackingPixelIDs(eb.conversion_specs,eb.tracking_specs);if(!fb)return;ba.handleUpdateFromServerResponse({actionType:i.CONVERSION_PIXEL_CHANGE,pricingID:l.CanonicalID,conversionPixelID:''+fb});}function cb(db,eb){ba.handleUpdateFromServerResponse({actionType:i.INIT_DATA_RECEIVED});if(eb.adgroupApiSpec&&!eb.adgroupApiSpec.application_data)eb.adgroupApiSpec.application_data=db;var fb=null,gb=function(ib,jb){if(!fb)fb=ib;var kb={name:ib.name,msg:ib.message,section:jb,err:ib};if(q.init_data_log)kb.data=eb;r.log('adscreator_initial_data_err',{error:kb});};try{na(eb);oa(eb);}catch(hb){gb(hb,'account');}try{qa(eb);ta(eb);ua(eb);va(eb);}catch(hb){gb(hb,'creative_dest_obj');}try{wa(eb);}catch(hb){gb(hb,'targeting');}try{xa(eb);ya(eb);za(eb);}catch(hb){gb(hb,'campaign');}try{ab(eb);bb(eb);}catch(hb){gb(hb,'pricing_conv');}if(fb)throw fb;ba.handleUpdateFromServerResponse({actionType:i.INIT_DATA_LOADED});}e.exports={getDestinationInfo:pa,handleInitialData:cb};},null);
__d("AdsCFDependencySatisfier",["AdsAPISpec","ads-app-platforms","AdsCFActionTypes","AdsCFDestinationUtils","AdsCFInputAPIDataProcessor","AdsCFPendingObjectUtils","AdsCFPixelDataLoader","AdsCreativeConverter","AdsDestinationTypes","AdsDispatcher","AdsRunStatus","AdsVideoFetcher","PendingObjectService","URI","URIInitDataUtil","Promise","adsGKCheck","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';function y(){var ga=['id','account_id','name','start_time','end_time','lifetime_budget','daily_budget','campaign_status','budget_remaining','campaign_group_id','pacing_type','targeting','bid_type','bid_info','valid_bid_types','is_autobid','neko_has_mixed_promoted_objects','conversion_pixel_id','campaign_schedule','promoted_object'];if(w('ads_rotation_gk')){ga.push('creative_rotation_type');ga.push('creative_rotation_parameter');}return ga;}function z(ga,ha){return ga.fetch.objectByFBID.promiseOne({fbid:ha,fields:g.CAMPAIGN_GROUP_FIELDS});}function aa(ga,ha,ia,ja){var ka=y();if(ha)return ga.fetch.adgroupForCF.promiseOne({adgroupId:ha}).then(function(la){return v.allObject({adgroup:la,campaign:ga.fetch.objectByFBID.promiseOne({fbid:la.campaign_id,fields:ka}),campaignGroup:z(ga,la.campaign_group_id)});});if(ia)return ga.fetch.objectByFBID.promiseOne({fbid:ia,fields:ka}).then(function(la){return v.allObject({campaign:la,campaignGroup:z(ga,la.campaign_group_id)});});if(ja)return v.allObject({campaignGroup:z(ga,ja)});return {};}function ba(ga,ha){return ga&&ga.map(function(ia){var ja=ia.object_store_url;if(ia.type||(ja&&!ha)){return ia;}else if(ja){var ka=ha.object_store_urls||{},la=ha.mobile_store_object;!la&&Object.keys(ka).forEach(function(ma){if(ka[ma]===ja)la=ma;});ia.mobile_store=la;ia.mobile_store_content_id=h.getStoreObjectInfoFromMobileStore(ha.native_app_store_ids,ia.mobile_store).storeId;}return n.toLegacySpec(ia);});}function ca(ga,ha,ia,ja){if(ha){ga.fetch.objectByFBID.one(null,{fbid:ha});return ga.fetch.adsDestinationInfo.promiseOne({account_id:ja,object_id:ha}).then(function(ka){var la={objectSearch:ka};if(ka[0]&&(ka[0].type===o.PLACE||ka[0].type===o.PAGE))la.canEdit=j.promisePageEditRights(ga,ka[0].id);return v.allObject(la);});}else if(ia){return ga.fetch.adsDestinationInfo.promiseOne({object_url:ia}).then(function(ka){return {urlSearch:ka};});}else return null;}function da(ga,ha,ia){if(!ha)return {};return ga.fetch.creativesForAdgroupId.promiseOne({adgroupId:ha,fields:n.getModernFields()}).then(function(ja){ja=ba(ja);var ka={creatives:ja,temporaryImageURLsByHash:{}};ka.videos=v.all(ja.map(function(oa){var pa=oa.object_story_spec||{},qa=pa.video_data||{},ra=qa.video_id;return ra?r.promiseSingleVideo(ra):null;}).filter(x.thatReturnsArgument));var la=ja.map(function(oa){if(oa.image_hash){return oa.image_hash;}else if(oa.object_story_spec&&oa.object_story_spec.link_data)return oa.object_story_spec.link_data.image_hash;return null;}).filter(x.thatReturnsArgument);if(la.length>0)ka.temporaryImageURLsByHash=ga.fetch.imagesForAccount.promiseOne({fields:['hash','url'],hashes:la}).then(function(oa){var pa={};oa.forEach(function(qa){pa[qa.hash]=qa.url;});return pa;});if(ja[0].story_id&&ja[0].object_id!=ia){var ma=ja[0].object_id,na=ja[0].story_id;ka.pagePost=ga.fetch.pagePostDetails.promiseOne({storyId:na,pageId:ma});ka.feedPage=ga.fetch.objectByFBID.promiseOne({fbid:ma});}return v.allObject(ka);});}function ea(ga,ha){var ia=ha.uri||t(window.location.href),ja=ia.getQueryData(),ka=ja.adgroupId||ja.adgroup_id,la=ha.destinationId||ja.fbid,ma=ha.destinationUrl||ja.desturl,na=l.getPendingObjectID();return v.allObject({adObjects:aa(ga,ja.adgroupId||ja.adgroup_id,u.getDefaultCampaignID()||ja.ad_set,u.getDefaultCampaignGroupID()),account:ga.fetch.accountInfo.promiseOne(),campaigns:ga.fetch.campaignsForAccount.promiseOne({fields:y(),include_completed:0,campaign_status:[q.ACTIVE,q.PAUSED,q.CAMPAIGN_GROUP_PAUSED],limit:500}),destination:ca(ga,la,ma,ja.act),creativeData:da(ga,ka,la),pendingObject:na?s.promisePendingObject(na):null}).then(function(oa){var pa=oa.campaigns,qa=oa.adObjects.campaign;if(qa&&pa)pa[qa.id]=qa;var ra=oa.creativeData,sa=k.getDestinationInfo(oa),ta=ba(ra.creatives,sa),ua={accountApiSpec:oa.account,adgroupApiCreativeSpecs:ta,pagePost:ra.pagePost,feedPage:ra.feedPage,campaigns:pa,adgroupApiSpec:oa.adObjects.adgroup,campaignSpec:oa.adObjects.campaign,campaignGroupSpec:oa.adObjects.campaignGroup,destination:oa.destination,temporaryImageURLsByHash:ra.temporaryImageURLsByHash,videos:ra.videos},va=oa.pendingObject;if(va){ua.adgroupApiSpec=va.adApiSpec;ua.adgroupApiSpec.fromPendingObject=true;ua.temporaryImageURLsByHash={};}else{ta=ua.adgroupApiCreativeSpecs;if(ta&&ta.length===1)ua.adgroupApiSpec.creative=ua.adgroupApiCreativeSpecs[0];delete ua.adgroupApiCreativeSpecs;}if(!ja.edit&&ua.adgroupApiSpec){ua.originalAdgroupId=ua.adgroupApiSpec.adgroup_id;delete ua.adgroupApiSpec.adgroup_id;}return ua;}).then(function(oa){ga.fetch.connectionObjectsForAccount.one();ga.fetch.audiencesForAccount.one();m.loadPixels(oa.accountApiSpec.account_id);return oa;});}function fa(ga,ha,ia){ea(ga,ha).then(ia).then((void 0),function(ja){p.handleUpdateFromServerResponse({actionType:i.INIT_DATA_FETCH_ERROR,error:ja});});}e.exports={callWhenDataReady:fa};},null);
__d("AdsCFCreationController",["AdsAdblockWarning.react","AdsBaseCreationController","AdsCFAccountErrorHeader.react","AdsCFAccountHeader.react","AdsCFAccountStore","AdsCFActionTypes","AdsCFApplicationStore","AdsCFCampaignGroupLoader","AdsCFConnectConfig","AdsCFConstants","AdsCFCouponCode","AdsCFCreationSources","AdsCFDependencySatisfier","AdsCFDestinationStore","AdsCFDialogNavigationMenu.react","AdsCFInfoHeader","AdsCFInputAPIDataProcessor","AdsCFNotices","AdsCFObjectiveConfirmationStore","AdsCFObjectiveStore","AdsCFPendingAdPrompt.react","AdsCFPrimedDao","AdsCFSectionLoader.react","AdsDispatcher","AtlasPixel.react","GraphAPI","React","Run","URIInitDataUtil","WebApiApplication","AdsCFCampaignStore","curry","cx","fbt","isNumberLike","ads-objectives"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa){'use strict';var pa=b('ads-objectives').KPIObjectives;ja.init(o.access_token,o.client_id);for(var qa in h)if(h.hasOwnProperty(qa))sa[qa]=h[qa];var ra=h===null?null:h.prototype;sa.prototype=Object.create(ra);sa.prototype.constructor=sa;sa.__superConstructor__=h;function sa(ta,ua,va){fa.setErrorHandler(function(wa){da.handleUpdateFromServerResponse({actionType:l.AD_API_ERROR,error:wa&&wa.error&&wa.error.message});});h.call(this,ta,ua,va);ha.onBeforeUnload(function(event){if(!this.shouldAllowUnload())return "You have unsaved changes to your advert.";}.bind(this));}sa.prototype.getCreationSource=function(){return r.CF;};sa.prototype.isDraftEnabled=function(){return false;};sa.prototype.getScrollContainer=function(){return window;};sa.prototype.render=function(){var ta=m.getCurrentMode(),ua=m.getShowMode();if(!ua)document.title=p.DocumentTitles[ta];switch(ta){case p.CreateMode.EDIT_EXISTING_CAMPAIGN:return this.renderCampaignEditFlow();case p.CreateMode.EDIT_EXISTING:if(ua)return this.renderTabbedEditFlow();return this.renderEditFlow();case p.CreateMode.CREATE_SIMILAR:if(ua==='targeting'&&!ka.getSelectedCampaignState().targeting){return this.renderTargetingOnlyFlow();}else if(ua==='creative')return this.renderCreativeOnlyFlow();return this.renderCreateFlow();case p.CreateMode.CREATE_NEW_CAMPAIGN_GROUP:case p.CreateMode.CREATE_NEW_CAMPAIGN:case p.CreateMode.CREATE_NEW_AD_GROUP:return this.renderCreateFlow();}};sa.prototype.renderEditFlow=function(){var ta=z.getKPIObjective(),ua,va;if(t.hasDestination()){ua=this.renderObjectiveSection();if(ta===pa.LOCAL_AWARENESS){va=[ga.createElement(ca,{component:"AdsCFLocalTargetingSection",key:"localTargeting"}),ga.createElement(ca,{component:"AdsCFCreativeSection",key:"creative"}),this.renderPlaceOrder(),this.renderDebugger()];}else va=[ga.createElement(ca,{component:"AdsCFCreativeSection",key:"creative"}),ga.createElement(ca,{component:"AdsCFTargetingShellSection",key:"targeting"}),ga.createElement(ca,{component:"AdsCFCampaignPricingSection",key:"pricing"}),this.renderPlaceOrder(),this.renderDebugger()];}var wa=ga.createElement("div",{className:"_5ddi"},ga.createElement(j,null),ga.createElement(i,null),ga.createElement(g,null),ua,va);wa=ga.render(wa,this.getRoot());};sa.prototype.renderTabbedEditFlow=function(){var ta=z.getKPIObjective(),ua;if(t.hasDestination())if(ta===pa.LOCAL_AWARENESS){ua=[ga.createElement(ca,{component:"AdsCFLocalTargetingSection",key:"localTargeting"}),ga.createElement(ca,{component:"AdsCFCreativeSection",key:"creative"}),this.renderPlaceOrder(),this.renderDebugger()];}else{ua=[ga.createElement(ca,{component:"AdsCFCreativeSection",key:"creative"})];var va=ka.getSelectedCampaignState();if(va.id!==p.NEW_CAMPAIGN_ID&&!va.targeting)ua.push(ga.createElement(ca,{component:"AdsCFTargetingShellSection",key:"targeting"}));if(va.id!==p.NEW_CAMPAIGN_ID&&!va.pricing)ua.push(ga.createElement(ca,{component:"AdsCFCampaignPricingSection",key:"pricing"}));ua.push(this.renderPlaceOrder(),this.renderDebugger());}var wa=ga.createElement("div",{className:"_5ddi"},ga.createElement(u,null),ga.createElement(i,null),ua);wa=ga.render(wa,this.getRoot());};sa.prototype.renderCampaignEditFlow=function(){var ta;if(k.getState().currency&&ka.getSelectedCampaignState().campaignID!==p.NEW_CAMPAIGN_ID){var ua,va=z.getKPIObjective();if(va===pa.LOCAL_AWARENESS){ua=(ga.createElement(ca,{component:"AdsCFLocalTargetingSection",key:"localTargeting"}));}else ua=(ga.createElement(ca,{component:"AdsCFTargetingShellSection",key:"targeting"}));ta=[ua,ga.createElement(ca,{component:"AdsCFCampaignPricingSection",key:"pricing"}),this.renderPlaceOrder(),this.renderDebugger()];}ga.render(ga.createElement("div",{className:"_5ddi uiContextualLayerParent"},ga.createElement(u,null),ga.createElement(i,null),ta),this.getRoot());};sa.prototype.renderTargetingOnlyFlow=function(){ga.render(ga.createElement("div",{className:"_5ddi"},ga.createElement(ca,{component:"AdsCFTargetingShellSection",key:"targeting"}),this.renderPlaceOrder()),this.getRoot());};sa.prototype.renderCreativeOnlyFlow=function(){ga.render(ga.createElement("div",{className:"_5ddi"},ga.createElement(ca,{component:"AdsCFCreativeSection"}),this.renderPlaceOrder()),this.getRoot());};sa.prototype.renderPricingOnlyFlow=function(){var ta;if(t.hasDestination())ta=[ga.createElement(ca,{component:"AdsCFCampaignPricingSection",key:"pricing"}),this.renderPlaceOrder()];var ua=ga.createElement("div",{className:"_5ddi"},ta);ga.render(ua,this.getRoot());};sa.prototype.loadAPIData=function(){var ta=k.getAccountID(),ua=this.getApplicationData().object_id,va=this.getApplicationData().object_url;if(!ua&&va&&oa(va)){ua=va;va=null;}s.callWhenDataReady(ba.getInstanceForAccount(ta),{destinationUrl:va,destinationId:ua,uri:m.getURI()},la(w.handleInitialData,this.getApplicationData()));n.loadAll();};sa.prototype.renderCreateFlow=function(){var ta=this.canContinue(),ua,va=t.hasDestination(),wa=ta&&y.getIsKPIObjectiveConfirmed(),xa=false;if(wa){ua=this.renderConditionalSections();}else if(!va&&!t.hasLoadedInitialDestinationDetails()&&(!m.isCreatingNew()||m.getPendingObjectID()||ia.getDefaultDestinationID()))xa=true;var ya;if(m.isCreatingSimilar())ya=x.renderCreateSimilarHeader();var za;if(q.getCouponCode()||q.isCouponError())za=x.renderCouponCodeNotice();var ab;if(!xa)ab=this.renderObjectiveSection();var bb=ga.createElement("div",{className:"_5ddi"},ga.createElement(j,null),ga.createElement(v,null),ga.createElement(aa,null),ga.createElement(i,null),ga.createElement(g,null),ya,za,ab,ua,ga.createElement(ea,{accountID:k.getAccountID(),step:1}));ga.render(bb,this.getRoot());};e.exports=sa;},null);